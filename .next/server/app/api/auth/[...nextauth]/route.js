"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_jacob_Desktop_vidfab_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"/Users/jacob/Desktop/vidfab/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_jacob_Desktop_vidfab_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/[...nextauth]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmphY29iJTJGRGVza3RvcCUyRnZpZGZhYiUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZqYWNvYiUyRkRlc2t0b3AlMkZ2aWRmYWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8/Yjk1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvamFjb2IvRGVza3RvcC92aWRmYWIvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9qYWNvYi9EZXNrdG9wL3ZpZGZhYi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/[...nextauth]/route.ts":
/*!*********************************************!*\
  !*** ./app/api/auth/[...nextauth]/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _auth_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/auth/config */ \"(rsc)/./auth/config.ts\");\n/**\n * NextAuth API Route Handler for VidFab AI Video Platform - NextAuth 4.x\n */ \n\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(_auth_config__WEBPACK_IMPORTED_MODULE_1__.authConfig);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztDQUVDLEdBQytCO0FBQ1U7QUFHMUMsTUFBTUUsVUFBVUYsZ0RBQVFBLENBQUNDLG9EQUFVQTtBQUVPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlLnRzP2M4YTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOZXh0QXV0aCBBUEkgUm91dGUgSGFuZGxlciBmb3IgVmlkRmFiIEFJIFZpZGVvIFBsYXRmb3JtIC0gTmV4dEF1dGggNC54XG4gKi9cbmltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoXCJcbmltcG9ydCB7IGF1dGhDb25maWcgfSBmcm9tIFwiQC9hdXRoL2NvbmZpZ1wiXG5pbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tIFwibmV4dC1hdXRoXCJcblxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhDb25maWcgYXMgTmV4dEF1dGhPcHRpb25zKVxuXG5leHBvcnQgeyBoYW5kbGVyIGFzIEdFVCwgaGFuZGxlciBhcyBQT1NUIH0iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJhdXRoQ29uZmlnIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./auth/config.ts":
/*!************************!*\
  !*** ./auth/config.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authConfig: () => (/* binding */ authConfig),\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   providerMap: () => (/* binding */ providerMap)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _lib_ip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/ip */ \"(rsc)/./lib/ip.ts\");\n/* harmony import */ var _lib_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/time */ \"(rsc)/./lib/time.ts\");\n/* harmony import */ var _lib_hash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hash */ \"(rsc)/./lib/hash.ts\");\n/**\n * NextAuth Configuration for VidFab AI Video Platform\n */ \n\n\n\n\nlet providers = [];\n// Verification Code Login Provider\nproviders.push((0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    id: \"verification-code\",\n    name: \"verification-code\",\n    credentials: {\n        email: {\n            type: \"email\"\n        },\n        token: {\n            type: \"text\"\n        }\n    },\n    async authorize (credentials) {\n        if (!credentials?.email || !credentials?.token) return null;\n        const email = credentials.email;\n        const token = credentials.token;\n        // Validate the verification token (generated by verification API)\n        if (token.startsWith(\"verified-\")) {\n            // Trust that the verification API has already validated the code\n            // Generate deterministic UUID based on email for consistent user identity\n            return {\n                id: (0,_lib_hash__WEBPACK_IMPORTED_MODULE_4__.getUserUuidFromEmail)(email),\n                email: email,\n                name: email.split(\"@\")[0]\n            };\n        }\n        return null;\n    }\n}));\n// Google One Tap Authentication\nif (true) {\n    providers.push((0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        id: \"google-one-tap\",\n        name: \"google-one-tap\",\n        credentials: {\n            credential: {\n                type: \"text\"\n            }\n        },\n        async authorize (credentials, req) {\n            const googleClientId = \"827684711935-so1rhvk9iu5a86f9ko0bik020v8v9jgn.apps.googleusercontent.com\";\n            if (!googleClientId) {\n                console.error(\"Invalid Google auth config\");\n                return null;\n            }\n            const token = credentials.credential;\n            try {\n                const response = await fetch(\"https://oauth2.googleapis.com/tokeninfo?id_token=\" + token);\n                if (!response.ok) {\n                    console.error(\"Failed to verify token\");\n                    return null;\n                }\n                const payload = await response.json();\n                if (!payload) {\n                    console.error(\"Invalid payload from token\");\n                    return null;\n                }\n                const { email, sub, given_name, family_name, email_verified, picture: image } = payload;\n                if (!email) {\n                    console.error(\"Invalid email in payload\");\n                    return null;\n                }\n                const user = {\n                    id: sub,\n                    name: [\n                        given_name,\n                        family_name\n                    ].join(\" \").trim(),\n                    email,\n                    image,\n                    emailVerified: email_verified ? new Date() : null\n                };\n                return user;\n            } catch (error) {\n                console.error(\"Google One Tap auth error:\", error);\n                return null;\n            }\n        }\n    }));\n}\n// Standard Google OAuth\nif ( true && process.env.AUTH_GOOGLE_ID && process.env.AUTH_GOOGLE_SECRET) {\n    providers.push((0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        clientId: process.env.AUTH_GOOGLE_ID,\n        clientSecret: process.env.AUTH_GOOGLE_SECRET\n    }));\n}\nconst providerMap = providers.map((provider)=>{\n    if (typeof provider === \"function\") {\n        const providerData = provider();\n        return {\n            id: providerData.id,\n            name: providerData.name\n        };\n    } else {\n        return {\n            id: provider.id,\n            name: provider.name\n        };\n    }\n}).filter((provider)=>provider.id !== \"google-one-tap\"); // Hide One Tap from UI\nconst authConfig = {\n    providers,\n    basePath: \"/api/auth\",\n    pages: {\n        signIn: \"/login\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    trustHost: true,\n    debug: \"development\" === \"development\",\n    // Added for Docker environment compatibility\n    useSecureCookies:  false && 0,\n    cookies: {\n        sessionToken: {\n            name: `next-auth.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure:  false && 0,\n                domain: process.env.DOCKER_ENVIRONMENT ? undefined : undefined\n            }\n        }\n    },\n    callbacks: {\n        async signIn ({ user, account, profile }) {\n            try {\n                console.log(\"\\uD83D\\uDD10 SignIn callback triggered:\", {\n                    provider: account?.provider,\n                    type: account?.type,\n                    email: user?.email,\n                    dockerEnv: !!process.env.DOCKER_ENVIRONMENT\n                });\n                // Additional validation for Google providers\n                if (account?.provider === \"google\" || account?.provider === \"google-one-tap\") {\n                    if (!user?.email) {\n                        console.error(\"‚ùå Google sign-in missing email\");\n                        return false;\n                    }\n                    console.log(\"‚úÖ Google sign-in validated\");\n                }\n                return true;\n            } catch (error) {\n                console.error(\"‚ùå SignIn callback error:\", error);\n                return false;\n            }\n        },\n        async redirect ({ url, baseUrl }) {\n            // Handle redirects after authentication\n            try {\n                // In Docker environment, handle localhost URLs\n                if (process.env.DOCKER_ENVIRONMENT && url.includes(\"localhost\")) {\n                    // Replace container internal URLs with accessible URLs\n                    url = url.replace(\"http://localhost:\", `http://localhost:`);\n                }\n                // Allow relative callback URLs\n                if (url.startsWith(\"/\")) {\n                    return `${baseUrl}${url}`;\n                }\n                // Allow callback URLs on the same origin\n                const urlObj = new URL(url);\n                const baseUrlObj = new URL(baseUrl);\n                if (urlObj.origin === baseUrlObj.origin) {\n                    return url;\n                }\n                // Special handling for Docker environment\n                if (process.env.DOCKER_ENVIRONMENT) {\n                    const dockerBaseUrl = process.env.NEXTAUTH_URL || baseUrl;\n                    if (url.startsWith(\"/\")) {\n                        return `${dockerBaseUrl}${url}`;\n                    }\n                }\n            } catch (error) {\n                console.error(\"‚ùå Invalid URL in redirect:\", {\n                    url,\n                    baseUrl,\n                    error\n                });\n            }\n            return `${baseUrl}/create`; // Default redirect to create page\n        },\n        async session ({ session, token }) {\n            // Add custom user data to session\n            if (token && token.user) {\n                session.user = {\n                    ...session.user,\n                    ...token.user\n                };\n            }\n            return session;\n        },\n        async jwt ({ token, user, account }) {\n            try {\n                // Handle user creation/update on first sign in\n                if (user && user.email && account) {\n                    // Import saveUser service\n                    const { saveUser, updateLastLogin } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@supabase\"), __webpack_require__.e(\"vendor-chunks/tr46\"), __webpack_require__.e(\"vendor-chunks/whatwg-url\"), __webpack_require__.e(\"vendor-chunks/webidl-conversions\"), __webpack_require__.e(\"_rsc_services_user_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/services/user */ \"(rsc)/./services/user.ts\"));\n                    const userData = {\n                        email: user.email,\n                        nickname: user.name || user.email.split(\"@\")[0],\n                        avatar_url: user.image || \"\",\n                        signin_type: account.type,\n                        signin_provider: account.provider === \"google-one-tap\" ? \"google\" : account.provider,\n                        signin_openid: account.providerAccountId,\n                        email_verified: true,\n                        signin_ip: await (0,_lib_ip__WEBPACK_IMPORTED_MODULE_2__.getClientIp)()\n                    };\n                    try {\n                        const savedUser = await saveUser(userData);\n                        // Update last login\n                        await updateLastLogin(savedUser.uuid, await (0,_lib_ip__WEBPACK_IMPORTED_MODULE_2__.getClientIp)());\n                        token.user = {\n                            uuid: savedUser.uuid,\n                            email: savedUser.email,\n                            nickname: savedUser.nickname,\n                            avatar_url: savedUser.avatar_url,\n                            created_at: savedUser.created_at\n                        };\n                    } catch (saveError) {\n                        console.error(\"Failed to save user:\", saveError);\n                        // Fallback to basic token data with deterministic UUID\n                        token.user = {\n                            uuid: (0,_lib_hash__WEBPACK_IMPORTED_MODULE_4__.getUserUuidFromEmail)(user.email),\n                            email: user.email,\n                            nickname: user.name || user.email.split(\"@\")[0],\n                            avatar_url: user.image || \"\",\n                            created_at: (0,_lib_time__WEBPACK_IMPORTED_MODULE_3__.getIsoTimestr)()\n                        };\n                    }\n                }\n                // üî• Á°Æ‰øùÊØèÊ¨°ÁôªÂΩïÈÉΩÈ™åËØÅÁî®Êà∑Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂ≠òÂú®ÊÄß\n                if (token.user && token.user.uuid && token.user.email) {\n                    try {\n                        const { getUserByUuid, saveUser } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@supabase\"), __webpack_require__.e(\"vendor-chunks/tr46\"), __webpack_require__.e(\"vendor-chunks/whatwg-url\"), __webpack_require__.e(\"vendor-chunks/webidl-conversions\"), __webpack_require__.e(\"_rsc_services_user_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/services/user */ \"(rsc)/./services/user.ts\"));\n                        const existingUser = await getUserByUuid(token.user.uuid);\n                        if (!existingUser) {\n                            console.log(`üîß Áî®Êà∑‰∏çÂ≠òÂú®‰∫éÊï∞ÊçÆÂ∫ìÔºåÈáçÊñ∞ÂàõÂª∫: ${token.user.uuid}`);\n                            // Áî®Êà∑‰∏çÂ≠òÂú®ÔºåÈáçÊñ∞ÂàõÂª∫\n                            const userData = {\n                                email: token.user.email,\n                                nickname: token.user.nickname || token.user.email.split(\"@\")[0],\n                                avatar_url: token.user.avatar_url || \"\",\n                                signin_type: \"credentials\",\n                                signin_provider: \"verification-code\",\n                                signin_openid: token.user.uuid,\n                                email_verified: true,\n                                signin_ip: await (0,_lib_ip__WEBPACK_IMPORTED_MODULE_2__.getClientIp)()\n                            };\n                            await saveUser(userData);\n                            console.log(`‚úÖ Áî®Êà∑ÈáçÊñ∞ÂàõÂª∫ÊàêÂäü: ${token.user.uuid}`);\n                        }\n                    } catch (error) {\n                        console.error(\"JWTÁî®Êà∑È™åËØÅÂ§±Ë¥•:\", error);\n                    }\n                }\n                return token;\n            } catch (error) {\n                console.error(\"JWT callback error:\", error);\n                return token;\n            }\n        }\n    },\n    events: {\n        async signIn ({ user, account, profile, isNewUser }) {},\n        async signOut ({ token, session }) {}\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n// Legacy export for compatibility\nconst authOptions = authConfig;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0NBQ2ZoRixPQUFPRSxNQUFNd0IsSUFBSSxDQUFDMUIsS0FBSztnQ0FDdkJpRixVQUFVL0UsTUFBTXdCLElBQUksQ0FBQ3VELFFBQVEsSUFBSS9FLE1BQU13QixJQUFJLENBQUMxQixLQUFLLENBQUNLLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtnQ0FDL0Q2RSxZQUFZaEYsTUFBTXdCLElBQUksQ0FBQ3dELFVBQVUsSUFBSTtnQ0FDckNDLGFBQWE7Z0NBQ2JDLGlCQUFpQjtnQ0FDakJDLGVBQWVuRixNQUFNd0IsSUFBSSxDQUFDK0QsSUFBSTtnQ0FDOUJsRSxnQkFBZ0I7Z0NBQ2hCZ0UsV0FBVyxNQUFNL0Ysb0RBQVdBOzRCQUM5Qjs0QkFFQSxNQUFNc0YsU0FBU0U7NEJBQ2ZuRSxRQUFRbUQsR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFOUQsTUFBTXdCLElBQUksQ0FBQytELElBQUksQ0FBQyxDQUFDO3dCQUM5QztvQkFDRixFQUFFLE9BQU8zRSxPQUFPO3dCQUNkRCxRQUFRQyxLQUFLLENBQUMsY0FBY0E7b0JBQzlCO2dCQUNGO2dCQUVBLE9BQU9aO1lBQ1QsRUFBRSxPQUFPWSxPQUFPO2dCQUNkRCxRQUFRQyxLQUFLLENBQUMsdUJBQXVCQTtnQkFDckMsT0FBT1o7WUFDVDtRQUNGO0lBQ0Y7SUFDQTRGLFFBQVE7UUFDTixNQUFNbEQsUUFBTyxFQUFFbEIsSUFBSSxFQUFFb0MsT0FBTyxFQUFFQyxPQUFPLEVBQUVnQyxTQUFTLEVBQUUsR0FDbEQ7UUFDQSxNQUFNQyxTQUFRLEVBQUU5RixLQUFLLEVBQUUyQyxPQUFPLEVBQUUsR0FDaEM7SUFDRjtJQUNBb0QsUUFBUTNGLFFBQVFDLEdBQUcsQ0FBQzJGLGVBQWU7QUFDckMsRUFBRTtBQUVGLGtDQUFrQztBQUMzQixNQUFNQyxjQUFjMUQsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9hdXRoL2NvbmZpZy50cz9mZjhjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTmV4dEF1dGggQ29uZmlndXJhdGlvbiBmb3IgVmlkRmFiIEFJIFZpZGVvIFBsYXRmb3JtXG4gKi9cbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlXCI7XG5pbXBvcnQgeyBOZXh0QXV0aENvbmZpZyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvaW5kZXhcIjtcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiQC90eXBlcy91c2VyXCI7XG5pbXBvcnQgeyBnZXRDbGllbnRJcCB9IGZyb20gXCJAL2xpYi9pcFwiO1xuaW1wb3J0IHsgZ2V0SXNvVGltZXN0ciB9IGZyb20gXCJAL2xpYi90aW1lXCI7XG5pbXBvcnQgeyBnZXRVdWlkLCBnZXRVc2VyVXVpZEZyb21FbWFpbCB9IGZyb20gXCJAL2xpYi9oYXNoXCI7XG5cbmxldCBwcm92aWRlcnM6IFByb3ZpZGVyW10gPSBbXTtcblxuLy8gVmVyaWZpY2F0aW9uIENvZGUgTG9naW4gUHJvdmlkZXJcbnByb3ZpZGVycy5wdXNoKFxuICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICBpZDogXCJ2ZXJpZmljYXRpb24tY29kZVwiLFxuICAgIG5hbWU6IFwidmVyaWZpY2F0aW9uLWNvZGVcIixcbiAgICBjcmVkZW50aWFsczoge1xuICAgICAgZW1haWw6IHsgdHlwZTogXCJlbWFpbFwiIH0sXG4gICAgICB0b2tlbjogeyB0eXBlOiBcInRleHRcIiB9XG4gICAgfSxcbiAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8udG9rZW4pIHJldHVybiBudWxsO1xuXG4gICAgICBjb25zdCBlbWFpbCA9IGNyZWRlbnRpYWxzLmVtYWlsIGFzIHN0cmluZztcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbHMudG9rZW4gYXMgc3RyaW5nO1xuXG4gICAgICAvLyBWYWxpZGF0ZSB0aGUgdmVyaWZpY2F0aW9uIHRva2VuIChnZW5lcmF0ZWQgYnkgdmVyaWZpY2F0aW9uIEFQSSlcbiAgICAgIGlmICh0b2tlbi5zdGFydHNXaXRoKCd2ZXJpZmllZC0nKSkge1xuICAgICAgICAvLyBUcnVzdCB0aGF0IHRoZSB2ZXJpZmljYXRpb24gQVBJIGhhcyBhbHJlYWR5IHZhbGlkYXRlZCB0aGUgY29kZVxuICAgICAgICAvLyBHZW5lcmF0ZSBkZXRlcm1pbmlzdGljIFVVSUQgYmFzZWQgb24gZW1haWwgZm9yIGNvbnNpc3RlbnQgdXNlciBpZGVudGl0eVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBnZXRVc2VyVXVpZEZyb21FbWFpbChlbWFpbCksIC8vIFVzZSBkZXRlcm1pbmlzdGljIFVVSUQgYmFzZWQgb24gZW1haWxcbiAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgbmFtZTogZW1haWwuc3BsaXQoJ0AnKVswXSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgfSlcbik7XG5cbi8vIEdvb2dsZSBPbmUgVGFwIEF1dGhlbnRpY2F0aW9uXG5pZiAoXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FVVEhfR09PR0xFX09ORV9UQVBfRU5BQkxFRCA9PT0gXCJ0cnVlXCIgJiZcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVVUSF9HT09HTEVfSURcbikge1xuICBwcm92aWRlcnMucHVzaChcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIGlkOiBcImdvb2dsZS1vbmUtdGFwXCIsXG4gICAgICBuYW1lOiBcImdvb2dsZS1vbmUtdGFwXCIsXG5cbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGNyZWRlbnRpYWw6IHsgdHlwZTogXCJ0ZXh0XCIgfSxcbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscywgcmVxKSB7XG4gICAgICAgIGNvbnN0IGdvb2dsZUNsaWVudElkID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVVUSF9HT09HTEVfSUQ7XG4gICAgICAgIGlmICghZ29vZ2xlQ2xpZW50SWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBHb29nbGUgYXV0aCBjb25maWdcIik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWxzIS5jcmVkZW50aWFsO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgIFwiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW5pbmZvP2lkX3Rva2VuPVwiICsgdG9rZW5cbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdmVyaWZ5IHRva2VuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBpZiAoIXBheWxvYWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHBheWxvYWQgZnJvbSB0b2tlblwiKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgc3ViLFxuICAgICAgICAgICAgZ2l2ZW5fbmFtZSxcbiAgICAgICAgICAgIGZhbWlseV9uYW1lLFxuICAgICAgICAgICAgZW1haWxfdmVyaWZpZWQsXG4gICAgICAgICAgICBwaWN0dXJlOiBpbWFnZSxcbiAgICAgICAgICB9ID0gcGF5bG9hZDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWVtYWlsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBlbWFpbCBpbiBwYXlsb2FkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgICAgIGlkOiBzdWIsXG4gICAgICAgICAgICBuYW1lOiBbZ2l2ZW5fbmFtZSwgZmFtaWx5X25hbWVdLmpvaW4oXCIgXCIpLnRyaW0oKSxcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBlbWFpbF92ZXJpZmllZCA/IG5ldyBEYXRlKCkgOiBudWxsLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiR29vZ2xlIE9uZSBUYXAgYXV0aCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG59XG5cbi8vIFN0YW5kYXJkIEdvb2dsZSBPQXV0aFxuaWYgKFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BVVRIX0dPT0dMRV9FTkFCTEVEID09PSBcInRydWVcIiAmJlxuICBwcm9jZXNzLmVudi5BVVRIX0dPT0dMRV9JRCAmJlxuICBwcm9jZXNzLmVudi5BVVRIX0dPT0dMRV9TRUNSRVRcbikge1xuICBwcm92aWRlcnMucHVzaChcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuQVVUSF9HT09HTEVfSUQsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkFVVEhfR09PR0xFX1NFQ1JFVCxcbiAgICB9KVxuICApO1xufVxuXG5leHBvcnQgY29uc3QgcHJvdmlkZXJNYXAgPSBwcm92aWRlcnNcbiAgLm1hcCgocHJvdmlkZXIpID0+IHtcbiAgICBpZiAodHlwZW9mIHByb3ZpZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHByb3ZpZGVyKCk7XG4gICAgICByZXR1cm4geyBpZDogcHJvdmlkZXJEYXRhLmlkLCBuYW1lOiBwcm92aWRlckRhdGEubmFtZSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBpZDogcHJvdmlkZXIuaWQsIG5hbWU6IHByb3ZpZGVyLm5hbWUgfTtcbiAgICB9XG4gIH0pXG4gIC5maWx0ZXIoKHByb3ZpZGVyKSA9PiBwcm92aWRlci5pZCAhPT0gXCJnb29nbGUtb25lLXRhcFwiKTsgLy8gSGlkZSBPbmUgVGFwIGZyb20gVUlcblxuZXhwb3J0IGNvbnN0IGF1dGhDb25maWc6IE5leHRBdXRoQ29uZmlnID0ge1xuICBwcm92aWRlcnMsXG4gIGJhc2VQYXRoOiBcIi9hcGkvYXV0aFwiLFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogXCIvbG9naW5cIiwgLy8gVXBkYXRlZCB0byBtYXRjaCBvdXIgcm91dGUgc3RydWN0dXJlXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogXCJqd3RcIixcbiAgICBtYXhBZ2U6IDMwICogMjQgKiA2MCAqIDYwLCAvLyAzMCBkYXlzXG4gIH0sXG4gIHRydXN0SG9zdDogdHJ1ZSwgLy8gUmVxdWlyZWQgZm9yIERvY2tlciBhbmQgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHNcbiAgZGVidWc6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLFxuICAvLyBBZGRlZCBmb3IgRG9ja2VyIGVudmlyb25tZW50IGNvbXBhdGliaWxpdHlcbiAgdXNlU2VjdXJlQ29va2llczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyAmJiAhcHJvY2Vzcy5lbnYuRE9DS0VSX0VOVklST05NRU5ULFxuICBjb29raWVzOiB7XG4gICAgc2Vzc2lvblRva2VuOiB7XG4gICAgICBuYW1lOiBgbmV4dC1hdXRoLnNlc3Npb24tdG9rZW5gLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgIXByb2Nlc3MuZW52LkRPQ0tFUl9FTlZJUk9OTUVOVCxcbiAgICAgICAgZG9tYWluOiBwcm9jZXNzLmVudi5ET0NLRVJfRU5WSVJPTk1FTlQgPyB1bmRlZmluZWQgOiB1bmRlZmluZWRcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciwgYWNjb3VudCwgcHJvZmlsZSB9KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UkCBTaWduSW4gY2FsbGJhY2sgdHJpZ2dlcmVkOicsIHtcbiAgICAgICAgICBwcm92aWRlcjogYWNjb3VudD8ucHJvdmlkZXIsXG4gICAgICAgICAgdHlwZTogYWNjb3VudD8udHlwZSxcbiAgICAgICAgICBlbWFpbDogdXNlcj8uZW1haWwsXG4gICAgICAgICAgZG9ja2VyRW52OiAhIXByb2Nlc3MuZW52LkRPQ0tFUl9FTlZJUk9OTUVOVFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGRpdGlvbmFsIHZhbGlkYXRpb24gZm9yIEdvb2dsZSBwcm92aWRlcnNcbiAgICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSAnZ29vZ2xlJyB8fCBhY2NvdW50Py5wcm92aWRlciA9PT0gJ2dvb2dsZS1vbmUtdGFwJykge1xuICAgICAgICAgIGlmICghdXNlcj8uZW1haWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBHb29nbGUgc2lnbi1pbiBtaXNzaW5nIGVtYWlsJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgR29vZ2xlIHNpZ24taW4gdmFsaWRhdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgU2lnbkluIGNhbGxiYWNrIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIGFzeW5jIHJlZGlyZWN0KHsgdXJsLCBiYXNlVXJsIH0pIHtcbiAgICAgIC8vIEhhbmRsZSByZWRpcmVjdHMgYWZ0ZXIgYXV0aGVudGljYXRpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEluIERvY2tlciBlbnZpcm9ubWVudCwgaGFuZGxlIGxvY2FsaG9zdCBVUkxzXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5ET0NLRVJfRU5WSVJPTk1FTlQgJiYgdXJsLmluY2x1ZGVzKCdsb2NhbGhvc3QnKSkge1xuICAgICAgICAgIC8vIFJlcGxhY2UgY29udGFpbmVyIGludGVybmFsIFVSTHMgd2l0aCBhY2Nlc3NpYmxlIFVSTHNcbiAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnaHR0cDovL2xvY2FsaG9zdDonLCBgaHR0cDovL2xvY2FsaG9zdDpgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsbG93IHJlbGF0aXZlIGNhbGxiYWNrIFVSTHNcbiAgICAgICAgaWYgKHVybC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgIHJldHVybiBgJHtiYXNlVXJsfSR7dXJsfWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbGxvdyBjYWxsYmFjayBVUkxzIG9uIHRoZSBzYW1lIG9yaWdpblxuICAgICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIGNvbnN0IGJhc2VVcmxPYmogPSBuZXcgVVJMKGJhc2VVcmwpO1xuICAgICAgICBpZiAodXJsT2JqLm9yaWdpbiA9PT0gYmFzZVVybE9iai5vcmlnaW4pIHtcbiAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgRG9ja2VyIGVudmlyb25tZW50XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5ET0NLRVJfRU5WSVJPTk1FTlQpIHtcbiAgICAgICAgICBjb25zdCBkb2NrZXJCYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8IGJhc2VVcmw7XG4gICAgICAgICAgaWYgKHVybC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke2RvY2tlckJhc2VVcmx9JHt1cmx9YDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBJbnZhbGlkIFVSTCBpbiByZWRpcmVjdDonLCB7IHVybCwgYmFzZVVybCwgZXJyb3IgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgJHtiYXNlVXJsfS9jcmVhdGVgOyAvLyBEZWZhdWx0IHJlZGlyZWN0IHRvIGNyZWF0ZSBwYWdlXG4gICAgfSxcbiAgICBcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgLy8gQWRkIGN1c3RvbSB1c2VyIGRhdGEgdG8gc2Vzc2lvblxuICAgICAgaWYgKHRva2VuICYmIHRva2VuLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyID0ge1xuICAgICAgICAgIC4uLnNlc3Npb24udXNlcixcbiAgICAgICAgICAuLi50b2tlbi51c2VyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICAgIFxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCBhY2NvdW50IH0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEhhbmRsZSB1c2VyIGNyZWF0aW9uL3VwZGF0ZSBvbiBmaXJzdCBzaWduIGluXG4gICAgICAgIGlmICh1c2VyICYmIHVzZXIuZW1haWwgJiYgYWNjb3VudCkge1xuICAgICAgICAgIC8vIEltcG9ydCBzYXZlVXNlciBzZXJ2aWNlXG4gICAgICAgICAgY29uc3QgeyBzYXZlVXNlciwgdXBkYXRlTGFzdExvZ2luIH0gPSBhd2FpdCBpbXBvcnQoXCJAL3NlcnZpY2VzL3VzZXJcIik7XG5cbiAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgbmlja25hbWU6IHVzZXIubmFtZSB8fCB1c2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sXG4gICAgICAgICAgICBhdmF0YXJfdXJsOiB1c2VyLmltYWdlIHx8IFwiXCIsXG4gICAgICAgICAgICBzaWduaW5fdHlwZTogYWNjb3VudC50eXBlIGFzICdvYXV0aCcgfCAnY3JlZGVudGlhbHMnLFxuICAgICAgICAgICAgc2lnbmluX3Byb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyID09PSBcImdvb2dsZS1vbmUtdGFwXCIgPyBcImdvb2dsZVwiIDogYWNjb3VudC5wcm92aWRlcixcbiAgICAgICAgICAgIHNpZ25pbl9vcGVuaWQ6IGFjY291bnQucHJvdmlkZXJBY2NvdW50SWQsXG4gICAgICAgICAgICBlbWFpbF92ZXJpZmllZDogdHJ1ZSwgLy8gT0F1dGggdXNlcnMgYXJlIGF1dG9tYXRpY2FsbHkgdmVyaWZpZWRcbiAgICAgICAgICAgIHNpZ25pbl9pcDogYXdhaXQgZ2V0Q2xpZW50SXAoKSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkVXNlciA9IGF3YWl0IHNhdmVVc2VyKHVzZXJEYXRhKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGxhc3QgbG9naW5cbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUxhc3RMb2dpbihzYXZlZFVzZXIudXVpZCwgYXdhaXQgZ2V0Q2xpZW50SXAoKSk7XG5cbiAgICAgICAgICAgIHRva2VuLnVzZXIgPSB7XG4gICAgICAgICAgICAgIHV1aWQ6IHNhdmVkVXNlci51dWlkLFxuICAgICAgICAgICAgICBlbWFpbDogc2F2ZWRVc2VyLmVtYWlsLFxuICAgICAgICAgICAgICBuaWNrbmFtZTogc2F2ZWRVc2VyLm5pY2tuYW1lLFxuICAgICAgICAgICAgICBhdmF0YXJfdXJsOiBzYXZlZFVzZXIuYXZhdGFyX3VybCxcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogc2F2ZWRVc2VyLmNyZWF0ZWRfYXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gY2F0Y2ggKHNhdmVFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzYXZlIHVzZXI6XCIsIHNhdmVFcnJvcik7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBiYXNpYyB0b2tlbiBkYXRhIHdpdGggZGV0ZXJtaW5pc3RpYyBVVUlEXG4gICAgICAgICAgICB0b2tlbi51c2VyID0ge1xuICAgICAgICAgICAgICB1dWlkOiBnZXRVc2VyVXVpZEZyb21FbWFpbCh1c2VyLmVtYWlsKSwgLy8gVXNlIGRldGVybWluaXN0aWMgVVVJRCBiYXNlZCBvbiBlbWFpbFxuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgbmlja25hbWU6IHVzZXIubmFtZSB8fCB1c2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sXG4gICAgICAgICAgICAgIGF2YXRhcl91cmw6IHVzZXIuaW1hZ2UgfHwgXCJcIixcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogZ2V0SXNvVGltZXN0cigpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDwn5SlIOehruS/neavj+asoeeZu+W9lemDvemqjOivgeeUqOaIt+WcqOaVsOaNruW6k+S4reeahOWtmOWcqOaAp1xuICAgICAgICBpZiAodG9rZW4udXNlciAmJiB0b2tlbi51c2VyLnV1aWQgJiYgdG9rZW4udXNlci5lbWFpbCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGdldFVzZXJCeVV1aWQsIHNhdmVVc2VyIH0gPSBhd2FpdCBpbXBvcnQoXCJAL3NlcnZpY2VzL3VzZXJcIik7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBnZXRVc2VyQnlVdWlkKHRva2VuLnVzZXIudXVpZCk7XG5cbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SnIOeUqOaIt+S4jeWtmOWcqOS6juaVsOaNruW6k++8jOmHjeaWsOWIm+W7ujogJHt0b2tlbi51c2VyLnV1aWR9YCk7XG4gICAgICAgICAgICAgIC8vIOeUqOaIt+S4jeWtmOWcqO+8jOmHjeaWsOWIm+W7ulxuICAgICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBlbWFpbDogdG9rZW4udXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogdG9rZW4udXNlci5uaWNrbmFtZSB8fCB0b2tlbi51c2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sXG4gICAgICAgICAgICAgICAgYXZhdGFyX3VybDogdG9rZW4udXNlci5hdmF0YXJfdXJsIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgc2lnbmluX3R5cGU6ICdjcmVkZW50aWFscycgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgc2lnbmluX3Byb3ZpZGVyOiAndmVyaWZpY2F0aW9uLWNvZGUnLFxuICAgICAgICAgICAgICAgIHNpZ25pbl9vcGVuaWQ6IHRva2VuLnVzZXIudXVpZCxcbiAgICAgICAgICAgICAgICBlbWFpbF92ZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaWduaW5faXA6IGF3YWl0IGdldENsaWVudElwKCksXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgYXdhaXQgc2F2ZVVzZXIodXNlckRhdGEpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIOeUqOaIt+mHjeaWsOWIm+W7uuaIkOWKnzogJHt0b2tlbi51c2VyLnV1aWR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJKV1TnlKjmiLfpqozor4HlpLHotKU6XCIsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiSldUIGNhbGxiYWNrIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBldmVudHM6IHtcbiAgICBhc3luYyBzaWduSW4oeyB1c2VyLCBhY2NvdW50LCBwcm9maWxlLCBpc05ld1VzZXIgfSkge1xuICAgIH0sXG4gICAgYXN5bmMgc2lnbk91dCh7IHRva2VuLCBzZXNzaW9uIH0pIHtcbiAgICB9LFxuICB9LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbn07XG5cbi8vIExlZ2FjeSBleHBvcnQgZm9yIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9ucyA9IGF1dGhDb25maWc7Il0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJHb29nbGVQcm92aWRlciIsImdldENsaWVudElwIiwiZ2V0SXNvVGltZXN0ciIsImdldFVzZXJVdWlkRnJvbUVtYWlsIiwicHJvdmlkZXJzIiwicHVzaCIsImlkIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJ0eXBlIiwidG9rZW4iLCJhdXRob3JpemUiLCJzdGFydHNXaXRoIiwic3BsaXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVVUSF9HT09HTEVfT05FX1RBUF9FTkFCTEVEIiwiTkVYVF9QVUJMSUNfQVVUSF9HT09HTEVfSUQiLCJjcmVkZW50aWFsIiwicmVxIiwiZ29vZ2xlQ2xpZW50SWQiLCJjb25zb2xlIiwiZXJyb3IiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJwYXlsb2FkIiwianNvbiIsInN1YiIsImdpdmVuX25hbWUiLCJmYW1pbHlfbmFtZSIsImVtYWlsX3ZlcmlmaWVkIiwicGljdHVyZSIsImltYWdlIiwidXNlciIsImpvaW4iLCJ0cmltIiwiZW1haWxWZXJpZmllZCIsIkRhdGUiLCJORVhUX1BVQkxJQ19BVVRIX0dPT0dMRV9FTkFCTEVEIiwiQVVUSF9HT09HTEVfSUQiLCJBVVRIX0dPT0dMRV9TRUNSRVQiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsInByb3ZpZGVyTWFwIiwibWFwIiwicHJvdmlkZXIiLCJwcm92aWRlckRhdGEiLCJmaWx0ZXIiLCJhdXRoQ29uZmlnIiwiYmFzZVBhdGgiLCJwYWdlcyIsInNpZ25JbiIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsInRydXN0SG9zdCIsImRlYnVnIiwidXNlU2VjdXJlQ29va2llcyIsIkRPQ0tFUl9FTlZJUk9OTUVOVCIsImNvb2tpZXMiLCJzZXNzaW9uVG9rZW4iLCJvcHRpb25zIiwiaHR0cE9ubHkiLCJzYW1lU2l0ZSIsInBhdGgiLCJzZWN1cmUiLCJkb21haW4iLCJ1bmRlZmluZWQiLCJjYWxsYmFja3MiLCJhY2NvdW50IiwicHJvZmlsZSIsImxvZyIsImRvY2tlckVudiIsInJlZGlyZWN0IiwidXJsIiwiYmFzZVVybCIsImluY2x1ZGVzIiwicmVwbGFjZSIsInVybE9iaiIsIlVSTCIsImJhc2VVcmxPYmoiLCJvcmlnaW4iLCJkb2NrZXJCYXNlVXJsIiwiTkVYVEFVVEhfVVJMIiwiand0Iiwic2F2ZVVzZXIiLCJ1cGRhdGVMYXN0TG9naW4iLCJ1c2VyRGF0YSIsIm5pY2tuYW1lIiwiYXZhdGFyX3VybCIsInNpZ25pbl90eXBlIiwic2lnbmluX3Byb3ZpZGVyIiwic2lnbmluX29wZW5pZCIsInByb3ZpZGVyQWNjb3VudElkIiwic2lnbmluX2lwIiwic2F2ZWRVc2VyIiwidXVpZCIsImNyZWF0ZWRfYXQiLCJzYXZlRXJyb3IiLCJnZXRVc2VyQnlVdWlkIiwiZXhpc3RpbmdVc2VyIiwiZXZlbnRzIiwiaXNOZXdVc2VyIiwic2lnbk91dCIsInNlY3JldCIsIk5FWFRBVVRIX1NFQ1JFVCIsImF1dGhPcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./auth/config.ts\n");

/***/ }),

/***/ "(rsc)/./lib/hash.ts":
/*!*********************!*\
  !*** ./lib/hash.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateRandomString: () => (/* binding */ generateRandomString),\n/* harmony export */   generateVerificationCode: () => (/* binding */ generateVerificationCode),\n/* harmony export */   getUserUuidFromEmail: () => (/* binding */ getUserUuidFromEmail),\n/* harmony export */   getUuid: () => (/* binding */ getUuid)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v5.js\");\n/**\n * Hash utilities for VidFab AI Video Platform\n */ \n// VidFab namespace UUID for deterministic UUID generation\nconst VIDFAB_NAMESPACE = \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\";\n/**\n * Generate a unique UUID\n */ function getUuid() {\n    return (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}\n/**\n * Generate a deterministic UUID based on user email\n * Same email will always generate the same UUID\n */ function getUserUuidFromEmail(email) {\n    if (!email || typeof email !== \"string\") {\n        throw new Error(\"Invalid email for UUID generation\");\n    }\n    return (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(email.toLowerCase().trim(), VIDFAB_NAMESPACE);\n}\n/**\n * Generate a random verification code\n */ function generateVerificationCode() {\n    return Math.floor(100000 + Math.random() * 900000).toString();\n}\n/**\n * Generate a random string\n */ function generateRandomString(length = 32) {\n    const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    let result = \"\";\n    for(let i = 0; i < length; i++){\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvaGFzaC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUNpRDtBQUVsRCwwREFBMEQ7QUFDMUQsTUFBTUksbUJBQW1CO0FBRXpCOztDQUVDLEdBQ00sU0FBU0M7SUFDZCxPQUFPSixnREFBTUE7QUFDZjtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNLLHFCQUFxQkMsS0FBYTtJQUNoRCxJQUFJLENBQUNBLFNBQVMsT0FBT0EsVUFBVSxVQUFVO1FBQ3ZDLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBLE9BQU9MLGdEQUFNQSxDQUFDSSxNQUFNRSxXQUFXLEdBQUdDLElBQUksSUFBSU47QUFDNUM7QUFFQTs7Q0FFQyxHQUNNLFNBQVNPO0lBQ2QsT0FBT0MsS0FBS0MsS0FBSyxDQUFDLFNBQVNELEtBQUtFLE1BQU0sS0FBSyxRQUFRQyxRQUFRO0FBQzdEO0FBRUE7O0NBRUMsR0FDTSxTQUFTQyxxQkFBcUJDLFNBQWlCLEVBQUU7SUFDdEQsTUFBTUMsUUFBUTtJQUNkLElBQUlDLFNBQVM7SUFDYixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUgsUUFBUUcsSUFBSztRQUMvQkQsVUFBVUQsTUFBTUcsTUFBTSxDQUFDVCxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBS0ksTUFBTUQsTUFBTTtJQUNoRTtJQUNBLE9BQU9FO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2hhc2gudHM/YzE0MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhhc2ggdXRpbGl0aWVzIGZvciBWaWRGYWIgQUkgVmlkZW8gUGxhdGZvcm1cbiAqL1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0LCB2NSBhcyB1dWlkdjUgfSBmcm9tICd1dWlkJztcblxuLy8gVmlkRmFiIG5hbWVzcGFjZSBVVUlEIGZvciBkZXRlcm1pbmlzdGljIFVVSUQgZ2VuZXJhdGlvblxuY29uc3QgVklERkFCX05BTUVTUEFDRSA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIFVVSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFV1aWQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIHV1aWR2NCgpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgZGV0ZXJtaW5pc3RpYyBVVUlEIGJhc2VkIG9uIHVzZXIgZW1haWxcbiAqIFNhbWUgZW1haWwgd2lsbCBhbHdheXMgZ2VuZXJhdGUgdGhlIHNhbWUgVVVJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclV1aWRGcm9tRW1haWwoZW1haWw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghZW1haWwgfHwgdHlwZW9mIGVtYWlsICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbWFpbCBmb3IgVVVJRCBnZW5lcmF0aW9uJyk7XG4gIH1cbiAgcmV0dXJuIHV1aWR2NShlbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSwgVklERkFCX05BTUVTUEFDRSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSByYW5kb20gdmVyaWZpY2F0aW9uIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmVyaWZpY2F0aW9uQ29kZSgpOiBzdHJpbmcge1xuICByZXR1cm4gTWF0aC5mbG9vcigxMDAwMDAgKyBNYXRoLnJhbmRvbSgpICogOTAwMDAwKS50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TdHJpbmcobGVuZ3RoOiBudW1iZXIgPSAzMik6IHN0cmluZyB7XG4gIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSJdLCJuYW1lcyI6WyJ2NCIsInV1aWR2NCIsInY1IiwidXVpZHY1IiwiVklERkFCX05BTUVTUEFDRSIsImdldFV1aWQiLCJnZXRVc2VyVXVpZEZyb21FbWFpbCIsImVtYWlsIiwiRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJnZW5lcmF0ZVZlcmlmaWNhdGlvbkNvZGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsImdlbmVyYXRlUmFuZG9tU3RyaW5nIiwibGVuZ3RoIiwiY2hhcnMiLCJyZXN1bHQiLCJpIiwiY2hhckF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/hash.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ip.ts":
/*!*******************!*\
  !*** ./lib/ip.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getClientIp: () => (/* binding */ getClientIp),\n/* harmony export */   isValidIp: () => (/* binding */ isValidIp)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/**\n * IP address utilities for VidFab AI Video Platform\n */ \n/**\n * Get client IP address from request headers\n */ async function getClientIp() {\n    try {\n        const headersList = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.headers)();\n        // Try different header sources for IP\n        const xForwardedFor = headersList.get(\"x-forwarded-for\");\n        const xRealIp = headersList.get(\"x-real-ip\");\n        const cfConnectingIp = headersList.get(\"cf-connecting-ip\");\n        if (xForwardedFor) {\n            // x-forwarded-for can contain multiple IPs, get the first one\n            return xForwardedFor.split(\",\")[0].trim();\n        }\n        if (cfConnectingIp) {\n            return cfConnectingIp;\n        }\n        if (xRealIp) {\n            return xRealIp;\n        }\n        // Fallback\n        return \"127.0.0.1\";\n    } catch (error) {\n        console.error(\"Error getting client IP:\", error);\n        return \"127.0.0.1\";\n    }\n}\n/**\n * Validate IP address format\n */ function isValidIp(ip) {\n    const ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n    const ipv6Regex = /^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;\n    return ipv4Regex.test(ip) || ipv6Regex.test(ip);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvaXAudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0NBRUMsR0FDc0M7QUFFdkM7O0NBRUMsR0FDTSxlQUFlQztJQUNwQixJQUFJO1FBQ0YsTUFBTUMsY0FBYyxNQUFNRixxREFBT0E7UUFFakMsc0NBQXNDO1FBQ3RDLE1BQU1HLGdCQUFnQkQsWUFBWUUsR0FBRyxDQUFDO1FBQ3RDLE1BQU1DLFVBQVVILFlBQVlFLEdBQUcsQ0FBQztRQUNoQyxNQUFNRSxpQkFBaUJKLFlBQVlFLEdBQUcsQ0FBQztRQUV2QyxJQUFJRCxlQUFlO1lBQ2pCLDhEQUE4RDtZQUM5RCxPQUFPQSxjQUFjSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsSUFBSTtRQUN6QztRQUVBLElBQUlGLGdCQUFnQjtZQUNsQixPQUFPQTtRQUNUO1FBRUEsSUFBSUQsU0FBUztZQUNYLE9BQU9BO1FBQ1Q7UUFFQSxXQUFXO1FBQ1gsT0FBTztJQUNULEVBQUUsT0FBT0ksT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxPQUFPO0lBQ1Q7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU0UsVUFBVUMsRUFBVTtJQUNsQyxNQUFNQyxZQUFZO0lBQ2xCLE1BQU1DLFlBQVk7SUFDbEIsT0FBT0QsVUFBVUUsSUFBSSxDQUFDSCxPQUFPRSxVQUFVQyxJQUFJLENBQUNIO0FBQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2xpYi9pcC50cz9lODgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSVAgYWRkcmVzcyB1dGlsaXRpZXMgZm9yIFZpZEZhYiBBSSBWaWRlbyBQbGF0Zm9ybVxuICovXG5pbXBvcnQgeyBoZWFkZXJzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcblxuLyoqXG4gKiBHZXQgY2xpZW50IElQIGFkZHJlc3MgZnJvbSByZXF1ZXN0IGhlYWRlcnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENsaWVudElwKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaGVhZGVyc0xpc3QgPSBhd2FpdCBoZWFkZXJzKCk7XG4gICAgXG4gICAgLy8gVHJ5IGRpZmZlcmVudCBoZWFkZXIgc291cmNlcyBmb3IgSVBcbiAgICBjb25zdCB4Rm9yd2FyZGVkRm9yID0gaGVhZGVyc0xpc3QuZ2V0KCd4LWZvcndhcmRlZC1mb3InKTtcbiAgICBjb25zdCB4UmVhbElwID0gaGVhZGVyc0xpc3QuZ2V0KCd4LXJlYWwtaXAnKTtcbiAgICBjb25zdCBjZkNvbm5lY3RpbmdJcCA9IGhlYWRlcnNMaXN0LmdldCgnY2YtY29ubmVjdGluZy1pcCcpO1xuICAgIFxuICAgIGlmICh4Rm9yd2FyZGVkRm9yKSB7XG4gICAgICAvLyB4LWZvcndhcmRlZC1mb3IgY2FuIGNvbnRhaW4gbXVsdGlwbGUgSVBzLCBnZXQgdGhlIGZpcnN0IG9uZVxuICAgICAgcmV0dXJuIHhGb3J3YXJkZWRGb3Iuc3BsaXQoJywnKVswXS50cmltKCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjZkNvbm5lY3RpbmdJcCkge1xuICAgICAgcmV0dXJuIGNmQ29ubmVjdGluZ0lwO1xuICAgIH1cbiAgICBcbiAgICBpZiAoeFJlYWxJcCkge1xuICAgICAgcmV0dXJuIHhSZWFsSXA7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrXG4gICAgcmV0dXJuICcxMjcuMC4wLjEnO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY2xpZW50IElQOicsIGVycm9yKTtcbiAgICByZXR1cm4gJzEyNy4wLjAuMSc7XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBJUCBhZGRyZXNzIGZvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZElwKGlwOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgaXB2NFJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykkLztcbiAgY29uc3QgaXB2NlJlZ2V4ID0gL14oPzpbMC05YS1mQS1GXXsxLDR9Oil7N31bMC05YS1mQS1GXXsxLDR9JC87XG4gIHJldHVybiBpcHY0UmVnZXgudGVzdChpcCkgfHwgaXB2NlJlZ2V4LnRlc3QoaXApO1xufSJdLCJuYW1lcyI6WyJoZWFkZXJzIiwiZ2V0Q2xpZW50SXAiLCJoZWFkZXJzTGlzdCIsInhGb3J3YXJkZWRGb3IiLCJnZXQiLCJ4UmVhbElwIiwiY2ZDb25uZWN0aW5nSXAiLCJzcGxpdCIsInRyaW0iLCJlcnJvciIsImNvbnNvbGUiLCJpc1ZhbGlkSXAiLCJpcCIsImlwdjRSZWdleCIsImlwdjZSZWdleCIsInRlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ip.ts\n");

/***/ }),

/***/ "(rsc)/./lib/time.ts":
/*!*********************!*\
  !*** ./lib/time.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatTimestamp: () => (/* binding */ formatTimestamp),\n/* harmony export */   getIsoTimestr: () => (/* binding */ getIsoTimestr),\n/* harmony export */   getTimeAfterMinutes: () => (/* binding */ getTimeAfterMinutes),\n/* harmony export */   isExpired: () => (/* binding */ isExpired)\n/* harmony export */ });\n/**\n * Time utilities for VidFab AI Video Platform\n */ /**\n * Get current ISO timestamp string\n */ function getIsoTimestr() {\n    return new Date().toISOString();\n}\n/**\n * Get timestamp for X minutes from now\n */ function getTimeAfterMinutes(minutes) {\n    const date = new Date();\n    date.setMinutes(date.getMinutes() + minutes);\n    return date.toISOString();\n}\n/**\n * Check if a timestamp is expired\n */ function isExpired(timestamp) {\n    return new Date() > new Date(timestamp);\n}\n/**\n * Format timestamp for display\n */ function formatTimestamp(timestamp) {\n    return new Date(timestamp).toLocaleString();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdGltZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0NBRUMsR0FFRDs7Q0FFQyxHQUNNLFNBQVNBO0lBQ2QsT0FBTyxJQUFJQyxPQUFPQyxXQUFXO0FBQy9CO0FBRUE7O0NBRUMsR0FDTSxTQUFTQyxvQkFBb0JDLE9BQWU7SUFDakQsTUFBTUMsT0FBTyxJQUFJSjtJQUNqQkksS0FBS0MsVUFBVSxDQUFDRCxLQUFLRSxVQUFVLEtBQUtIO0lBQ3BDLE9BQU9DLEtBQUtILFdBQVc7QUFDekI7QUFFQTs7Q0FFQyxHQUNNLFNBQVNNLFVBQVVDLFNBQWlCO0lBQ3pDLE9BQU8sSUFBSVIsU0FBUyxJQUFJQSxLQUFLUTtBQUMvQjtBQUVBOztDQUVDLEdBQ00sU0FBU0MsZ0JBQWdCRCxTQUFpQjtJQUMvQyxPQUFPLElBQUlSLEtBQUtRLFdBQVdFLGNBQWM7QUFDM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL3RpbWUudHM/NjhlOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRpbWUgdXRpbGl0aWVzIGZvciBWaWRGYWIgQUkgVmlkZW8gUGxhdGZvcm1cbiAqL1xuXG4vKipcbiAqIEdldCBjdXJyZW50IElTTyB0aW1lc3RhbXAgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc29UaW1lc3RyKCk6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG59XG5cbi8qKlxuICogR2V0IHRpbWVzdGFtcCBmb3IgWCBtaW51dGVzIGZyb20gbm93XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lQWZ0ZXJNaW51dGVzKG1pbnV0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBtaW51dGVzKTtcbiAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRpbWVzdGFtcCBpcyBleHBpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cGlyZWQodGltZXN0YW1wOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkgPiBuZXcgRGF0ZSh0aW1lc3RhbXApO1xufVxuXG4vKipcbiAqIEZvcm1hdCB0aW1lc3RhbXAgZm9yIGRpc3BsYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpbWVzdGFtcCh0aW1lc3RhbXA6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgRGF0ZSh0aW1lc3RhbXApLnRvTG9jYWxlU3RyaW5nKCk7XG59Il0sIm5hbWVzIjpbImdldElzb1RpbWVzdHIiLCJEYXRlIiwidG9JU09TdHJpbmciLCJnZXRUaW1lQWZ0ZXJNaW51dGVzIiwibWludXRlcyIsImRhdGUiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsImlzRXhwaXJlZCIsInRpbWVzdGFtcCIsImZvcm1hdFRpbWVzdGFtcCIsInRvTG9jYWxlU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/time.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/uuid","vendor-chunks/@panva","vendor-chunks/oidc-token-hash"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjacob%2FDesktop%2Fvidfab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();