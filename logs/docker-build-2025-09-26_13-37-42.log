#1 [internal] load local bake definitions
#1 reading from stdin 347B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 2.64kB done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 ...

#4 [auth] library/node:pull token for registry-1.docker.io
#4 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.8s

#5 [internal] load .dockerignore
#5 transferring context: 820B done
#5 DONE 0.0s

#6 [base 1/1] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#6 DONE 0.0s

#7 [internal] load build context
#7 transferring context: 16.13kB 0.0s done
#7 DONE 0.0s

#8 [builder 2/4] COPY --from=deps /app/node_modules ./node_modules
#8 CACHED

#9 [runner  8/12] COPY --from=builder --chown=nextjs:nodejs /app/.next ./.next
#9 CACHED

#10 [runner 10/12] COPY --from=builder --chown=nextjs:nodejs /app/package.json ./package.json
#10 CACHED

#11 [runner  6/12] RUN chown nextjs:nodejs .next
#11 CACHED

#12 [runner  3/12] RUN adduser --system --uid 1001 nextjs
#12 CACHED

#13 [builder 3/4] COPY . .
#13 CACHED

#14 [deps 2/4] WORKDIR /app
#14 CACHED

#15 [runner  2/12] RUN addgroup --system --gid 1001 nodejs
#15 CACHED

#16 [deps 3/4] COPY package*.json ./
#16 CACHED

#17 [deps 4/4] RUN npm ci
#17 CACHED

#18 [runner  4/12] COPY --from=builder /app/public ./public
#18 CACHED

#19 [runner  5/12] RUN mkdir .next
#19 CACHED

#20 [runner 11/12] RUN if [ ! -f ./.next/prerender-manifest.json ]; then echo '{"version":4,"routes":{},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"","previewModeSigningKey":"","previewModeEncryptionKey":""}}' > ./.next/prerender-manifest.json; fi
#20 CACHED

#21 [builder 4/4] RUN npm run build; EXIT_CODE=$?; if [ $EXIT_CODE -eq 0 ]; then echo "Build successful"; else echo "Build completed with prerender warnings - continuing deployment"; fi
#21 CACHED

#22 [deps 1/4] RUN apk add --no-cache libc6-compat
#22 CACHED

#23 [runner  9/12] COPY --from=builder --chown=nextjs:nodejs /app/node_modules ./node_modules
#23 CACHED

#24 [runner  7/12] RUN echo "Checking available .next outputs..."
#24 CACHED

#25 [builder 1/4] WORKDIR /app
#25 CACHED

#26 [runner 12/12] RUN if [ ! -f ./.next/routes-manifest.json ]; then echo '{"version":3,"pages404":false,"basePath":"","redirects":[],"rewrites":{"beforeFiles":[],"afterFiles":[],"fallback":[]},"headers":[]}' > ./.next/routes-manifest.json; fi
#26 CACHED

#27 exporting to image
#27 exporting layers done
#27 writing image sha256:b7654b586636f3d9ce33db26dc8230ee2cce463b4d13d274e057d77722549c44 done
#27 naming to docker.io/library/vidfab-app done
#27 DONE 0.0s

#28 resolving provenance for metadata file
#28 DONE 0.0s
 app  Built
