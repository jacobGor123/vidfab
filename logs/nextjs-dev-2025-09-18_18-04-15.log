
> my-v0-project@0.1.0 dev /Users/jacob/Desktop/vidfab
> next dev

   â–² Next.js 15.2.4
   - Local:        http://localhost:3000
   - Network:      http://192.168.10.24:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 2.3s
 âœ“ Compiled /middleware in 81ms
 âœ“ Compiled (333 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 â—‹ Compiling /create ...
 â¨¯ ./components/video-preloader-debug-panel.tsx
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/components/video-preloader-debug-panel.tsx[0m:36:1]
 [2m33[0m | import { UseVideoPreloader } from '@/types/video-preloader'
 [2m34[0m | import { VideoPreloaderMonitor, createDebugPanelData } from '@/lib/video-preloader-debug'
 [2m35[0m | 
 [2m36[0m | interface VideoPreloaderDebugPanelProps {\n  preloaderHook: UseVideoPreloader\n  isVisible?: boolean\n}\n\nexport function VideoPreloaderDebugPanel({ \n  preloaderHook, \n  isVisible = false \n}: VideoPreloaderDebugPanelProps) {\n  const [isOpen, setIsOpen] = useState(isVisible)\n  const [monitor, setMonitor] = useState<VideoPreloaderMonitor | null>(null)\n  const [debugData, setDebugData] = useState<any>(null)\n  const [refreshInterval, setRefreshInterval] = useState(2000)\n  const intervalRef = useRef<number | null>(null)\n\n  // åˆå§‹åŒ–ç›‘æ§å™¨\n  useEffect(() => {\n    if (preloaderHook.preloader && preloaderHook.isInitialized) {\n      const newMonitor = new VideoPreloaderMonitor(preloaderHook.preloader)\n      newMonitor.startMonitoring(1000)\n      setMonitor(newMonitor)\n\n      return () => {\n        newMonitor.stopMonitoring()\n      }\n    }\n  }, [preloaderHook.preloader, preloaderHook.isInitialized])\n\n  // å®šæœŸæ›´æ–°è°ƒè¯•æ•°æ®\n  useEffect(() => {\n    if (!monitor || !isOpen) return\n\n    const updateDebugData = () => {\n      try {\n        const data = createDebugPanelData(monitor)\n        setDebugData(data)\n      } catch (error) {\n        console.error('æ›´æ–°è°ƒè¯•æ•°æ®å¤±è´¥:', error)\n      }\n    }\n\n    updateDebugData()\n    intervalRef.current = window.setInterval(updateDebugData, refreshInterval)\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [monitor, isOpen, refreshInterval])\n\n  if (!isOpen) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white shadow-lg\"\n        >\n          <Activity className=\"w-4 h-4 mr-2\" />\n          é¢„åŠ è½½è°ƒè¯•\n        </Button>\n      </div>\n    )\n  }\n\n  if (!debugData) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Card className=\"w-80\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-center text-gray-500\">\n              <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n              åˆå§‹åŒ–è°ƒè¯•é¢æ¿...\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50\">\n      <Card className=\"w-96 max-h-[80vh] overflow-hidden shadow-2xl\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg flex items-center\">\n              <Activity className=\"w-5 h-5 mr-2\" />\n              é¢„åŠ è½½ç›‘æ§\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <StatusIndicator status={debugData.summary.status} />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsOpen(false)}\n              >\n                Ã—\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-4 overflow-y-auto max-h-[60vh]\">\n          <Tabs defaultValue=\"overview\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4\">\n              <TabsTrigger value=\"overview\">æ¦‚è§ˆ</TabsTrigger>\n              <TabsTrigger value=\"metrics\">æŒ‡æ ‡</TabsTrigger>\n              <TabsTrigger value=\"queue\">é˜Ÿåˆ—</TabsTrigger>\n              <TabsTrigger value=\"settings\">è®¾ç½®</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-4\">\n              <OverviewTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"metrics\" className=\"space-y-4\">\n              <MetricsTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"queue\" className=\"space-y-4\">\n              <QueueTab preloaderHook={preloaderHook} />\n            </TabsContent>\n\n            <TabsContent value=\"settings\" className=\"space-y-4\">\n              <SettingsTab \n                preloaderHook={preloaderHook}\n                refreshInterval={refreshInterval}\n                onRefreshIntervalChange={setRefreshInterval}\n                monitor={monitor}\n              />\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n// çŠ¶æ€æŒ‡ç¤ºå™¨ç»„ä»¶\nfunction StatusIndicator({ status }: { status: string }) {\n  const statusConfig = {\n    excellent: { icon: CheckCircle, color: 'text-green-500', bg: 'bg-green-100' },\n    good: { icon: CheckCircle, color: 'text-blue-500', bg: 'bg-blue-100' },\n    warning: { icon: AlertTriangle, color: 'text-yellow-500', bg: 'bg-yellow-100' },\n    critical: { icon: XCircle, color: 'text-red-500', bg: 'bg-red-100' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.good\n  const Icon = config.icon\n\n  return (\n    <div className={`p-1 rounded-full ${config.bg}`}>\n      <Icon className={`w-4 h-4 ${config.color}`} />\n    </div>\n  )\n}\n\n// æ¦‚è§ˆæ ‡ç­¾é¡µ\nfunction OverviewTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      {/* å…³é”®æŒ‡æ ‡ */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <MetricCard\n          title=\"å‘½ä¸­ç‡\"\n          value={`${data.summary.keyMetrics.hitRate}%`}\n          icon={Zap}\n          color=\"text-green-600\"\n        />\n        <MetricCard\n          title=\"å»¶è¿Ÿ\"\n          value={`${data.summary.keyMetrics.averageDelay}ms`}\n          icon={Clock}\n          color=\"text-blue-600\"\n        />\n        <MetricCard\n          title=\"å†…å­˜\"\n          value={`${data.summary.keyMetrics.memoryUsage}MB`}\n          icon={Database}\n          color=\"text-purple-600\"\n        />\n        <MetricCard\n          title=\"é¢„åŠ è½½\"\n          value={data.summary.keyMetrics.activePreloads}\n          icon={Activity}\n          color=\"text-orange-600\"\n        />\n      </div>\n\n      {/* å‘Šè­¦ */}\n      {data.alerts && data.alerts.length > 0 && (\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium text-sm\">å‘Šè­¦</h4>\n          {data.alerts.map((alert: any, index: number) => (\n            <div\n              key={index}\n              className={`p-3 rounded text-sm ${\n                alert.level === 'critical'\n                  ? 'bg-red-50 text-red-700 border border-red-200'\n                  : 'bg-yellow-50 text-yellow-700 border border-yellow-200'\n              }`}\n            >\n              <div className=\"font-medium\">{alert.message}</div>\n              <div className=\"text-xs mt-1 opacity-75\">{alert.recommendation}</div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* è¶‹åŠ¿ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">è¶‹åŠ¿</h4>\n        <div className=\"space-y-1\">\n          <TrendItem label=\"å‘½ä¸­ç‡\" trend={data.summary.trends.hitRate} />\n          <TrendItem label=\"å†…å­˜ä½¿ç”¨\" trend={data.summary.trends.memoryUsage} />\n          <TrendItem label=\"åŠ è½½æ—¶é—´\" trend={data.summary.trends.loadTime} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// æŒ‡æ ‡æ ‡ç­¾é¡µ\nfunction MetricsTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <MetricRow label=\"æ€»é¢„åŠ è½½æ¬¡æ•°\" value={data.metrics.totalPreloads} />\n        <MetricRow label=\"æˆåŠŸç‡\" value={`${Math.round(data.metrics.successRate * 100)}%`} />\n        <MetricRow label=\"å¹³å‡åŠ è½½æ—¶é—´\" value={`${Math.round(data.metrics.averageLoadTime)}ms`} />\n        <MetricRow label=\"å¸¦å®½ä½¿ç”¨\" value={`${data.metrics.bandwidthUsage.toFixed(1)}Mbps`} />\n        <MetricRow label=\"å¤±è´¥æ¬¡æ•°\" value={data.metrics.failureCount} />\n      </div>\n\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-sm\">å®æ—¶æŒ‡æ ‡</h4>\n        <MetricRow label=\"é˜Ÿåˆ—é•¿åº¦\" value={data.realtimeMetrics.queueLength} />\n        <MetricRow label=\"å¹¶å‘åŠ è½½\" value={data.realtimeMetrics.currentConcurrentLoads} />\n        <MetricRow label=\"ç½‘ç»œä½¿ç”¨\" value={`${data.realtimeMetrics.currentNetworkUsage.toFixed(1)}Mbps`} />\n      </div>\n\n      {/* äº‹ä»¶ç»Ÿè®¡ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">äº‹ä»¶ç»Ÿè®¡</h4>\n        <div className=\"text-xs space-y-1\">\n          <div className=\"flex justify-between\">\n            <span>æ€»äº‹ä»¶:</span>\n            <span>{data.eventStats.totalEvents}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span>é”™è¯¯ç‡:</span>\n            <span>{Math.round(data.eventStats.errorRate * 100)}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// é˜Ÿåˆ—æ ‡ç­¾é¡µ\nfunction QueueTab({ preloaderHook }: { preloaderHook: UseVideoPreloader }) {\n  const [queueItems, setQueueItems] = useState<any[]>([])\n\n  useEffect(() => {\n    if (preloaderHook.preloader) {\n      const items = preloaderHook.preloader.getQueue()\n      setQueueItems(items)\n    }\n  }, [preloaderHook.preloader])\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h4 className=\"font-medium text-sm\">é¢„åŠ è½½é˜Ÿåˆ— ({queueItems.length})</h4>\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={() => {\n            if (preloaderHook.preloader) {\n              const items = preloaderHook.preloader.getQueue()\n              setQueueItems(items)\n            }\n          }}\n        >\n          <RefreshCw className=\"w-3 h-3\" />\n        </Button>\n      </div>\n\n      <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n        {queueItems.map((item, index) => (\n          <div key={index} className=\"p-2 bg-gray-50 rounded text-xs\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"font-medium truncate\">{String(item.video.id)}</span>\n              <StatusBadge status={item.status} />\n            </div>\n            <div className=\"flex justify-between text-gray-500\">\n              <span>ä¼˜å…ˆçº§: {Math.round(item.priorityScore)}</span>\n              <span>è¿›åº¦: {Math.round(item.progress * 100)}%</span>\n            </div>\n            {item.progress > 0 && (\n              <Progress value={item.progress * 100} className=\"h-1 mt-1\" />\n            )}\n          </div>\n        ))}\n        \n        {queueItems.length === 0 && (\n          <div className=\"text-center text-gray-500 py-4\">\n            é˜Ÿåˆ—ä¸ºç©º\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// è®¾ç½®æ ‡ç­¾é¡µ\nfunction SettingsTab({ \n  preloaderHook, \n  refreshInterval, \n  onRefreshIntervalChange,\n  monitor \n}: {\n  preloaderHook: UseVideoPreloader\n  refreshInterval: number\n  onRefreshIntervalChange: (interval: number) => void\n  monitor: VideoPreloaderMonitor | null\n}) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"text-sm font-medium\">åˆ·æ–°é—´éš” (ms)</label>\n          <input\n            type=\"number\"\n            value={refreshInterval}\n            onChange={(e) => onRefreshIntervalChange(Number(e.target.value))}\n            className=\"w-full mt-1 px-2 py-1 border rounded text-sm\"\n            min=\"500\"\n            max=\"10000\"\n            step=\"500\"\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">æ“ä½œ</h4>\n          <div className=\"space-y-1\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (monitor) {\n                  monitor.exportPerformanceData()\n                }\n              }}\n            >\n              <Download className=\"w-3 h-3 mr-2\" />\n              å¯¼å‡ºæ€§èƒ½æ•°æ®\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.optimizeMemoryUsage) {\n                  preloaderHook.optimizeMemoryUsage()\n                }\n              }}\n            >\n              <Database className=\"w-3 h-3 mr-2\" />\n              ä¼˜åŒ–å†…å­˜ä½¿ç”¨\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.adaptToNetworkConditions) {\n                  preloaderHook.adaptToNetworkConditions()\n                }\n              }}\n            >\n              <Wifi className=\"w-3 h-3 mr-2\" />\n              é€‚åº”ç½‘ç»œæ¡ä»¶\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">å½“å‰é…ç½®</h4>\n          <div className=\"text-xs space-y-1 bg-gray-50 p-2 rounded\">\n            <div>å¹¶å‘æ•°: {preloaderHook.config.maxConcurrentLoads}</div>\n            <div>å†…å­˜é™åˆ¶: {preloaderHook.config.memoryLimit}MB</div>\n            <div>é˜Ÿåˆ—å¤§å°: {preloaderHook.config.maxQueueSize}</div>\n            <div>ç½‘ç»œæ„ŸçŸ¥: {preloaderHook.config.networkAware ? 'æ˜¯' : 'å¦'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// è¾…åŠ©ç»„ä»¶\nfunction MetricCard({ title, value, icon: Icon, color }: {\n  title: string\n  value: string | number\n  icon: any\n  color: string\n}) {\n  return (\n    <div className=\"p-3 bg-white border rounded\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-xs text-gray-500\">{title}</div>\n          <div className=\"font-bold text-lg\">{value}</div>\n        </div>\n        <Icon className={`w-5 h-5 ${color}`} />\n      </div>\n    </div>\n  )\n}\n\nfunction MetricRow({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div className=\"flex justify-between text-sm\">\n      <span className=\"text-gray-600\">{label}</span>\n      <span className=\"font-medium\">{value}</span>\n    </div>\n  )\n}\n\nfunction TrendItem({ label, trend }: { label: string; trend: string }) {\n  const trendConfig = {\n    improving: { color: 'text-green-600', symbol: 'â†—' },\n    degrading: { color: 'text-red-600', symbol: 'â†˜' },\n    stable: { color: 'text-gray-600', symbol: 'â†’' }\n  }\n\n  const config = trendConfig[trend as keyof typeof trendConfig] || trendConfig.stable\n\n  return (\n    <div className=\"flex justify-between items-center text-xs\">\n      <span>{label}</span>\n      <span className={`${config.color} font-medium`}>\n        {config.symbol} {trend}\n      </span>\n    </div>\n  )\n}\n\nfunction StatusBadge({ status }: { status: string }) {\n  const statusConfig = {\n    pending: { color: 'bg-gray-100 text-gray-700', label: 'ç­‰å¾…' },\n    loading: { color: 'bg-blue-100 text-blue-700', label: 'åŠ è½½ä¸­' },\n    loaded: { color: 'bg-green-100 text-green-700', label: 'å®Œæˆ' },\n    error: { color: 'bg-red-100 text-red-700', label: 'é”™è¯¯' },\n    cancelled: { color: 'bg-yellow-100 text-yellow-700', label: 'å–æ¶ˆ' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending\n\n  return (\n    <Badge className={`text-xs ${config.color}`}>\n      {config.label}\n    </Badge>\n  )\n}"
    : [35;1m                                         ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 â¨¯ ./components/video-preloader-debug-panel.tsx
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/components/video-preloader-debug-panel.tsx[0m:36:1]
 [2m33[0m | import { UseVideoPreloader } from '@/types/video-preloader'
 [2m34[0m | import { VideoPreloaderMonitor, createDebugPanelData } from '@/lib/video-preloader-debug'
 [2m35[0m | 
 [2m36[0m | interface VideoPreloaderDebugPanelProps {\n  preloaderHook: UseVideoPreloader\n  isVisible?: boolean\n}\n\nexport function VideoPreloaderDebugPanel({ \n  preloaderHook, \n  isVisible = false \n}: VideoPreloaderDebugPanelProps) {\n  const [isOpen, setIsOpen] = useState(isVisible)\n  const [monitor, setMonitor] = useState<VideoPreloaderMonitor | null>(null)\n  const [debugData, setDebugData] = useState<any>(null)\n  const [refreshInterval, setRefreshInterval] = useState(2000)\n  const intervalRef = useRef<number | null>(null)\n\n  // åˆå§‹åŒ–ç›‘æ§å™¨\n  useEffect(() => {\n    if (preloaderHook.preloader && preloaderHook.isInitialized) {\n      const newMonitor = new VideoPreloaderMonitor(preloaderHook.preloader)\n      newMonitor.startMonitoring(1000)\n      setMonitor(newMonitor)\n\n      return () => {\n        newMonitor.stopMonitoring()\n      }\n    }\n  }, [preloaderHook.preloader, preloaderHook.isInitialized])\n\n  // å®šæœŸæ›´æ–°è°ƒè¯•æ•°æ®\n  useEffect(() => {\n    if (!monitor || !isOpen) return\n\n    const updateDebugData = () => {\n      try {\n        const data = createDebugPanelData(monitor)\n        setDebugData(data)\n      } catch (error) {\n        console.error('æ›´æ–°è°ƒè¯•æ•°æ®å¤±è´¥:', error)\n      }\n    }\n\n    updateDebugData()\n    intervalRef.current = window.setInterval(updateDebugData, refreshInterval)\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [monitor, isOpen, refreshInterval])\n\n  if (!isOpen) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white shadow-lg\"\n        >\n          <Activity className=\"w-4 h-4 mr-2\" />\n          é¢„åŠ è½½è°ƒè¯•\n        </Button>\n      </div>\n    )\n  }\n\n  if (!debugData) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Card className=\"w-80\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-center text-gray-500\">\n              <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n              åˆå§‹åŒ–è°ƒè¯•é¢æ¿...\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50\">\n      <Card className=\"w-96 max-h-[80vh] overflow-hidden shadow-2xl\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg flex items-center\">\n              <Activity className=\"w-5 h-5 mr-2\" />\n              é¢„åŠ è½½ç›‘æ§\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <StatusIndicator status={debugData.summary.status} />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsOpen(false)}\n              >\n                Ã—\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-4 overflow-y-auto max-h-[60vh]\">\n          <Tabs defaultValue=\"overview\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4\">\n              <TabsTrigger value=\"overview\">æ¦‚è§ˆ</TabsTrigger>\n              <TabsTrigger value=\"metrics\">æŒ‡æ ‡</TabsTrigger>\n              <TabsTrigger value=\"queue\">é˜Ÿåˆ—</TabsTrigger>\n              <TabsTrigger value=\"settings\">è®¾ç½®</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-4\">\n              <OverviewTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"metrics\" className=\"space-y-4\">\n              <MetricsTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"queue\" className=\"space-y-4\">\n              <QueueTab preloaderHook={preloaderHook} />\n            </TabsContent>\n\n            <TabsContent value=\"settings\" className=\"space-y-4\">\n              <SettingsTab \n                preloaderHook={preloaderHook}\n                refreshInterval={refreshInterval}\n                onRefreshIntervalChange={setRefreshInterval}\n                monitor={monitor}\n              />\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n// çŠ¶æ€æŒ‡ç¤ºå™¨ç»„ä»¶\nfunction StatusIndicator({ status }: { status: string }) {\n  const statusConfig = {\n    excellent: { icon: CheckCircle, color: 'text-green-500', bg: 'bg-green-100' },\n    good: { icon: CheckCircle, color: 'text-blue-500', bg: 'bg-blue-100' },\n    warning: { icon: AlertTriangle, color: 'text-yellow-500', bg: 'bg-yellow-100' },\n    critical: { icon: XCircle, color: 'text-red-500', bg: 'bg-red-100' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.good\n  const Icon = config.icon\n\n  return (\n    <div className={`p-1 rounded-full ${config.bg}`}>\n      <Icon className={`w-4 h-4 ${config.color}`} />\n    </div>\n  )\n}\n\n// æ¦‚è§ˆæ ‡ç­¾é¡µ\nfunction OverviewTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      {/* å…³é”®æŒ‡æ ‡ */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <MetricCard\n          title=\"å‘½ä¸­ç‡\"\n          value={`${data.summary.keyMetrics.hitRate}%`}\n          icon={Zap}\n          color=\"text-green-600\"\n        />\n        <MetricCard\n          title=\"å»¶è¿Ÿ\"\n          value={`${data.summary.keyMetrics.averageDelay}ms`}\n          icon={Clock}\n          color=\"text-blue-600\"\n        />\n        <MetricCard\n          title=\"å†…å­˜\"\n          value={`${data.summary.keyMetrics.memoryUsage}MB`}\n          icon={Database}\n          color=\"text-purple-600\"\n        />\n        <MetricCard\n          title=\"é¢„åŠ è½½\"\n          value={data.summary.keyMetrics.activePreloads}\n          icon={Activity}\n          color=\"text-orange-600\"\n        />\n      </div>\n\n      {/* å‘Šè­¦ */}\n      {data.alerts && data.alerts.length > 0 && (\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium text-sm\">å‘Šè­¦</h4>\n          {data.alerts.map((alert: any, index: number) => (\n            <div\n              key={index}\n              className={`p-3 rounded text-sm ${\n                alert.level === 'critical'\n                  ? 'bg-red-50 text-red-700 border border-red-200'\n                  : 'bg-yellow-50 text-yellow-700 border border-yellow-200'\n              }`}\n            >\n              <div className=\"font-medium\">{alert.message}</div>\n              <div className=\"text-xs mt-1 opacity-75\">{alert.recommendation}</div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* è¶‹åŠ¿ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">è¶‹åŠ¿</h4>\n        <div className=\"space-y-1\">\n          <TrendItem label=\"å‘½ä¸­ç‡\" trend={data.summary.trends.hitRate} />\n          <TrendItem label=\"å†…å­˜ä½¿ç”¨\" trend={data.summary.trends.memoryUsage} />\n          <TrendItem label=\"åŠ è½½æ—¶é—´\" trend={data.summary.trends.loadTime} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// æŒ‡æ ‡æ ‡ç­¾é¡µ\nfunction MetricsTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <MetricRow label=\"æ€»é¢„åŠ è½½æ¬¡æ•°\" value={data.metrics.totalPreloads} />\n        <MetricRow label=\"æˆåŠŸç‡\" value={`${Math.round(data.metrics.successRate * 100)}%`} />\n        <MetricRow label=\"å¹³å‡åŠ è½½æ—¶é—´\" value={`${Math.round(data.metrics.averageLoadTime)}ms`} />\n        <MetricRow label=\"å¸¦å®½ä½¿ç”¨\" value={`${data.metrics.bandwidthUsage.toFixed(1)}Mbps`} />\n        <MetricRow label=\"å¤±è´¥æ¬¡æ•°\" value={data.metrics.failureCount} />\n      </div>\n\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-sm\">å®æ—¶æŒ‡æ ‡</h4>\n        <MetricRow label=\"é˜Ÿåˆ—é•¿åº¦\" value={data.realtimeMetrics.queueLength} />\n        <MetricRow label=\"å¹¶å‘åŠ è½½\" value={data.realtimeMetrics.currentConcurrentLoads} />\n        <MetricRow label=\"ç½‘ç»œä½¿ç”¨\" value={`${data.realtimeMetrics.currentNetworkUsage.toFixed(1)}Mbps`} />\n      </div>\n\n      {/* äº‹ä»¶ç»Ÿè®¡ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">äº‹ä»¶ç»Ÿè®¡</h4>\n        <div className=\"text-xs space-y-1\">\n          <div className=\"flex justify-between\">\n            <span>æ€»äº‹ä»¶:</span>\n            <span>{data.eventStats.totalEvents}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span>é”™è¯¯ç‡:</span>\n            <span>{Math.round(data.eventStats.errorRate * 100)}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// é˜Ÿåˆ—æ ‡ç­¾é¡µ\nfunction QueueTab({ preloaderHook }: { preloaderHook: UseVideoPreloader }) {\n  const [queueItems, setQueueItems] = useState<any[]>([])\n\n  useEffect(() => {\n    if (preloaderHook.preloader) {\n      const items = preloaderHook.preloader.getQueue()\n      setQueueItems(items)\n    }\n  }, [preloaderHook.preloader])\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h4 className=\"font-medium text-sm\">é¢„åŠ è½½é˜Ÿåˆ— ({queueItems.length})</h4>\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={() => {\n            if (preloaderHook.preloader) {\n              const items = preloaderHook.preloader.getQueue()\n              setQueueItems(items)\n            }\n          }}\n        >\n          <RefreshCw className=\"w-3 h-3\" />\n        </Button>\n      </div>\n\n      <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n        {queueItems.map((item, index) => (\n          <div key={index} className=\"p-2 bg-gray-50 rounded text-xs\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"font-medium truncate\">{String(item.video.id)}</span>\n              <StatusBadge status={item.status} />\n            </div>\n            <div className=\"flex justify-between text-gray-500\">\n              <span>ä¼˜å…ˆçº§: {Math.round(item.priorityScore)}</span>\n              <span>è¿›åº¦: {Math.round(item.progress * 100)}%</span>\n            </div>\n            {item.progress > 0 && (\n              <Progress value={item.progress * 100} className=\"h-1 mt-1\" />\n            )}\n          </div>\n        ))}\n        \n        {queueItems.length === 0 && (\n          <div className=\"text-center text-gray-500 py-4\">\n            é˜Ÿåˆ—ä¸ºç©º\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// è®¾ç½®æ ‡ç­¾é¡µ\nfunction SettingsTab({ \n  preloaderHook, \n  refreshInterval, \n  onRefreshIntervalChange,\n  monitor \n}: {\n  preloaderHook: UseVideoPreloader\n  refreshInterval: number\n  onRefreshIntervalChange: (interval: number) => void\n  monitor: VideoPreloaderMonitor | null\n}) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"text-sm font-medium\">åˆ·æ–°é—´éš” (ms)</label>\n          <input\n            type=\"number\"\n            value={refreshInterval}\n            onChange={(e) => onRefreshIntervalChange(Number(e.target.value))}\n            className=\"w-full mt-1 px-2 py-1 border rounded text-sm\"\n            min=\"500\"\n            max=\"10000\"\n            step=\"500\"\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">æ“ä½œ</h4>\n          <div className=\"space-y-1\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (monitor) {\n                  monitor.exportPerformanceData()\n                }\n              }}\n            >\n              <Download className=\"w-3 h-3 mr-2\" />\n              å¯¼å‡ºæ€§èƒ½æ•°æ®\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.optimizeMemoryUsage) {\n                  preloaderHook.optimizeMemoryUsage()\n                }\n              }}\n            >\n              <Database className=\"w-3 h-3 mr-2\" />\n              ä¼˜åŒ–å†…å­˜ä½¿ç”¨\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.adaptToNetworkConditions) {\n                  preloaderHook.adaptToNetworkConditions()\n                }\n              }}\n            >\n              <Wifi className=\"w-3 h-3 mr-2\" />\n              é€‚åº”ç½‘ç»œæ¡ä»¶\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">å½“å‰é…ç½®</h4>\n          <div className=\"text-xs space-y-1 bg-gray-50 p-2 rounded\">\n            <div>å¹¶å‘æ•°: {preloaderHook.config.maxConcurrentLoads}</div>\n            <div>å†…å­˜é™åˆ¶: {preloaderHook.config.memoryLimit}MB</div>\n            <div>é˜Ÿåˆ—å¤§å°: {preloaderHook.config.maxQueueSize}</div>\n            <div>ç½‘ç»œæ„ŸçŸ¥: {preloaderHook.config.networkAware ? 'æ˜¯' : 'å¦'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// è¾…åŠ©ç»„ä»¶\nfunction MetricCard({ title, value, icon: Icon, color }: {\n  title: string\n  value: string | number\n  icon: any\n  color: string\n}) {\n  return (\n    <div className=\"p-3 bg-white border rounded\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-xs text-gray-500\">{title}</div>\n          <div className=\"font-bold text-lg\">{value}</div>\n        </div>\n        <Icon className={`w-5 h-5 ${color}`} />\n      </div>\n    </div>\n  )\n}\n\nfunction MetricRow({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div className=\"flex justify-between text-sm\">\n      <span className=\"text-gray-600\">{label}</span>\n      <span className=\"font-medium\">{value}</span>\n    </div>\n  )\n}\n\nfunction TrendItem({ label, trend }: { label: string; trend: string }) {\n  const trendConfig = {\n    improving: { color: 'text-green-600', symbol: 'â†—' },\n    degrading: { color: 'text-red-600', symbol: 'â†˜' },\n    stable: { color: 'text-gray-600', symbol: 'â†’' }\n  }\n\n  const config = trendConfig[trend as keyof typeof trendConfig] || trendConfig.stable\n\n  return (\n    <div className=\"flex justify-between items-center text-xs\">\n      <span>{label}</span>\n      <span className={`${config.color} font-medium`}>\n        {config.symbol} {trend}\n      </span>\n    </div>\n  )\n}\n\nfunction StatusBadge({ status }: { status: string }) {\n  const statusConfig = {\n    pending: { color: 'bg-gray-100 text-gray-700', label: 'ç­‰å¾…' },\n    loading: { color: 'bg-blue-100 text-blue-700', label: 'åŠ è½½ä¸­' },\n    loaded: { color: 'bg-green-100 text-green-700', label: 'å®Œæˆ' },\n    error: { color: 'bg-red-100 text-red-700', label: 'é”™è¯¯' },\n    cancelled: { color: 'bg-yellow-100 text-yellow-700', label: 'å–æ¶ˆ' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending\n\n  return (\n    <Badge className={`text-xs ${config.color}`}>\n      {config.label}\n    </Badge>\n  )\n}"
    : [35;1m                                         ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 â¨¯ ./components/video-preloader-debug-panel.tsx
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/components/video-preloader-debug-panel.tsx[0m:36:1]
 [2m33[0m | import { UseVideoPreloader } from '@/types/video-preloader'
 [2m34[0m | import { VideoPreloaderMonitor, createDebugPanelData } from '@/lib/video-preloader-debug'
 [2m35[0m | 
 [2m36[0m | interface VideoPreloaderDebugPanelProps {\n  preloaderHook: UseVideoPreloader\n  isVisible?: boolean\n}\n\nexport function VideoPreloaderDebugPanel({ \n  preloaderHook, \n  isVisible = false \n}: VideoPreloaderDebugPanelProps) {\n  const [isOpen, setIsOpen] = useState(isVisible)\n  const [monitor, setMonitor] = useState<VideoPreloaderMonitor | null>(null)\n  const [debugData, setDebugData] = useState<any>(null)\n  const [refreshInterval, setRefreshInterval] = useState(2000)\n  const intervalRef = useRef<number | null>(null)\n\n  // åˆå§‹åŒ–ç›‘æ§å™¨\n  useEffect(() => {\n    if (preloaderHook.preloader && preloaderHook.isInitialized) {\n      const newMonitor = new VideoPreloaderMonitor(preloaderHook.preloader)\n      newMonitor.startMonitoring(1000)\n      setMonitor(newMonitor)\n\n      return () => {\n        newMonitor.stopMonitoring()\n      }\n    }\n  }, [preloaderHook.preloader, preloaderHook.isInitialized])\n\n  // å®šæœŸæ›´æ–°è°ƒè¯•æ•°æ®\n  useEffect(() => {\n    if (!monitor || !isOpen) return\n\n    const updateDebugData = () => {\n      try {\n        const data = createDebugPanelData(monitor)\n        setDebugData(data)\n      } catch (error) {\n        console.error('æ›´æ–°è°ƒè¯•æ•°æ®å¤±è´¥:', error)\n      }\n    }\n\n    updateDebugData()\n    intervalRef.current = window.setInterval(updateDebugData, refreshInterval)\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [monitor, isOpen, refreshInterval])\n\n  if (!isOpen) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white shadow-lg\"\n        >\n          <Activity className=\"w-4 h-4 mr-2\" />\n          é¢„åŠ è½½è°ƒè¯•\n        </Button>\n      </div>\n    )\n  }\n\n  if (!debugData) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Card className=\"w-80\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-center text-gray-500\">\n              <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n              åˆå§‹åŒ–è°ƒè¯•é¢æ¿...\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50\">\n      <Card className=\"w-96 max-h-[80vh] overflow-hidden shadow-2xl\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg flex items-center\">\n              <Activity className=\"w-5 h-5 mr-2\" />\n              é¢„åŠ è½½ç›‘æ§\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <StatusIndicator status={debugData.summary.status} />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsOpen(false)}\n              >\n                Ã—\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-4 overflow-y-auto max-h-[60vh]\">\n          <Tabs defaultValue=\"overview\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4\">\n              <TabsTrigger value=\"overview\">æ¦‚è§ˆ</TabsTrigger>\n              <TabsTrigger value=\"metrics\">æŒ‡æ ‡</TabsTrigger>\n              <TabsTrigger value=\"queue\">é˜Ÿåˆ—</TabsTrigger>\n              <TabsTrigger value=\"settings\">è®¾ç½®</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-4\">\n              <OverviewTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"metrics\" className=\"space-y-4\">\n              <MetricsTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"queue\" className=\"space-y-4\">\n              <QueueTab preloaderHook={preloaderHook} />\n            </TabsContent>\n\n            <TabsContent value=\"settings\" className=\"space-y-4\">\n              <SettingsTab \n                preloaderHook={preloaderHook}\n                refreshInterval={refreshInterval}\n                onRefreshIntervalChange={setRefreshInterval}\n                monitor={monitor}\n              />\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n// çŠ¶æ€æŒ‡ç¤ºå™¨ç»„ä»¶\nfunction StatusIndicator({ status }: { status: string }) {\n  const statusConfig = {\n    excellent: { icon: CheckCircle, color: 'text-green-500', bg: 'bg-green-100' },\n    good: { icon: CheckCircle, color: 'text-blue-500', bg: 'bg-blue-100' },\n    warning: { icon: AlertTriangle, color: 'text-yellow-500', bg: 'bg-yellow-100' },\n    critical: { icon: XCircle, color: 'text-red-500', bg: 'bg-red-100' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.good\n  const Icon = config.icon\n\n  return (\n    <div className={`p-1 rounded-full ${config.bg}`}>\n      <Icon className={`w-4 h-4 ${config.color}`} />\n    </div>\n  )\n}\n\n// æ¦‚è§ˆæ ‡ç­¾é¡µ\nfunction OverviewTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      {/* å…³é”®æŒ‡æ ‡ */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <MetricCard\n          title=\"å‘½ä¸­ç‡\"\n          value={`${data.summary.keyMetrics.hitRate}%`}\n          icon={Zap}\n          color=\"text-green-600\"\n        />\n        <MetricCard\n          title=\"å»¶è¿Ÿ\"\n          value={`${data.summary.keyMetrics.averageDelay}ms`}\n          icon={Clock}\n          color=\"text-blue-600\"\n        />\n        <MetricCard\n          title=\"å†…å­˜\"\n          value={`${data.summary.keyMetrics.memoryUsage}MB`}\n          icon={Database}\n          color=\"text-purple-600\"\n        />\n        <MetricCard\n          title=\"é¢„åŠ è½½\"\n          value={data.summary.keyMetrics.activePreloads}\n          icon={Activity}\n          color=\"text-orange-600\"\n        />\n      </div>\n\n      {/* å‘Šè­¦ */}\n      {data.alerts && data.alerts.length > 0 && (\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium text-sm\">å‘Šè­¦</h4>\n          {data.alerts.map((alert: any, index: number) => (\n            <div\n              key={index}\n              className={`p-3 rounded text-sm ${\n                alert.level === 'critical'\n                  ? 'bg-red-50 text-red-700 border border-red-200'\n                  : 'bg-yellow-50 text-yellow-700 border border-yellow-200'\n              }`}\n            >\n              <div className=\"font-medium\">{alert.message}</div>\n              <div className=\"text-xs mt-1 opacity-75\">{alert.recommendation}</div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* è¶‹åŠ¿ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">è¶‹åŠ¿</h4>\n        <div className=\"space-y-1\">\n          <TrendItem label=\"å‘½ä¸­ç‡\" trend={data.summary.trends.hitRate} />\n          <TrendItem label=\"å†…å­˜ä½¿ç”¨\" trend={data.summary.trends.memoryUsage} />\n          <TrendItem label=\"åŠ è½½æ—¶é—´\" trend={data.summary.trends.loadTime} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// æŒ‡æ ‡æ ‡ç­¾é¡µ\nfunction MetricsTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <MetricRow label=\"æ€»é¢„åŠ è½½æ¬¡æ•°\" value={data.metrics.totalPreloads} />\n        <MetricRow label=\"æˆåŠŸç‡\" value={`${Math.round(data.metrics.successRate * 100)}%`} />\n        <MetricRow label=\"å¹³å‡åŠ è½½æ—¶é—´\" value={`${Math.round(data.metrics.averageLoadTime)}ms`} />\n        <MetricRow label=\"å¸¦å®½ä½¿ç”¨\" value={`${data.metrics.bandwidthUsage.toFixed(1)}Mbps`} />\n        <MetricRow label=\"å¤±è´¥æ¬¡æ•°\" value={data.metrics.failureCount} />\n      </div>\n\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-sm\">å®æ—¶æŒ‡æ ‡</h4>\n        <MetricRow label=\"é˜Ÿåˆ—é•¿åº¦\" value={data.realtimeMetrics.queueLength} />\n        <MetricRow label=\"å¹¶å‘åŠ è½½\" value={data.realtimeMetrics.currentConcurrentLoads} />\n        <MetricRow label=\"ç½‘ç»œä½¿ç”¨\" value={`${data.realtimeMetrics.currentNetworkUsage.toFixed(1)}Mbps`} />\n      </div>\n\n      {/* äº‹ä»¶ç»Ÿè®¡ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">äº‹ä»¶ç»Ÿè®¡</h4>\n        <div className=\"text-xs space-y-1\">\n          <div className=\"flex justify-between\">\n            <span>æ€»äº‹ä»¶:</span>\n            <span>{data.eventStats.totalEvents}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span>é”™è¯¯ç‡:</span>\n            <span>{Math.round(data.eventStats.errorRate * 100)}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// é˜Ÿåˆ—æ ‡ç­¾é¡µ\nfunction QueueTab({ preloaderHook }: { preloaderHook: UseVideoPreloader }) {\n  const [queueItems, setQueueItems] = useState<any[]>([])\n\n  useEffect(() => {\n    if (preloaderHook.preloader) {\n      const items = preloaderHook.preloader.getQueue()\n      setQueueItems(items)\n    }\n  }, [preloaderHook.preloader])\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h4 className=\"font-medium text-sm\">é¢„åŠ è½½é˜Ÿåˆ— ({queueItems.length})</h4>\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={() => {\n            if (preloaderHook.preloader) {\n              const items = preloaderHook.preloader.getQueue()\n              setQueueItems(items)\n            }\n          }}\n        >\n          <RefreshCw className=\"w-3 h-3\" />\n        </Button>\n      </div>\n\n      <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n        {queueItems.map((item, index) => (\n          <div key={index} className=\"p-2 bg-gray-50 rounded text-xs\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"font-medium truncate\">{String(item.video.id)}</span>\n              <StatusBadge status={item.status} />\n            </div>\n            <div className=\"flex justify-between text-gray-500\">\n              <span>ä¼˜å…ˆçº§: {Math.round(item.priorityScore)}</span>\n              <span>è¿›åº¦: {Math.round(item.progress * 100)}%</span>\n            </div>\n            {item.progress > 0 && (\n              <Progress value={item.progress * 100} className=\"h-1 mt-1\" />\n            )}\n          </div>\n        ))}\n        \n        {queueItems.length === 0 && (\n          <div className=\"text-center text-gray-500 py-4\">\n            é˜Ÿåˆ—ä¸ºç©º\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// è®¾ç½®æ ‡ç­¾é¡µ\nfunction SettingsTab({ \n  preloaderHook, \n  refreshInterval, \n  onRefreshIntervalChange,\n  monitor \n}: {\n  preloaderHook: UseVideoPreloader\n  refreshInterval: number\n  onRefreshIntervalChange: (interval: number) => void\n  monitor: VideoPreloaderMonitor | null\n}) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"text-sm font-medium\">åˆ·æ–°é—´éš” (ms)</label>\n          <input\n            type=\"number\"\n            value={refreshInterval}\n            onChange={(e) => onRefreshIntervalChange(Number(e.target.value))}\n            className=\"w-full mt-1 px-2 py-1 border rounded text-sm\"\n            min=\"500\"\n            max=\"10000\"\n            step=\"500\"\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">æ“ä½œ</h4>\n          <div className=\"space-y-1\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (monitor) {\n                  monitor.exportPerformanceData()\n                }\n              }}\n            >\n              <Download className=\"w-3 h-3 mr-2\" />\n              å¯¼å‡ºæ€§èƒ½æ•°æ®\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.optimizeMemoryUsage) {\n                  preloaderHook.optimizeMemoryUsage()\n                }\n              }}\n            >\n              <Database className=\"w-3 h-3 mr-2\" />\n              ä¼˜åŒ–å†…å­˜ä½¿ç”¨\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.adaptToNetworkConditions) {\n                  preloaderHook.adaptToNetworkConditions()\n                }\n              }}\n            >\n              <Wifi className=\"w-3 h-3 mr-2\" />\n              é€‚åº”ç½‘ç»œæ¡ä»¶\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">å½“å‰é…ç½®</h4>\n          <div className=\"text-xs space-y-1 bg-gray-50 p-2 rounded\">\n            <div>å¹¶å‘æ•°: {preloaderHook.config.maxConcurrentLoads}</div>\n            <div>å†…å­˜é™åˆ¶: {preloaderHook.config.memoryLimit}MB</div>\n            <div>é˜Ÿåˆ—å¤§å°: {preloaderHook.config.maxQueueSize}</div>\n            <div>ç½‘ç»œæ„ŸçŸ¥: {preloaderHook.config.networkAware ? 'æ˜¯' : 'å¦'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// è¾…åŠ©ç»„ä»¶\nfunction MetricCard({ title, value, icon: Icon, color }: {\n  title: string\n  value: string | number\n  icon: any\n  color: string\n}) {\n  return (\n    <div className=\"p-3 bg-white border rounded\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-xs text-gray-500\">{title}</div>\n          <div className=\"font-bold text-lg\">{value}</div>\n        </div>\n        <Icon className={`w-5 h-5 ${color}`} />\n      </div>\n    </div>\n  )\n}\n\nfunction MetricRow({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div className=\"flex justify-between text-sm\">\n      <span className=\"text-gray-600\">{label}</span>\n      <span className=\"font-medium\">{value}</span>\n    </div>\n  )\n}\n\nfunction TrendItem({ label, trend }: { label: string; trend: string }) {\n  const trendConfig = {\n    improving: { color: 'text-green-600', symbol: 'â†—' },\n    degrading: { color: 'text-red-600', symbol: 'â†˜' },\n    stable: { color: 'text-gray-600', symbol: 'â†’' }\n  }\n\n  const config = trendConfig[trend as keyof typeof trendConfig] || trendConfig.stable\n\n  return (\n    <div className=\"flex justify-between items-center text-xs\">\n      <span>{label}</span>\n      <span className={`${config.color} font-medium`}>\n        {config.symbol} {trend}\n      </span>\n    </div>\n  )\n}\n\nfunction StatusBadge({ status }: { status: string }) {\n  const statusConfig = {\n    pending: { color: 'bg-gray-100 text-gray-700', label: 'ç­‰å¾…' },\n    loading: { color: 'bg-blue-100 text-blue-700', label: 'åŠ è½½ä¸­' },\n    loaded: { color: 'bg-green-100 text-green-700', label: 'å®Œæˆ' },\n    error: { color: 'bg-red-100 text-red-700', label: 'é”™è¯¯' },\n    cancelled: { color: 'bg-yellow-100 text-yellow-700', label: 'å–æ¶ˆ' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending\n\n  return (\n    <Badge className={`text-xs ${config.color}`}>\n      {config.label}\n    </Badge>\n  )\n}"
    : [35;1m                                         ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 GET /create?tool=discover 500 in 6073ms
 â¨¯ ./components/video-preloader-debug-panel.tsx
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/components/video-preloader-debug-panel.tsx[0m:36:1]
 [2m33[0m | import { UseVideoPreloader } from '@/types/video-preloader'
 [2m34[0m | import { VideoPreloaderMonitor, createDebugPanelData } from '@/lib/video-preloader-debug'
 [2m35[0m | 
 [2m36[0m | interface VideoPreloaderDebugPanelProps {\n  preloaderHook: UseVideoPreloader\n  isVisible?: boolean\n}\n\nexport function VideoPreloaderDebugPanel({ \n  preloaderHook, \n  isVisible = false \n}: VideoPreloaderDebugPanelProps) {\n  const [isOpen, setIsOpen] = useState(isVisible)\n  const [monitor, setMonitor] = useState<VideoPreloaderMonitor | null>(null)\n  const [debugData, setDebugData] = useState<any>(null)\n  const [refreshInterval, setRefreshInterval] = useState(2000)\n  const intervalRef = useRef<number | null>(null)\n\n  // åˆå§‹åŒ–ç›‘æ§å™¨\n  useEffect(() => {\n    if (preloaderHook.preloader && preloaderHook.isInitialized) {\n      const newMonitor = new VideoPreloaderMonitor(preloaderHook.preloader)\n      newMonitor.startMonitoring(1000)\n      setMonitor(newMonitor)\n\n      return () => {\n        newMonitor.stopMonitoring()\n      }\n    }\n  }, [preloaderHook.preloader, preloaderHook.isInitialized])\n\n  // å®šæœŸæ›´æ–°è°ƒè¯•æ•°æ®\n  useEffect(() => {\n    if (!monitor || !isOpen) return\n\n    const updateDebugData = () => {\n      try {\n        const data = createDebugPanelData(monitor)\n        setDebugData(data)\n      } catch (error) {\n        console.error('æ›´æ–°è°ƒè¯•æ•°æ®å¤±è´¥:', error)\n      }\n    }\n\n    updateDebugData()\n    intervalRef.current = window.setInterval(updateDebugData, refreshInterval)\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [monitor, isOpen, refreshInterval])\n\n  if (!isOpen) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white shadow-lg\"\n        >\n          <Activity className=\"w-4 h-4 mr-2\" />\n          é¢„åŠ è½½è°ƒè¯•\n        </Button>\n      </div>\n    )\n  }\n\n  if (!debugData) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Card className=\"w-80\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-center text-gray-500\">\n              <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n              åˆå§‹åŒ–è°ƒè¯•é¢æ¿...\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50\">\n      <Card className=\"w-96 max-h-[80vh] overflow-hidden shadow-2xl\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg flex items-center\">\n              <Activity className=\"w-5 h-5 mr-2\" />\n              é¢„åŠ è½½ç›‘æ§\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <StatusIndicator status={debugData.summary.status} />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsOpen(false)}\n              >\n                Ã—\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-4 overflow-y-auto max-h-[60vh]\">\n          <Tabs defaultValue=\"overview\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4\">\n              <TabsTrigger value=\"overview\">æ¦‚è§ˆ</TabsTrigger>\n              <TabsTrigger value=\"metrics\">æŒ‡æ ‡</TabsTrigger>\n              <TabsTrigger value=\"queue\">é˜Ÿåˆ—</TabsTrigger>\n              <TabsTrigger value=\"settings\">è®¾ç½®</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-4\">\n              <OverviewTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"metrics\" className=\"space-y-4\">\n              <MetricsTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"queue\" className=\"space-y-4\">\n              <QueueTab preloaderHook={preloaderHook} />\n            </TabsContent>\n\n            <TabsContent value=\"settings\" className=\"space-y-4\">\n              <SettingsTab \n                preloaderHook={preloaderHook}\n                refreshInterval={refreshInterval}\n                onRefreshIntervalChange={setRefreshInterval}\n                monitor={monitor}\n              />\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n// çŠ¶æ€æŒ‡ç¤ºå™¨ç»„ä»¶\nfunction StatusIndicator({ status }: { status: string }) {\n  const statusConfig = {\n    excellent: { icon: CheckCircle, color: 'text-green-500', bg: 'bg-green-100' },\n    good: { icon: CheckCircle, color: 'text-blue-500', bg: 'bg-blue-100' },\n    warning: { icon: AlertTriangle, color: 'text-yellow-500', bg: 'bg-yellow-100' },\n    critical: { icon: XCircle, color: 'text-red-500', bg: 'bg-red-100' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.good\n  const Icon = config.icon\n\n  return (\n    <div className={`p-1 rounded-full ${config.bg}`}>\n      <Icon className={`w-4 h-4 ${config.color}`} />\n    </div>\n  )\n}\n\n// æ¦‚è§ˆæ ‡ç­¾é¡µ\nfunction OverviewTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      {/* å…³é”®æŒ‡æ ‡ */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <MetricCard\n          title=\"å‘½ä¸­ç‡\"\n          value={`${data.summary.keyMetrics.hitRate}%`}\n          icon={Zap}\n          color=\"text-green-600\"\n        />\n        <MetricCard\n          title=\"å»¶è¿Ÿ\"\n          value={`${data.summary.keyMetrics.averageDelay}ms`}\n          icon={Clock}\n          color=\"text-blue-600\"\n        />\n        <MetricCard\n          title=\"å†…å­˜\"\n          value={`${data.summary.keyMetrics.memoryUsage}MB`}\n          icon={Database}\n          color=\"text-purple-600\"\n        />\n        <MetricCard\n          title=\"é¢„åŠ è½½\"\n          value={data.summary.keyMetrics.activePreloads}\n          icon={Activity}\n          color=\"text-orange-600\"\n        />\n      </div>\n\n      {/* å‘Šè­¦ */}\n      {data.alerts && data.alerts.length > 0 && (\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium text-sm\">å‘Šè­¦</h4>\n          {data.alerts.map((alert: any, index: number) => (\n            <div\n              key={index}\n              className={`p-3 rounded text-sm ${\n                alert.level === 'critical'\n                  ? 'bg-red-50 text-red-700 border border-red-200'\n                  : 'bg-yellow-50 text-yellow-700 border border-yellow-200'\n              }`}\n            >\n              <div className=\"font-medium\">{alert.message}</div>\n              <div className=\"text-xs mt-1 opacity-75\">{alert.recommendation}</div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* è¶‹åŠ¿ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">è¶‹åŠ¿</h4>\n        <div className=\"space-y-1\">\n          <TrendItem label=\"å‘½ä¸­ç‡\" trend={data.summary.trends.hitRate} />\n          <TrendItem label=\"å†…å­˜ä½¿ç”¨\" trend={data.summary.trends.memoryUsage} />\n          <TrendItem label=\"åŠ è½½æ—¶é—´\" trend={data.summary.trends.loadTime} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// æŒ‡æ ‡æ ‡ç­¾é¡µ\nfunction MetricsTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <MetricRow label=\"æ€»é¢„åŠ è½½æ¬¡æ•°\" value={data.metrics.totalPreloads} />\n        <MetricRow label=\"æˆåŠŸç‡\" value={`${Math.round(data.metrics.successRate * 100)}%`} />\n        <MetricRow label=\"å¹³å‡åŠ è½½æ—¶é—´\" value={`${Math.round(data.metrics.averageLoadTime)}ms`} />\n        <MetricRow label=\"å¸¦å®½ä½¿ç”¨\" value={`${data.metrics.bandwidthUsage.toFixed(1)}Mbps`} />\n        <MetricRow label=\"å¤±è´¥æ¬¡æ•°\" value={data.metrics.failureCount} />\n      </div>\n\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-sm\">å®æ—¶æŒ‡æ ‡</h4>\n        <MetricRow label=\"é˜Ÿåˆ—é•¿åº¦\" value={data.realtimeMetrics.queueLength} />\n        <MetricRow label=\"å¹¶å‘åŠ è½½\" value={data.realtimeMetrics.currentConcurrentLoads} />\n        <MetricRow label=\"ç½‘ç»œä½¿ç”¨\" value={`${data.realtimeMetrics.currentNetworkUsage.toFixed(1)}Mbps`} />\n      </div>\n\n      {/* äº‹ä»¶ç»Ÿè®¡ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">äº‹ä»¶ç»Ÿè®¡</h4>\n        <div className=\"text-xs space-y-1\">\n          <div className=\"flex justify-between\">\n            <span>æ€»äº‹ä»¶:</span>\n            <span>{data.eventStats.totalEvents}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span>é”™è¯¯ç‡:</span>\n            <span>{Math.round(data.eventStats.errorRate * 100)}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// é˜Ÿåˆ—æ ‡ç­¾é¡µ\nfunction QueueTab({ preloaderHook }: { preloaderHook: UseVideoPreloader }) {\n  const [queueItems, setQueueItems] = useState<any[]>([])\n\n  useEffect(() => {\n    if (preloaderHook.preloader) {\n      const items = preloaderHook.preloader.getQueue()\n      setQueueItems(items)\n    }\n  }, [preloaderHook.preloader])\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h4 className=\"font-medium text-sm\">é¢„åŠ è½½é˜Ÿåˆ— ({queueItems.length})</h4>\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={() => {\n            if (preloaderHook.preloader) {\n              const items = preloaderHook.preloader.getQueue()\n              setQueueItems(items)\n            }\n          }}\n        >\n          <RefreshCw className=\"w-3 h-3\" />\n        </Button>\n      </div>\n\n      <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n        {queueItems.map((item, index) => (\n          <div key={index} className=\"p-2 bg-gray-50 rounded text-xs\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"font-medium truncate\">{String(item.video.id)}</span>\n              <StatusBadge status={item.status} />\n            </div>\n            <div className=\"flex justify-between text-gray-500\">\n              <span>ä¼˜å…ˆçº§: {Math.round(item.priorityScore)}</span>\n              <span>è¿›åº¦: {Math.round(item.progress * 100)}%</span>\n            </div>\n            {item.progress > 0 && (\n              <Progress value={item.progress * 100} className=\"h-1 mt-1\" />\n            )}\n          </div>\n        ))}\n        \n        {queueItems.length === 0 && (\n          <div className=\"text-center text-gray-500 py-4\">\n            é˜Ÿåˆ—ä¸ºç©º\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// è®¾ç½®æ ‡ç­¾é¡µ\nfunction SettingsTab({ \n  preloaderHook, \n  refreshInterval, \n  onRefreshIntervalChange,\n  monitor \n}: {\n  preloaderHook: UseVideoPreloader\n  refreshInterval: number\n  onRefreshIntervalChange: (interval: number) => void\n  monitor: VideoPreloaderMonitor | null\n}) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"text-sm font-medium\">åˆ·æ–°é—´éš” (ms)</label>\n          <input\n            type=\"number\"\n            value={refreshInterval}\n            onChange={(e) => onRefreshIntervalChange(Number(e.target.value))}\n            className=\"w-full mt-1 px-2 py-1 border rounded text-sm\"\n            min=\"500\"\n            max=\"10000\"\n            step=\"500\"\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">æ“ä½œ</h4>\n          <div className=\"space-y-1\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (monitor) {\n                  monitor.exportPerformanceData()\n                }\n              }}\n            >\n              <Download className=\"w-3 h-3 mr-2\" />\n              å¯¼å‡ºæ€§èƒ½æ•°æ®\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.optimizeMemoryUsage) {\n                  preloaderHook.optimizeMemoryUsage()\n                }\n              }}\n            >\n              <Database className=\"w-3 h-3 mr-2\" />\n              ä¼˜åŒ–å†…å­˜ä½¿ç”¨\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.adaptToNetworkConditions) {\n                  preloaderHook.adaptToNetworkConditions()\n                }\n              }}\n            >\n              <Wifi className=\"w-3 h-3 mr-2\" />\n              é€‚åº”ç½‘ç»œæ¡ä»¶\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">å½“å‰é…ç½®</h4>\n          <div className=\"text-xs space-y-1 bg-gray-50 p-2 rounded\">\n            <div>å¹¶å‘æ•°: {preloaderHook.config.maxConcurrentLoads}</div>\n            <div>å†…å­˜é™åˆ¶: {preloaderHook.config.memoryLimit}MB</div>\n            <div>é˜Ÿåˆ—å¤§å°: {preloaderHook.config.maxQueueSize}</div>\n            <div>ç½‘ç»œæ„ŸçŸ¥: {preloaderHook.config.networkAware ? 'æ˜¯' : 'å¦'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// è¾…åŠ©ç»„ä»¶\nfunction MetricCard({ title, value, icon: Icon, color }: {\n  title: string\n  value: string | number\n  icon: any\n  color: string\n}) {\n  return (\n    <div className=\"p-3 bg-white border rounded\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-xs text-gray-500\">{title}</div>\n          <div className=\"font-bold text-lg\">{value}</div>\n        </div>\n        <Icon className={`w-5 h-5 ${color}`} />\n      </div>\n    </div>\n  )\n}\n\nfunction MetricRow({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div className=\"flex justify-between text-sm\">\n      <span className=\"text-gray-600\">{label}</span>\n      <span className=\"font-medium\">{value}</span>\n    </div>\n  )\n}\n\nfunction TrendItem({ label, trend }: { label: string; trend: string }) {\n  const trendConfig = {\n    improving: { color: 'text-green-600', symbol: 'â†—' },\n    degrading: { color: 'text-red-600', symbol: 'â†˜' },\n    stable: { color: 'text-gray-600', symbol: 'â†’' }\n  }\n\n  const config = trendConfig[trend as keyof typeof trendConfig] || trendConfig.stable\n\n  return (\n    <div className=\"flex justify-between items-center text-xs\">\n      <span>{label}</span>\n      <span className={`${config.color} font-medium`}>\n        {config.symbol} {trend}\n      </span>\n    </div>\n  )\n}\n\nfunction StatusBadge({ status }: { status: string }) {\n  const statusConfig = {\n    pending: { color: 'bg-gray-100 text-gray-700', label: 'ç­‰å¾…' },\n    loading: { color: 'bg-blue-100 text-blue-700', label: 'åŠ è½½ä¸­' },\n    loaded: { color: 'bg-green-100 text-green-700', label: 'å®Œæˆ' },\n    error: { color: 'bg-red-100 text-red-700', label: 'é”™è¯¯' },\n    cancelled: { color: 'bg-yellow-100 text-yellow-700', label: 'å–æ¶ˆ' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending\n\n  return (\n    <Badge className={`text-xs ${config.color}`}>\n      {config.label}\n    </Badge>\n  )\n}"
    : [35;1m                                         ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 â¨¯ ./components/video-preloader-debug-panel.tsx
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/components/video-preloader-debug-panel.tsx[0m:36:1]
 [2m33[0m | import { UseVideoPreloader } from '@/types/video-preloader'
 [2m34[0m | import { VideoPreloaderMonitor, createDebugPanelData } from '@/lib/video-preloader-debug'
 [2m35[0m | 
 [2m36[0m | interface VideoPreloaderDebugPanelProps {\n  preloaderHook: UseVideoPreloader\n  isVisible?: boolean\n}\n\nexport function VideoPreloaderDebugPanel({ \n  preloaderHook, \n  isVisible = false \n}: VideoPreloaderDebugPanelProps) {\n  const [isOpen, setIsOpen] = useState(isVisible)\n  const [monitor, setMonitor] = useState<VideoPreloaderMonitor | null>(null)\n  const [debugData, setDebugData] = useState<any>(null)\n  const [refreshInterval, setRefreshInterval] = useState(2000)\n  const intervalRef = useRef<number | null>(null)\n\n  // åˆå§‹åŒ–ç›‘æ§å™¨\n  useEffect(() => {\n    if (preloaderHook.preloader && preloaderHook.isInitialized) {\n      const newMonitor = new VideoPreloaderMonitor(preloaderHook.preloader)\n      newMonitor.startMonitoring(1000)\n      setMonitor(newMonitor)\n\n      return () => {\n        newMonitor.stopMonitoring()\n      }\n    }\n  }, [preloaderHook.preloader, preloaderHook.isInitialized])\n\n  // å®šæœŸæ›´æ–°è°ƒè¯•æ•°æ®\n  useEffect(() => {\n    if (!monitor || !isOpen) return\n\n    const updateDebugData = () => {\n      try {\n        const data = createDebugPanelData(monitor)\n        setDebugData(data)\n      } catch (error) {\n        console.error('æ›´æ–°è°ƒè¯•æ•°æ®å¤±è´¥:', error)\n      }\n    }\n\n    updateDebugData()\n    intervalRef.current = window.setInterval(updateDebugData, refreshInterval)\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [monitor, isOpen, refreshInterval])\n\n  if (!isOpen) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white shadow-lg\"\n        >\n          <Activity className=\"w-4 h-4 mr-2\" />\n          é¢„åŠ è½½è°ƒè¯•\n        </Button>\n      </div>\n    )\n  }\n\n  if (!debugData) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Card className=\"w-80\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-center text-gray-500\">\n              <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n              åˆå§‹åŒ–è°ƒè¯•é¢æ¿...\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50\">\n      <Card className=\"w-96 max-h-[80vh] overflow-hidden shadow-2xl\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg flex items-center\">\n              <Activity className=\"w-5 h-5 mr-2\" />\n              é¢„åŠ è½½ç›‘æ§\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <StatusIndicator status={debugData.summary.status} />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsOpen(false)}\n              >\n                Ã—\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-4 overflow-y-auto max-h-[60vh]\">\n          <Tabs defaultValue=\"overview\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4\">\n              <TabsTrigger value=\"overview\">æ¦‚è§ˆ</TabsTrigger>\n              <TabsTrigger value=\"metrics\">æŒ‡æ ‡</TabsTrigger>\n              <TabsTrigger value=\"queue\">é˜Ÿåˆ—</TabsTrigger>\n              <TabsTrigger value=\"settings\">è®¾ç½®</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-4\">\n              <OverviewTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"metrics\" className=\"space-y-4\">\n              <MetricsTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"queue\" className=\"space-y-4\">\n              <QueueTab preloaderHook={preloaderHook} />\n            </TabsContent>\n\n            <TabsContent value=\"settings\" className=\"space-y-4\">\n              <SettingsTab \n                preloaderHook={preloaderHook}\n                refreshInterval={refreshInterval}\n                onRefreshIntervalChange={setRefreshInterval}\n                monitor={monitor}\n              />\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n// çŠ¶æ€æŒ‡ç¤ºå™¨ç»„ä»¶\nfunction StatusIndicator({ status }: { status: string }) {\n  const statusConfig = {\n    excellent: { icon: CheckCircle, color: 'text-green-500', bg: 'bg-green-100' },\n    good: { icon: CheckCircle, color: 'text-blue-500', bg: 'bg-blue-100' },\n    warning: { icon: AlertTriangle, color: 'text-yellow-500', bg: 'bg-yellow-100' },\n    critical: { icon: XCircle, color: 'text-red-500', bg: 'bg-red-100' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.good\n  const Icon = config.icon\n\n  return (\n    <div className={`p-1 rounded-full ${config.bg}`}>\n      <Icon className={`w-4 h-4 ${config.color}`} />\n    </div>\n  )\n}\n\n// æ¦‚è§ˆæ ‡ç­¾é¡µ\nfunction OverviewTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      {/* å…³é”®æŒ‡æ ‡ */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <MetricCard\n          title=\"å‘½ä¸­ç‡\"\n          value={`${data.summary.keyMetrics.hitRate}%`}\n          icon={Zap}\n          color=\"text-green-600\"\n        />\n        <MetricCard\n          title=\"å»¶è¿Ÿ\"\n          value={`${data.summary.keyMetrics.averageDelay}ms`}\n          icon={Clock}\n          color=\"text-blue-600\"\n        />\n        <MetricCard\n          title=\"å†…å­˜\"\n          value={`${data.summary.keyMetrics.memoryUsage}MB`}\n          icon={Database}\n          color=\"text-purple-600\"\n        />\n        <MetricCard\n          title=\"é¢„åŠ è½½\"\n          value={data.summary.keyMetrics.activePreloads}\n          icon={Activity}\n          color=\"text-orange-600\"\n        />\n      </div>\n\n      {/* å‘Šè­¦ */}\n      {data.alerts && data.alerts.length > 0 && (\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium text-sm\">å‘Šè­¦</h4>\n          {data.alerts.map((alert: any, index: number) => (\n            <div\n              key={index}\n              className={`p-3 rounded text-sm ${\n                alert.level === 'critical'\n                  ? 'bg-red-50 text-red-700 border border-red-200'\n                  : 'bg-yellow-50 text-yellow-700 border border-yellow-200'\n              }`}\n            >\n              <div className=\"font-medium\">{alert.message}</div>\n              <div className=\"text-xs mt-1 opacity-75\">{alert.recommendation}</div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* è¶‹åŠ¿ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">è¶‹åŠ¿</h4>\n        <div className=\"space-y-1\">\n          <TrendItem label=\"å‘½ä¸­ç‡\" trend={data.summary.trends.hitRate} />\n          <TrendItem label=\"å†…å­˜ä½¿ç”¨\" trend={data.summary.trends.memoryUsage} />\n          <TrendItem label=\"åŠ è½½æ—¶é—´\" trend={data.summary.trends.loadTime} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// æŒ‡æ ‡æ ‡ç­¾é¡µ\nfunction MetricsTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <MetricRow label=\"æ€»é¢„åŠ è½½æ¬¡æ•°\" value={data.metrics.totalPreloads} />\n        <MetricRow label=\"æˆåŠŸç‡\" value={`${Math.round(data.metrics.successRate * 100)}%`} />\n        <MetricRow label=\"å¹³å‡åŠ è½½æ—¶é—´\" value={`${Math.round(data.metrics.averageLoadTime)}ms`} />\n        <MetricRow label=\"å¸¦å®½ä½¿ç”¨\" value={`${data.metrics.bandwidthUsage.toFixed(1)}Mbps`} />\n        <MetricRow label=\"å¤±è´¥æ¬¡æ•°\" value={data.metrics.failureCount} />\n      </div>\n\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-sm\">å®æ—¶æŒ‡æ ‡</h4>\n        <MetricRow label=\"é˜Ÿåˆ—é•¿åº¦\" value={data.realtimeMetrics.queueLength} />\n        <MetricRow label=\"å¹¶å‘åŠ è½½\" value={data.realtimeMetrics.currentConcurrentLoads} />\n        <MetricRow label=\"ç½‘ç»œä½¿ç”¨\" value={`${data.realtimeMetrics.currentNetworkUsage.toFixed(1)}Mbps`} />\n      </div>\n\n      {/* äº‹ä»¶ç»Ÿè®¡ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">äº‹ä»¶ç»Ÿè®¡</h4>\n        <div className=\"text-xs space-y-1\">\n          <div className=\"flex justify-between\">\n            <span>æ€»äº‹ä»¶:</span>\n            <span>{data.eventStats.totalEvents}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span>é”™è¯¯ç‡:</span>\n            <span>{Math.round(data.eventStats.errorRate * 100)}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// é˜Ÿåˆ—æ ‡ç­¾é¡µ\nfunction QueueTab({ preloaderHook }: { preloaderHook: UseVideoPreloader }) {\n  const [queueItems, setQueueItems] = useState<any[]>([])\n\n  useEffect(() => {\n    if (preloaderHook.preloader) {\n      const items = preloaderHook.preloader.getQueue()\n      setQueueItems(items)\n    }\n  }, [preloaderHook.preloader])\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h4 className=\"font-medium text-sm\">é¢„åŠ è½½é˜Ÿåˆ— ({queueItems.length})</h4>\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={() => {\n            if (preloaderHook.preloader) {\n              const items = preloaderHook.preloader.getQueue()\n              setQueueItems(items)\n            }\n          }}\n        >\n          <RefreshCw className=\"w-3 h-3\" />\n        </Button>\n      </div>\n\n      <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n        {queueItems.map((item, index) => (\n          <div key={index} className=\"p-2 bg-gray-50 rounded text-xs\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"font-medium truncate\">{String(item.video.id)}</span>\n              <StatusBadge status={item.status} />\n            </div>\n            <div className=\"flex justify-between text-gray-500\">\n              <span>ä¼˜å…ˆçº§: {Math.round(item.priorityScore)}</span>\n              <span>è¿›åº¦: {Math.round(item.progress * 100)}%</span>\n            </div>\n            {item.progress > 0 && (\n              <Progress value={item.progress * 100} className=\"h-1 mt-1\" />\n            )}\n          </div>\n        ))}\n        \n        {queueItems.length === 0 && (\n          <div className=\"text-center text-gray-500 py-4\">\n            é˜Ÿåˆ—ä¸ºç©º\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// è®¾ç½®æ ‡ç­¾é¡µ\nfunction SettingsTab({ \n  preloaderHook, \n  refreshInterval, \n  onRefreshIntervalChange,\n  monitor \n}: {\n  preloaderHook: UseVideoPreloader\n  refreshInterval: number\n  onRefreshIntervalChange: (interval: number) => void\n  monitor: VideoPreloaderMonitor | null\n}) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"text-sm font-medium\">åˆ·æ–°é—´éš” (ms)</label>\n          <input\n            type=\"number\"\n            value={refreshInterval}\n            onChange={(e) => onRefreshIntervalChange(Number(e.target.value))}\n            className=\"w-full mt-1 px-2 py-1 border rounded text-sm\"\n            min=\"500\"\n            max=\"10000\"\n            step=\"500\"\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">æ“ä½œ</h4>\n          <div className=\"space-y-1\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (monitor) {\n                  monitor.exportPerformanceData()\n                }\n              }}\n            >\n              <Download className=\"w-3 h-3 mr-2\" />\n              å¯¼å‡ºæ€§èƒ½æ•°æ®\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.optimizeMemoryUsage) {\n                  preloaderHook.optimizeMemoryUsage()\n                }\n              }}\n            >\n              <Database className=\"w-3 h-3 mr-2\" />\n              ä¼˜åŒ–å†…å­˜ä½¿ç”¨\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.adaptToNetworkConditions) {\n                  preloaderHook.adaptToNetworkConditions()\n                }\n              }}\n            >\n              <Wifi className=\"w-3 h-3 mr-2\" />\n              é€‚åº”ç½‘ç»œæ¡ä»¶\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">å½“å‰é…ç½®</h4>\n          <div className=\"text-xs space-y-1 bg-gray-50 p-2 rounded\">\n            <div>å¹¶å‘æ•°: {preloaderHook.config.maxConcurrentLoads}</div>\n            <div>å†…å­˜é™åˆ¶: {preloaderHook.config.memoryLimit}MB</div>\n            <div>é˜Ÿåˆ—å¤§å°: {preloaderHook.config.maxQueueSize}</div>\n            <div>ç½‘ç»œæ„ŸçŸ¥: {preloaderHook.config.networkAware ? 'æ˜¯' : 'å¦'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// è¾…åŠ©ç»„ä»¶\nfunction MetricCard({ title, value, icon: Icon, color }: {\n  title: string\n  value: string | number\n  icon: any\n  color: string\n}) {\n  return (\n    <div className=\"p-3 bg-white border rounded\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-xs text-gray-500\">{title}</div>\n          <div className=\"font-bold text-lg\">{value}</div>\n        </div>\n        <Icon className={`w-5 h-5 ${color}`} />\n      </div>\n    </div>\n  )\n}\n\nfunction MetricRow({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div className=\"flex justify-between text-sm\">\n      <span className=\"text-gray-600\">{label}</span>\n      <span className=\"font-medium\">{value}</span>\n    </div>\n  )\n}\n\nfunction TrendItem({ label, trend }: { label: string; trend: string }) {\n  const trendConfig = {\n    improving: { color: 'text-green-600', symbol: 'â†—' },\n    degrading: { color: 'text-red-600', symbol: 'â†˜' },\n    stable: { color: 'text-gray-600', symbol: 'â†’' }\n  }\n\n  const config = trendConfig[trend as keyof typeof trendConfig] || trendConfig.stable\n\n  return (\n    <div className=\"flex justify-between items-center text-xs\">\n      <span>{label}</span>\n      <span className={`${config.color} font-medium`}>\n        {config.symbol} {trend}\n      </span>\n    </div>\n  )\n}\n\nfunction StatusBadge({ status }: { status: string }) {\n  const statusConfig = {\n    pending: { color: 'bg-gray-100 text-gray-700', label: 'ç­‰å¾…' },\n    loading: { color: 'bg-blue-100 text-blue-700', label: 'åŠ è½½ä¸­' },\n    loaded: { color: 'bg-green-100 text-green-700', label: 'å®Œæˆ' },\n    error: { color: 'bg-red-100 text-red-700', label: 'é”™è¯¯' },\n    cancelled: { color: 'bg-yellow-100 text-yellow-700', label: 'å–æ¶ˆ' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending\n\n  return (\n    <Badge className={`text-xs ${config.color}`}>\n      {config.label}\n    </Badge>\n  )\n}"
    : [35;1m                                         ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 â¨¯ ./components/video-preloader-debug-panel.tsx
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/components/video-preloader-debug-panel.tsx[0m:36:1]
 [2m33[0m | import { UseVideoPreloader } from '@/types/video-preloader'
 [2m34[0m | import { VideoPreloaderMonitor, createDebugPanelData } from '@/lib/video-preloader-debug'
 [2m35[0m | 
 [2m36[0m | interface VideoPreloaderDebugPanelProps {\n  preloaderHook: UseVideoPreloader\n  isVisible?: boolean\n}\n\nexport function VideoPreloaderDebugPanel({ \n  preloaderHook, \n  isVisible = false \n}: VideoPreloaderDebugPanelProps) {\n  const [isOpen, setIsOpen] = useState(isVisible)\n  const [monitor, setMonitor] = useState<VideoPreloaderMonitor | null>(null)\n  const [debugData, setDebugData] = useState<any>(null)\n  const [refreshInterval, setRefreshInterval] = useState(2000)\n  const intervalRef = useRef<number | null>(null)\n\n  // åˆå§‹åŒ–ç›‘æ§å™¨\n  useEffect(() => {\n    if (preloaderHook.preloader && preloaderHook.isInitialized) {\n      const newMonitor = new VideoPreloaderMonitor(preloaderHook.preloader)\n      newMonitor.startMonitoring(1000)\n      setMonitor(newMonitor)\n\n      return () => {\n        newMonitor.stopMonitoring()\n      }\n    }\n  }, [preloaderHook.preloader, preloaderHook.isInitialized])\n\n  // å®šæœŸæ›´æ–°è°ƒè¯•æ•°æ®\n  useEffect(() => {\n    if (!monitor || !isOpen) return\n\n    const updateDebugData = () => {\n      try {\n        const data = createDebugPanelData(monitor)\n        setDebugData(data)\n      } catch (error) {\n        console.error('æ›´æ–°è°ƒè¯•æ•°æ®å¤±è´¥:', error)\n      }\n    }\n\n    updateDebugData()\n    intervalRef.current = window.setInterval(updateDebugData, refreshInterval)\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [monitor, isOpen, refreshInterval])\n\n  if (!isOpen) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white shadow-lg\"\n        >\n          <Activity className=\"w-4 h-4 mr-2\" />\n          é¢„åŠ è½½è°ƒè¯•\n        </Button>\n      </div>\n    )\n  }\n\n  if (!debugData) {\n    return (\n      <div className=\"fixed bottom-4 right-4 z-50\">\n        <Card className=\"w-80\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-center text-gray-500\">\n              <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n              åˆå§‹åŒ–è°ƒè¯•é¢æ¿...\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50\">\n      <Card className=\"w-96 max-h-[80vh] overflow-hidden shadow-2xl\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg flex items-center\">\n              <Activity className=\"w-5 h-5 mr-2\" />\n              é¢„åŠ è½½ç›‘æ§\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <StatusIndicator status={debugData.summary.status} />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsOpen(false)}\n              >\n                Ã—\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-4 overflow-y-auto max-h-[60vh]\">\n          <Tabs defaultValue=\"overview\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4\">\n              <TabsTrigger value=\"overview\">æ¦‚è§ˆ</TabsTrigger>\n              <TabsTrigger value=\"metrics\">æŒ‡æ ‡</TabsTrigger>\n              <TabsTrigger value=\"queue\">é˜Ÿåˆ—</TabsTrigger>\n              <TabsTrigger value=\"settings\">è®¾ç½®</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-4\">\n              <OverviewTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"metrics\" className=\"space-y-4\">\n              <MetricsTab data={debugData} />\n            </TabsContent>\n\n            <TabsContent value=\"queue\" className=\"space-y-4\">\n              <QueueTab preloaderHook={preloaderHook} />\n            </TabsContent>\n\n            <TabsContent value=\"settings\" className=\"space-y-4\">\n              <SettingsTab \n                preloaderHook={preloaderHook}\n                refreshInterval={refreshInterval}\n                onRefreshIntervalChange={setRefreshInterval}\n                monitor={monitor}\n              />\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n// çŠ¶æ€æŒ‡ç¤ºå™¨ç»„ä»¶\nfunction StatusIndicator({ status }: { status: string }) {\n  const statusConfig = {\n    excellent: { icon: CheckCircle, color: 'text-green-500', bg: 'bg-green-100' },\n    good: { icon: CheckCircle, color: 'text-blue-500', bg: 'bg-blue-100' },\n    warning: { icon: AlertTriangle, color: 'text-yellow-500', bg: 'bg-yellow-100' },\n    critical: { icon: XCircle, color: 'text-red-500', bg: 'bg-red-100' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.good\n  const Icon = config.icon\n\n  return (\n    <div className={`p-1 rounded-full ${config.bg}`}>\n      <Icon className={`w-4 h-4 ${config.color}`} />\n    </div>\n  )\n}\n\n// æ¦‚è§ˆæ ‡ç­¾é¡µ\nfunction OverviewTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      {/* å…³é”®æŒ‡æ ‡ */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <MetricCard\n          title=\"å‘½ä¸­ç‡\"\n          value={`${data.summary.keyMetrics.hitRate}%`}\n          icon={Zap}\n          color=\"text-green-600\"\n        />\n        <MetricCard\n          title=\"å»¶è¿Ÿ\"\n          value={`${data.summary.keyMetrics.averageDelay}ms`}\n          icon={Clock}\n          color=\"text-blue-600\"\n        />\n        <MetricCard\n          title=\"å†…å­˜\"\n          value={`${data.summary.keyMetrics.memoryUsage}MB`}\n          icon={Database}\n          color=\"text-purple-600\"\n        />\n        <MetricCard\n          title=\"é¢„åŠ è½½\"\n          value={data.summary.keyMetrics.activePreloads}\n          icon={Activity}\n          color=\"text-orange-600\"\n        />\n      </div>\n\n      {/* å‘Šè­¦ */}\n      {data.alerts && data.alerts.length > 0 && (\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium text-sm\">å‘Šè­¦</h4>\n          {data.alerts.map((alert: any, index: number) => (\n            <div\n              key={index}\n              className={`p-3 rounded text-sm ${\n                alert.level === 'critical'\n                  ? 'bg-red-50 text-red-700 border border-red-200'\n                  : 'bg-yellow-50 text-yellow-700 border border-yellow-200'\n              }`}\n            >\n              <div className=\"font-medium\">{alert.message}</div>\n              <div className=\"text-xs mt-1 opacity-75\">{alert.recommendation}</div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* è¶‹åŠ¿ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">è¶‹åŠ¿</h4>\n        <div className=\"space-y-1\">\n          <TrendItem label=\"å‘½ä¸­ç‡\" trend={data.summary.trends.hitRate} />\n          <TrendItem label=\"å†…å­˜ä½¿ç”¨\" trend={data.summary.trends.memoryUsage} />\n          <TrendItem label=\"åŠ è½½æ—¶é—´\" trend={data.summary.trends.loadTime} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// æŒ‡æ ‡æ ‡ç­¾é¡µ\nfunction MetricsTab({ data }: { data: any }) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <MetricRow label=\"æ€»é¢„åŠ è½½æ¬¡æ•°\" value={data.metrics.totalPreloads} />\n        <MetricRow label=\"æˆåŠŸç‡\" value={`${Math.round(data.metrics.successRate * 100)}%`} />\n        <MetricRow label=\"å¹³å‡åŠ è½½æ—¶é—´\" value={`${Math.round(data.metrics.averageLoadTime)}ms`} />\n        <MetricRow label=\"å¸¦å®½ä½¿ç”¨\" value={`${data.metrics.bandwidthUsage.toFixed(1)}Mbps`} />\n        <MetricRow label=\"å¤±è´¥æ¬¡æ•°\" value={data.metrics.failureCount} />\n      </div>\n\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-sm\">å®æ—¶æŒ‡æ ‡</h4>\n        <MetricRow label=\"é˜Ÿåˆ—é•¿åº¦\" value={data.realtimeMetrics.queueLength} />\n        <MetricRow label=\"å¹¶å‘åŠ è½½\" value={data.realtimeMetrics.currentConcurrentLoads} />\n        <MetricRow label=\"ç½‘ç»œä½¿ç”¨\" value={`${data.realtimeMetrics.currentNetworkUsage.toFixed(1)}Mbps`} />\n      </div>\n\n      {/* äº‹ä»¶ç»Ÿè®¡ */}\n      <div className=\"space-y-2\">\n        <h4 className=\"font-medium text-sm\">äº‹ä»¶ç»Ÿè®¡</h4>\n        <div className=\"text-xs space-y-1\">\n          <div className=\"flex justify-between\">\n            <span>æ€»äº‹ä»¶:</span>\n            <span>{data.eventStats.totalEvents}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span>é”™è¯¯ç‡:</span>\n            <span>{Math.round(data.eventStats.errorRate * 100)}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// é˜Ÿåˆ—æ ‡ç­¾é¡µ\nfunction QueueTab({ preloaderHook }: { preloaderHook: UseVideoPreloader }) {\n  const [queueItems, setQueueItems] = useState<any[]>([])\n\n  useEffect(() => {\n    if (preloaderHook.preloader) {\n      const items = preloaderHook.preloader.getQueue()\n      setQueueItems(items)\n    }\n  }, [preloaderHook.preloader])\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h4 className=\"font-medium text-sm\">é¢„åŠ è½½é˜Ÿåˆ— ({queueItems.length})</h4>\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={() => {\n            if (preloaderHook.preloader) {\n              const items = preloaderHook.preloader.getQueue()\n              setQueueItems(items)\n            }\n          }}\n        >\n          <RefreshCw className=\"w-3 h-3\" />\n        </Button>\n      </div>\n\n      <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n        {queueItems.map((item, index) => (\n          <div key={index} className=\"p-2 bg-gray-50 rounded text-xs\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"font-medium truncate\">{String(item.video.id)}</span>\n              <StatusBadge status={item.status} />\n            </div>\n            <div className=\"flex justify-between text-gray-500\">\n              <span>ä¼˜å…ˆçº§: {Math.round(item.priorityScore)}</span>\n              <span>è¿›åº¦: {Math.round(item.progress * 100)}%</span>\n            </div>\n            {item.progress > 0 && (\n              <Progress value={item.progress * 100} className=\"h-1 mt-1\" />\n            )}\n          </div>\n        ))}\n        \n        {queueItems.length === 0 && (\n          <div className=\"text-center text-gray-500 py-4\">\n            é˜Ÿåˆ—ä¸ºç©º\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// è®¾ç½®æ ‡ç­¾é¡µ\nfunction SettingsTab({ \n  preloaderHook, \n  refreshInterval, \n  onRefreshIntervalChange,\n  monitor \n}: {\n  preloaderHook: UseVideoPreloader\n  refreshInterval: number\n  onRefreshIntervalChange: (interval: number) => void\n  monitor: VideoPreloaderMonitor | null\n}) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"text-sm font-medium\">åˆ·æ–°é—´éš” (ms)</label>\n          <input\n            type=\"number\"\n            value={refreshInterval}\n            onChange={(e) => onRefreshIntervalChange(Number(e.target.value))}\n            className=\"w-full mt-1 px-2 py-1 border rounded text-sm\"\n            min=\"500\"\n            max=\"10000\"\n            step=\"500\"\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">æ“ä½œ</h4>\n          <div className=\"space-y-1\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (monitor) {\n                  monitor.exportPerformanceData()\n                }\n              }}\n            >\n              <Download className=\"w-3 h-3 mr-2\" />\n              å¯¼å‡ºæ€§èƒ½æ•°æ®\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.optimizeMemoryUsage) {\n                  preloaderHook.optimizeMemoryUsage()\n                }\n              }}\n            >\n              <Database className=\"w-3 h-3 mr-2\" />\n              ä¼˜åŒ–å†…å­˜ä½¿ç”¨\n            </Button>\n            \n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-full justify-start\"\n              onClick={() => {\n                if (preloaderHook.adaptToNetworkConditions) {\n                  preloaderHook.adaptToNetworkConditions()\n                }\n              }}\n            >\n              <Wifi className=\"w-3 h-3 mr-2\" />\n              é€‚åº”ç½‘ç»œæ¡ä»¶\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium\">å½“å‰é…ç½®</h4>\n          <div className=\"text-xs space-y-1 bg-gray-50 p-2 rounded\">\n            <div>å¹¶å‘æ•°: {preloaderHook.config.maxConcurrentLoads}</div>\n            <div>å†…å­˜é™åˆ¶: {preloaderHook.config.memoryLimit}MB</div>\n            <div>é˜Ÿåˆ—å¤§å°: {preloaderHook.config.maxQueueSize}</div>\n            <div>ç½‘ç»œæ„ŸçŸ¥: {preloaderHook.config.networkAware ? 'æ˜¯' : 'å¦'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// è¾…åŠ©ç»„ä»¶\nfunction MetricCard({ title, value, icon: Icon, color }: {\n  title: string\n  value: string | number\n  icon: any\n  color: string\n}) {\n  return (\n    <div className=\"p-3 bg-white border rounded\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-xs text-gray-500\">{title}</div>\n          <div className=\"font-bold text-lg\">{value}</div>\n        </div>\n        <Icon className={`w-5 h-5 ${color}`} />\n      </div>\n    </div>\n  )\n}\n\nfunction MetricRow({ label, value }: { label: string; value: string | number }) {\n  return (\n    <div className=\"flex justify-between text-sm\">\n      <span className=\"text-gray-600\">{label}</span>\n      <span className=\"font-medium\">{value}</span>\n    </div>\n  )\n}\n\nfunction TrendItem({ label, trend }: { label: string; trend: string }) {\n  const trendConfig = {\n    improving: { color: 'text-green-600', symbol: 'â†—' },\n    degrading: { color: 'text-red-600', symbol: 'â†˜' },\n    stable: { color: 'text-gray-600', symbol: 'â†’' }\n  }\n\n  const config = trendConfig[trend as keyof typeof trendConfig] || trendConfig.stable\n\n  return (\n    <div className=\"flex justify-between items-center text-xs\">\n      <span>{label}</span>\n      <span className={`${config.color} font-medium`}>\n        {config.symbol} {trend}\n      </span>\n    </div>\n  )\n}\n\nfunction StatusBadge({ status }: { status: string }) {\n  const statusConfig = {\n    pending: { color: 'bg-gray-100 text-gray-700', label: 'ç­‰å¾…' },\n    loading: { color: 'bg-blue-100 text-blue-700', label: 'åŠ è½½ä¸­' },\n    loaded: { color: 'bg-green-100 text-green-700', label: 'å®Œæˆ' },\n    error: { color: 'bg-red-100 text-red-700', label: 'é”™è¯¯' },\n    cancelled: { color: 'bg-yellow-100 text-yellow-700', label: 'å–æ¶ˆ' }\n  }\n\n  const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending\n\n  return (\n    <Badge className={`text-xs ${config.color}`}>\n      {config.label}\n    </Badge>\n  )\n}"
    : [35;1m                                         ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 â¨¯ ./lib/video-preloader-debug.ts
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/lib/video-preloader-debug.ts[0m:11:1]
 [2m 8[0m |  * - è‡ªåŠ¨æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ
 [2m 9[0m |  */
 [2m10[0m | 
 [2m11[0m | import {\n  PerformanceMetrics,\n  RealtimeMetrics,\n  DebugInfo,\n  PreloadEvent,\n  PreloadEventType,\n  VideoPreloader\n} from '@/types/video-preloader'\n\n/**\n * æ€§èƒ½ç›‘æ§å™¨ç±»\n */\nexport class VideoPreloaderMonitor {\n  private preloader: VideoPreloader\n  private eventLog: PreloadEvent[] = []\n  private performanceLog: PerformanceSnapshot[] = []\n  private monitoringInterval: number | null = null\n  private isMonitoring = false\n\n  constructor(preloader: VideoPreloader) {\n    this.preloader = preloader\n    this.setupEventListeners()\n  }\n\n  /**\n   * å¼€å§‹æ€§èƒ½ç›‘æ§\n   */\n  startMonitoring(intervalMs = 1000): void {\n    if (this.isMonitoring) {\n      console.warn('æ€§èƒ½ç›‘æ§å·²åœ¨è¿è¡Œä¸­')\n      return\n    }\n\n    this.isMonitoring = true\n    this.monitoringInterval = window.setInterval(() => {\n      this.capturePerformanceSnapshot()\n    }, intervalMs)\n\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²å¯åŠ¨')\n  }\n\n  /**\n   * åœæ­¢æ€§èƒ½ç›‘æ§\n   */\n  stopMonitoring(): void {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval)\n      this.monitoringInterval = null\n    }\n    this.isMonitoring = false\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²åœæ­¢')\n  }\n\n  /**\n   * è·å–æ€§èƒ½æŠ¥å‘Š\n   */\n  getPerformanceReport(): PerformanceReport {\n    const metrics = this.preloader.getMetrics()\n    const realtimeMetrics = this.preloader.getRealtimeMetrics()\n    const debugInfo = this.preloader.getDebugInfo()\n\n    return {\n      timestamp: new Date().toISOString(),\n      summary: this.generateSummary(metrics, realtimeMetrics),\n      metrics,\n      realtimeMetrics,\n      debugInfo,\n      eventLog: this.eventLog.slice(-100), // æœ€è¿‘100ä¸ªäº‹ä»¶\n      performanceLog: this.performanceLog.slice(-60), // æœ€è¿‘60ä¸ªå¿«ç…§\n      recommendations: this.generateRecommendations(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * å¯¼å‡ºæ€§èƒ½æ•°æ®\n   */\n  exportPerformanceData(): string {\n    const report = this.getPerformanceReport()\n    return JSON.stringify(report, null, 2)\n  }\n\n  /**\n   * è·å–äº‹ä»¶ç»Ÿè®¡\n   */\n  getEventStatistics(): EventStatistics {\n    const stats: EventStatistics = {\n      totalEvents: this.eventLog.length,\n      eventCounts: {},\n      recentEvents: this.eventLog.slice(-20),\n      errorRate: 0,\n      averageLoadTime: 0\n    }\n\n    // ç»Ÿè®¡å„ç±»äº‹ä»¶æ•°é‡\n    Object.values(PreloadEventType).forEach(type => {\n      stats.eventCounts[type] = this.eventLog.filter(event => event.type === type).length\n    })\n\n    // è®¡ç®—é”™è¯¯ç‡\n    const errorEvents = stats.eventCounts[PreloadEventType.LoadError] || 0\n    const totalLoadAttempts = stats.eventCounts[PreloadEventType.LoadStart] || 1\n    stats.errorRate = errorEvents / totalLoadAttempts\n\n    // è®¡ç®—å¹³å‡åŠ è½½æ—¶é—´\n    const loadEvents = this.eventLog.filter(event => \n      event.type === PreloadEventType.LoadStart || event.type === PreloadEventType.LoadComplete\n    )\n    \n    const loadTimes: number[] = []\n    for (let i = 0; i < loadEvents.length - 1; i++) {\n      const startEvent = loadEvents[i]\n      const endEvent = loadEvents[i + 1]\n      if (startEvent.type === PreloadEventType.LoadStart && \n          endEvent.type === PreloadEventType.LoadComplete &&\n          startEvent.videoId === endEvent.videoId) {\n        loadTimes.push(endEvent.timestamp - startEvent.timestamp)\n      }\n    }\n\n    if (loadTimes.length > 0) {\n      stats.averageLoadTime = loadTimes.reduce((sum, time) => sum + time, 0) / loadTimes.length\n    }\n\n    return stats\n  }\n\n  /**\n   * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨\n   */\n  private setupEventListeners(): void {\n    Object.values(PreloadEventType).forEach(eventType => {\n      this.preloader.addEventListener(eventType, (event) => {\n        this.eventLog.push(event)\n        \n        // é™åˆ¶äº‹ä»¶æ—¥å¿—å¤§å°\n        if (this.eventLog.length > 1000) {\n          this.eventLog = this.eventLog.slice(-500)\n        }\n      })\n    })\n  }\n\n  /**\n   * æ•è·æ€§èƒ½å¿«ç…§\n   */\n  private capturePerformanceSnapshot(): void {\n    const snapshot: PerformanceSnapshot = {\n      timestamp: Date.now(),\n      metrics: this.preloader.getMetrics(),\n      realtimeMetrics: this.preloader.getRealtimeMetrics(),\n      memoryUsage: this.getMemoryUsage(),\n      networkInfo: this.getNetworkInfo()\n    }\n\n    this.performanceLog.push(snapshot)\n\n    // é™åˆ¶æ€§èƒ½æ—¥å¿—å¤§å°\n    if (this.performanceLog.length > 300) {\n      this.performanceLog = this.performanceLog.slice(-150)\n    }\n  }\n\n  /**\n   * è·å–å†…å­˜ä½¿ç”¨ä¿¡æ¯\n   */\n  private getMemoryUsage(): MemoryUsageSnapshot {\n    const memoryInfo: MemoryUsageSnapshot = {\n      used: 0,\n      total: 0,\n      limit: 0\n    }\n\n    if (typeof performance !== 'undefined' && (performance as any).memory) {\n      const memory = (performance as any).memory\n      memoryInfo.used = memory.usedJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.total = memory.totalJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.limit = memory.jsHeapSizeLimit / (1024 * 1024) // MB\n    }\n\n    return memoryInfo\n  }\n\n  /**\n   * è·å–ç½‘ç»œä¿¡æ¯\n   */\n  private getNetworkInfo(): NetworkInfoSnapshot {\n    const networkInfo: NetworkInfoSnapshot = {\n      effectiveType: 'unknown',\n      downlink: 0,\n      rtt: 0,\n      saveData: false\n    }\n\n    if (typeof navigator !== 'undefined' && (navigator as any).connection) {\n      const connection = (navigator as any).connection\n      networkInfo.effectiveType = connection.effectiveType || 'unknown'\n      networkInfo.downlink = connection.downlink || 0\n      networkInfo.rtt = connection.rtt || 0\n      networkInfo.saveData = connection.saveData || false\n    }\n\n    return networkInfo\n  }\n\n  /**\n   * ç”Ÿæˆæ€§èƒ½æ‘˜è¦\n   */\n  private generateSummary(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): PerformanceSummary {\n    return {\n      status: this.getOverallStatus(metrics, realtimeMetrics),\n      keyMetrics: {\n        hitRate: Math.round(metrics.hitRate * 100),\n        averageDelay: Math.round(metrics.averageHoverDelay),\n        successRate: Math.round(metrics.successRate * 100),\n        memoryUsage: Math.round(realtimeMetrics.currentMemoryUsage),\n        activePreloads: realtimeMetrics.currentConcurrentLoads\n      },\n      trends: this.analyzeTrends(),\n      alerts: this.generateAlerts(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * è·å–æ•´ä½“çŠ¶æ€\n   */\n  private getOverallStatus(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): 'excellent' | 'good' | 'warning' | 'critical' {\n    const criticalIssues = [\n      metrics.successRate < 0.7,\n      metrics.averageHoverDelay > 500,\n      realtimeMetrics.currentMemoryUsage > 150\n    ].filter(Boolean).length\n\n    const warningIssues = [\n      metrics.hitRate < 0.5,\n      metrics.averageHoverDelay > 200,\n      realtimeMetrics.currentMemoryUsage > 100\n    ].filter(Boolean).length\n\n    if (criticalIssues > 0) return 'critical'\n    if (warningIssues > 1) return 'warning'\n    if (metrics.hitRate > 0.8 && metrics.averageHoverDelay < 100) return 'excellent'\n    return 'good'\n  }\n\n  /**\n   * åˆ†æè¶‹åŠ¿\n   */\n  private analyzeTrends(): TrendAnalysis {\n    if (this.performanceLog.length < 10) {\n      return {\n        hitRate: 'stable',\n        memoryUsage: 'stable',\n        loadTime: 'stable'\n      }\n    }\n\n    const recent = this.performanceLog.slice(-10)\n    const older = this.performanceLog.slice(-20, -10)\n\n    const recentAvgHitRate = recent.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / recent.length\n    const olderAvgHitRate = older.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / older.length\n\n    const recentAvgMemory = recent.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / recent.length\n    const olderAvgMemory = older.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / older.length\n\n    const recentAvgLoadTime = recent.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / recent.length\n    const olderAvgLoadTime = older.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / older.length\n\n    return {\n      hitRate: this.getTrend(recentAvgHitRate, olderAvgHitRate),\n      memoryUsage: this.getTrend(recentAvgMemory, olderAvgMemory, true),\n      loadTime: this.getTrend(recentAvgLoadTime, olderAvgLoadTime, true)\n    }\n  }\n\n  /**\n   * è·å–è¶‹åŠ¿æ–¹å‘\n   */\n  private getTrend(recent: number, older: number, inverse = false): 'improving' | 'degrading' | 'stable' {\n    const threshold = 0.1\n    const change = (recent - older) / older\n\n    if (Math.abs(change) < threshold) return 'stable'\n    \n    const isImproving = inverse ? change < 0 : change > 0\n    return isImproving ? 'improving' : 'degrading'\n  }\n\n  /**\n   * ç”Ÿæˆå‘Šè­¦\n   */\n  private generateAlerts(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Alert[] {\n    const alerts: Alert[] = []\n\n    if (metrics.successRate < 0.7) {\n      alerts.push({\n        level: 'critical',\n        message: `é¢„åŠ è½½æˆåŠŸç‡è¿‡ä½: ${Math.round(metrics.successRate * 100)}%`,\n        recommendation: 'æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œè§†é¢‘èµ„æºå¯ç”¨æ€§'\n      })\n    }\n\n    if (metrics.averageHoverDelay > 500) {\n      alerts.push({\n        level: 'critical',\n        message: `æ‚¬åœå»¶è¿Ÿè¿‡é«˜: ${Math.round(metrics.averageHoverDelay)}ms`,\n        recommendation: 'å¢åŠ é¢„åŠ è½½å¹¶å‘æ•°æˆ–ä¼˜åŒ–è§†é¢‘æ–‡ä»¶å¤§å°'\n      })\n    }\n\n    if (realtimeMetrics.currentMemoryUsage > 150) {\n      alerts.push({\n        level: 'warning',\n        message: `å†…å­˜ä½¿ç”¨è¿‡é«˜: ${Math.round(realtimeMetrics.currentMemoryUsage)}MB`,\n        recommendation: 'å‡å°‘å¹¶å‘é¢„åŠ è½½æ•°é‡æˆ–æ¸…ç†é¢„åŠ è½½ç¼“å­˜'\n      })\n    }\n\n    if (metrics.hitRate < 0.3) {\n      alerts.push({\n        level: 'warning',\n        message: `é¢„åŠ è½½å‘½ä¸­ç‡ä½: ${Math.round(metrics.hitRate * 100)}%`,\n        recommendation: 'ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥æˆ–å¢åŠ å¯è§æ€§æ£€æµ‹èŒƒå›´'\n      })\n    }\n\n    return alerts\n  }\n\n  /**\n   * ç”Ÿæˆä¼˜åŒ–å»ºè®®\n   */\n  private generateRecommendations(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Recommendation[] {\n    const recommendations: Recommendation[] = []\n\n    // åŸºäºå‘½ä¸­ç‡çš„å»ºè®®\n    if (metrics.hitRate < 0.5) {\n      recommendations.push({\n        category: 'strategy',\n        priority: 'high',\n        title: 'æé«˜é¢„åŠ è½½å‘½ä¸­ç‡',\n        description: 'å½“å‰å‘½ä¸­ç‡è¾ƒä½ï¼Œå»ºè®®ä¼˜åŒ–é¢„åŠ è½½æ—¶æœºå’Œç­–ç•¥',\n        actions: [\n          'å¢åŠ å¯è§æ€§æ£€æµ‹çš„é˜ˆå€¼èŒƒå›´',\n          'æå‰é¢„åŠ è½½å³å°†å¯è§çš„è§†é¢‘',\n          'ä¼˜åŒ–é¢„åŠ è½½ä¼˜å…ˆçº§ç®—æ³•'\n        ]\n      })\n    }\n\n    // åŸºäºå»¶è¿Ÿçš„å»ºè®®\n    if (metrics.averageHoverDelay > 200) {\n      recommendations.push({\n        category: 'performance',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–æ’­æ”¾å»¶è¿Ÿ',\n        description: 'æ‚¬åœåˆ°æ’­æ”¾çš„å»¶è¿Ÿè¾ƒé«˜ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ',\n        actions: [\n          'å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡',\n          'ä¼˜å…ˆé¢„åŠ è½½å°æ–‡ä»¶è§†é¢‘',\n          'è€ƒè™‘ä½¿ç”¨è§†é¢‘é¢„è§ˆå¸§'\n        ]\n      })\n    }\n\n    // åŸºäºå†…å­˜ä½¿ç”¨çš„å»ºè®®\n    if (realtimeMetrics.currentMemoryUsage > 100) {\n      recommendations.push({\n        category: 'resource',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–å†…å­˜ä½¿ç”¨',\n        description: 'å†…å­˜ä½¿ç”¨è¾ƒé«˜ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿæ€§èƒ½',\n        actions: [\n          'å‡å°‘åŒæ—¶é¢„åŠ è½½çš„è§†é¢‘æ•°é‡',\n          'å®ç°æ›´ç§¯æçš„ç¼“å­˜æ¸…ç†ç­–ç•¥',\n          'ç›‘æ§å¹¶é™åˆ¶å•ä¸ªè§†é¢‘çš„å†…å­˜å ç”¨'\n        ]\n      })\n    }\n\n    return recommendations\n  }\n}\n\n/**\n * æ€§èƒ½è°ƒè¯•é¢æ¿ç»„ä»¶æ•°æ®\n */\nexport function createDebugPanelData(monitor: VideoPreloaderMonitor): DebugPanelData {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  return {\n    summary: report.summary,\n    metrics: report.metrics,\n    realtimeMetrics: report.realtimeMetrics,\n    eventStats,\n    charts: {\n      memoryUsage: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.memoryUsage.used\n      })),\n      hitRate: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.hitRate * 100\n      })),\n      loadTime: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.averageLoadTime\n      }))\n    },\n    alerts: report.summary.alerts,\n    recommendations: report.recommendations\n  }\n}\n\n/**\n * è‡ªåŠ¨æ€§èƒ½åˆ†æ\n */\nexport function analyzePerformance(monitor: VideoPreloaderMonitor): PerformanceAnalysis {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  const analysis: PerformanceAnalysis = {\n    score: calculatePerformanceScore(report.metrics, report.realtimeMetrics),\n    bottlenecks: identifyBottlenecks(report.metrics, eventStats),\n    optimization: generateOptimizationPlan(report.metrics, report.realtimeMetrics),\n    comparison: compareWithBenchmarks(report.metrics)\n  }\n\n  return analysis\n}\n\n// ===== ç±»å‹å®šä¹‰ =====\n\ninterface PerformanceSnapshot {\n  timestamp: number\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  memoryUsage: MemoryUsageSnapshot\n  networkInfo: NetworkInfoSnapshot\n}\n\ninterface MemoryUsageSnapshot {\n  used: number\n  total: number\n  limit: number\n}\n\ninterface NetworkInfoSnapshot {\n  effectiveType: string\n  downlink: number\n  rtt: number\n  saveData: boolean\n}\n\ninterface PerformanceReport {\n  timestamp: string\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  debugInfo: DebugInfo\n  eventLog: PreloadEvent[]\n  performanceLog: PerformanceSnapshot[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceSummary {\n  status: 'excellent' | 'good' | 'warning' | 'critical'\n  keyMetrics: {\n    hitRate: number\n    averageDelay: number\n    successRate: number\n    memoryUsage: number\n    activePreloads: number\n  }\n  trends: TrendAnalysis\n  alerts: Alert[]\n}\n\ninterface TrendAnalysis {\n  hitRate: 'improving' | 'degrading' | 'stable'\n  memoryUsage: 'improving' | 'degrading' | 'stable'\n  loadTime: 'improving' | 'degrading' | 'stable'\n}\n\ninterface Alert {\n  level: 'critical' | 'warning' | 'info'\n  message: string\n  recommendation: string\n}\n\ninterface Recommendation {\n  category: 'strategy' | 'performance' | 'resource' | 'user-experience'\n  priority: 'high' | 'medium' | 'low'\n  title: string\n  description: string\n  actions: string[]\n}\n\ninterface EventStatistics {\n  totalEvents: number\n  eventCounts: Record<PreloadEventType, number>\n  recentEvents: PreloadEvent[]\n  errorRate: number\n  averageLoadTime: number\n}\n\ninterface DebugPanelData {\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  eventStats: EventStatistics\n  charts: {\n    memoryUsage: Array<{ timestamp: number; value: number }>\n    hitRate: Array<{ timestamp: number; value: number }>\n    loadTime: Array<{ timestamp: number; value: number }>\n  }\n  alerts: Alert[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceAnalysis {\n  score: number\n  bottlenecks: string[]\n  optimization: OptimizationPlan\n  comparison: BenchmarkComparison\n}\n\ninterface OptimizationPlan {\n  immediate: string[]\n  shortTerm: string[]\n  longTerm: string[]\n}\n\ninterface BenchmarkComparison {\n  hitRate: 'above' | 'at' | 'below'\n  loadTime: 'above' | 'at' | 'below'\n  memoryUsage: 'above' | 'at' | 'below'\n}\n\n// ===== è¾…åŠ©å‡½æ•° =====\n\nfunction calculatePerformanceScore(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): number {\n  const hitRateScore = metrics.hitRate * 30\n  const delayScore = Math.max(0, 30 - (metrics.averageHoverDelay / 10))\n  const successRateScore = metrics.successRate * 25\n  const memoryScore = Math.max(0, 15 - (realtimeMetrics.currentMemoryUsage / 10))\n  \n  return Math.round(hitRateScore + delayScore + successRateScore + memoryScore)\n}\n\nfunction identifyBottlenecks(metrics: PerformanceMetrics, eventStats: EventStatistics): string[] {\n  const bottlenecks: string[] = []\n  \n  if (metrics.hitRate < 0.5) {\n    bottlenecks.push('é¢„åŠ è½½å‘½ä¸­ç‡ä½')\n  }\n  \n  if (metrics.averageHoverDelay > 300) {\n    bottlenecks.push('æ’­æ”¾å»¶è¿Ÿè¿‡é«˜')\n  }\n  \n  if (eventStats.errorRate > 0.2) {\n    bottlenecks.push('é¢„åŠ è½½å¤±è´¥ç‡é«˜')\n  }\n  \n  if (metrics.averageLoadTime > 5000) {\n    bottlenecks.push('è§†é¢‘åŠ è½½æ—¶é—´è¿‡é•¿')\n  }\n  \n  return bottlenecks\n}\n\nfunction generateOptimizationPlan(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): OptimizationPlan {\n  const plan: OptimizationPlan = {\n    immediate: [],\n    shortTerm: [],\n    longTerm: []\n  }\n  \n  if (realtimeMetrics.currentMemoryUsage > 150) {\n    plan.immediate.push('æ¸…ç†é¢„åŠ è½½ç¼“å­˜')\n  }\n  \n  if (metrics.averageHoverDelay > 500) {\n    plan.immediate.push('å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡')\n  }\n  \n  if (metrics.hitRate < 0.3) {\n    plan.shortTerm.push('ä¼˜åŒ–å¯è§æ€§æ£€æµ‹ç­–ç•¥')\n    plan.shortTerm.push('æ”¹è¿›ä¼˜å…ˆçº§ç®—æ³•')\n  }\n  \n  plan.longTerm.push('å®ç°æ›´æ™ºèƒ½çš„ç½‘ç»œæ„ŸçŸ¥é¢„åŠ è½½')\n  plan.longTerm.push('æ·»åŠ æœºå™¨å­¦ä¹ ä¼˜åŒ–')\n  \n  return plan\n}\n\nfunction compareWithBenchmarks(metrics: PerformanceMetrics): BenchmarkComparison {\n  const benchmarks = {\n    hitRate: 0.7,\n    loadTime: 2000,\n    memoryUsage: 80\n  }\n  \n  return {\n    hitRate: metrics.hitRate > benchmarks.hitRate ? 'above' : metrics.hitRate >= benchmarks.hitRate * 0.9 ? 'at' : 'below',\n    loadTime: metrics.averageLoadTime < benchmarks.loadTime ? 'above' : metrics.averageLoadTime <= benchmarks.loadTime * 1.1 ? 'at' : 'below',\n    memoryUsage: metrics.memoryUsage < benchmarks.memoryUsage ? 'above' : metrics.memoryUsage <= benchmarks.memoryUsage * 1.1 ? 'at' : 'below'\n  }\n}\n\n// ===== å¯¼å‡ºä¾¿åˆ©å‡½æ•° =====\n\n/**\n * åˆ›å»ºæ€§èƒ½ç›‘æ§å™¨å®ä¾‹\n */\nexport function createVideoPreloaderMonitor(preloader: VideoPreloader): VideoPreloaderMonitor {\n  return new VideoPreloaderMonitor(preloader)\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ§åˆ¶å°\n */\nexport function logPerformanceReport(monitor: VideoPreloaderMonitor): void {\n  const report = monitor.getPerformanceReport()\n  console.group('ğŸ“Š è§†é¢‘é¢„åŠ è½½æ€§èƒ½æŠ¥å‘Š')\n  console.log('æ•´ä½“çŠ¶æ€:', report.summary.status)\n  console.table(report.summary.keyMetrics)\n  console.log('å‘Šè­¦:', report.summary.alerts)\n  console.log('è¶‹åŠ¿:', report.summary.trends)\n  console.log('å»ºè®®:', report.recommendations)\n  console.groupEnd()\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ–‡ä»¶\n */\nexport function downloadPerformanceReport(monitor: VideoPreloaderMonitor, filename?: string): void {\n  const data = monitor.exportPerformanceData()\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  \n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename || `video-preloader-report-${new Date().toISOString().slice(0, 19)}.json`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  \n  URL.revokeObjectURL(url)\n}
    : [35;1m        ^[0m
    `----
  [31mx[0m Unexpected token `<lexing error: Error { error: (263..263, ExpectedUnicodeEscape) }>`. Expected identifier or string
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/lib/video-preloader-debug.ts[0m:11:1]
 [2m 8[0m |  * - è‡ªåŠ¨æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ
 [2m 9[0m |  */
 [2m10[0m | 
 [2m11[0m | import {\n  PerformanceMetrics,\n  RealtimeMetrics,\n  DebugInfo,\n  PreloadEvent,\n  PreloadEventType,\n  VideoPreloader\n} from '@/types/video-preloader'\n\n/**\n * æ€§èƒ½ç›‘æ§å™¨ç±»\n */\nexport class VideoPreloaderMonitor {\n  private preloader: VideoPreloader\n  private eventLog: PreloadEvent[] = []\n  private performanceLog: PerformanceSnapshot[] = []\n  private monitoringInterval: number | null = null\n  private isMonitoring = false\n\n  constructor(preloader: VideoPreloader) {\n    this.preloader = preloader\n    this.setupEventListeners()\n  }\n\n  /**\n   * å¼€å§‹æ€§èƒ½ç›‘æ§\n   */\n  startMonitoring(intervalMs = 1000): void {\n    if (this.isMonitoring) {\n      console.warn('æ€§èƒ½ç›‘æ§å·²åœ¨è¿è¡Œä¸­')\n      return\n    }\n\n    this.isMonitoring = true\n    this.monitoringInterval = window.setInterval(() => {\n      this.capturePerformanceSnapshot()\n    }, intervalMs)\n\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²å¯åŠ¨')\n  }\n\n  /**\n   * åœæ­¢æ€§èƒ½ç›‘æ§\n   */\n  stopMonitoring(): void {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval)\n      this.monitoringInterval = null\n    }\n    this.isMonitoring = false\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²åœæ­¢')\n  }\n\n  /**\n   * è·å–æ€§èƒ½æŠ¥å‘Š\n   */\n  getPerformanceReport(): PerformanceReport {\n    const metrics = this.preloader.getMetrics()\n    const realtimeMetrics = this.preloader.getRealtimeMetrics()\n    const debugInfo = this.preloader.getDebugInfo()\n\n    return {\n      timestamp: new Date().toISOString(),\n      summary: this.generateSummary(metrics, realtimeMetrics),\n      metrics,\n      realtimeMetrics,\n      debugInfo,\n      eventLog: this.eventLog.slice(-100), // æœ€è¿‘100ä¸ªäº‹ä»¶\n      performanceLog: this.performanceLog.slice(-60), // æœ€è¿‘60ä¸ªå¿«ç…§\n      recommendations: this.generateRecommendations(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * å¯¼å‡ºæ€§èƒ½æ•°æ®\n   */\n  exportPerformanceData(): string {\n    const report = this.getPerformanceReport()\n    return JSON.stringify(report, null, 2)\n  }\n\n  /**\n   * è·å–äº‹ä»¶ç»Ÿè®¡\n   */\n  getEventStatistics(): EventStatistics {\n    const stats: EventStatistics = {\n      totalEvents: this.eventLog.length,\n      eventCounts: {},\n      recentEvents: this.eventLog.slice(-20),\n      errorRate: 0,\n      averageLoadTime: 0\n    }\n\n    // ç»Ÿè®¡å„ç±»äº‹ä»¶æ•°é‡\n    Object.values(PreloadEventType).forEach(type => {\n      stats.eventCounts[type] = this.eventLog.filter(event => event.type === type).length\n    })\n\n    // è®¡ç®—é”™è¯¯ç‡\n    const errorEvents = stats.eventCounts[PreloadEventType.LoadError] || 0\n    const totalLoadAttempts = stats.eventCounts[PreloadEventType.LoadStart] || 1\n    stats.errorRate = errorEvents / totalLoadAttempts\n\n    // è®¡ç®—å¹³å‡åŠ è½½æ—¶é—´\n    const loadEvents = this.eventLog.filter(event => \n      event.type === PreloadEventType.LoadStart || event.type === PreloadEventType.LoadComplete\n    )\n    \n    const loadTimes: number[] = []\n    for (let i = 0; i < loadEvents.length - 1; i++) {\n      const startEvent = loadEvents[i]\n      const endEvent = loadEvents[i + 1]\n      if (startEvent.type === PreloadEventType.LoadStart && \n          endEvent.type === PreloadEventType.LoadComplete &&\n          startEvent.videoId === endEvent.videoId) {\n        loadTimes.push(endEvent.timestamp - startEvent.timestamp)\n      }\n    }\n\n    if (loadTimes.length > 0) {\n      stats.averageLoadTime = loadTimes.reduce((sum, time) => sum + time, 0) / loadTimes.length\n    }\n\n    return stats\n  }\n\n  /**\n   * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨\n   */\n  private setupEventListeners(): void {\n    Object.values(PreloadEventType).forEach(eventType => {\n      this.preloader.addEventListener(eventType, (event) => {\n        this.eventLog.push(event)\n        \n        // é™åˆ¶äº‹ä»¶æ—¥å¿—å¤§å°\n        if (this.eventLog.length > 1000) {\n          this.eventLog = this.eventLog.slice(-500)\n        }\n      })\n    })\n  }\n\n  /**\n   * æ•è·æ€§èƒ½å¿«ç…§\n   */\n  private capturePerformanceSnapshot(): void {\n    const snapshot: PerformanceSnapshot = {\n      timestamp: Date.now(),\n      metrics: this.preloader.getMetrics(),\n      realtimeMetrics: this.preloader.getRealtimeMetrics(),\n      memoryUsage: this.getMemoryUsage(),\n      networkInfo: this.getNetworkInfo()\n    }\n\n    this.performanceLog.push(snapshot)\n\n    // é™åˆ¶æ€§èƒ½æ—¥å¿—å¤§å°\n    if (this.performanceLog.length > 300) {\n      this.performanceLog = this.performanceLog.slice(-150)\n    }\n  }\n\n  /**\n   * è·å–å†…å­˜ä½¿ç”¨ä¿¡æ¯\n   */\n  private getMemoryUsage(): MemoryUsageSnapshot {\n    const memoryInfo: MemoryUsageSnapshot = {\n      used: 0,\n      total: 0,\n      limit: 0\n    }\n\n    if (typeof performance !== 'undefined' && (performance as any).memory) {\n      const memory = (performance as any).memory\n      memoryInfo.used = memory.usedJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.total = memory.totalJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.limit = memory.jsHeapSizeLimit / (1024 * 1024) // MB\n    }\n\n    return memoryInfo\n  }\n\n  /**\n   * è·å–ç½‘ç»œä¿¡æ¯\n   */\n  private getNetworkInfo(): NetworkInfoSnapshot {\n    const networkInfo: NetworkInfoSnapshot = {\n      effectiveType: 'unknown',\n      downlink: 0,\n      rtt: 0,\n      saveData: false\n    }\n\n    if (typeof navigator !== 'undefined' && (navigator as any).connection) {\n      const connection = (navigator as any).connection\n      networkInfo.effectiveType = connection.effectiveType || 'unknown'\n      networkInfo.downlink = connection.downlink || 0\n      networkInfo.rtt = connection.rtt || 0\n      networkInfo.saveData = connection.saveData || false\n    }\n\n    return networkInfo\n  }\n\n  /**\n   * ç”Ÿæˆæ€§èƒ½æ‘˜è¦\n   */\n  private generateSummary(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): PerformanceSummary {\n    return {\n      status: this.getOverallStatus(metrics, realtimeMetrics),\n      keyMetrics: {\n        hitRate: Math.round(metrics.hitRate * 100),\n        averageDelay: Math.round(metrics.averageHoverDelay),\n        successRate: Math.round(metrics.successRate * 100),\n        memoryUsage: Math.round(realtimeMetrics.currentMemoryUsage),\n        activePreloads: realtimeMetrics.currentConcurrentLoads\n      },\n      trends: this.analyzeTrends(),\n      alerts: this.generateAlerts(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * è·å–æ•´ä½“çŠ¶æ€\n   */\n  private getOverallStatus(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): 'excellent' | 'good' | 'warning' | 'critical' {\n    const criticalIssues = [\n      metrics.successRate < 0.7,\n      metrics.averageHoverDelay > 500,\n      realtimeMetrics.currentMemoryUsage > 150\n    ].filter(Boolean).length\n\n    const warningIssues = [\n      metrics.hitRate < 0.5,\n      metrics.averageHoverDelay > 200,\n      realtimeMetrics.currentMemoryUsage > 100\n    ].filter(Boolean).length\n\n    if (criticalIssues > 0) return 'critical'\n    if (warningIssues > 1) return 'warning'\n    if (metrics.hitRate > 0.8 && metrics.averageHoverDelay < 100) return 'excellent'\n    return 'good'\n  }\n\n  /**\n   * åˆ†æè¶‹åŠ¿\n   */\n  private analyzeTrends(): TrendAnalysis {\n    if (this.performanceLog.length < 10) {\n      return {\n        hitRate: 'stable',\n        memoryUsage: 'stable',\n        loadTime: 'stable'\n      }\n    }\n\n    const recent = this.performanceLog.slice(-10)\n    const older = this.performanceLog.slice(-20, -10)\n\n    const recentAvgHitRate = recent.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / recent.length\n    const olderAvgHitRate = older.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / older.length\n\n    const recentAvgMemory = recent.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / recent.length\n    const olderAvgMemory = older.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / older.length\n\n    const recentAvgLoadTime = recent.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / recent.length\n    const olderAvgLoadTime = older.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / older.length\n\n    return {\n      hitRate: this.getTrend(recentAvgHitRate, olderAvgHitRate),\n      memoryUsage: this.getTrend(recentAvgMemory, olderAvgMemory, true),\n      loadTime: this.getTrend(recentAvgLoadTime, olderAvgLoadTime, true)\n    }\n  }\n\n  /**\n   * è·å–è¶‹åŠ¿æ–¹å‘\n   */\n  private getTrend(recent: number, older: number, inverse = false): 'improving' | 'degrading' | 'stable' {\n    const threshold = 0.1\n    const change = (recent - older) / older\n\n    if (Math.abs(change) < threshold) return 'stable'\n    \n    const isImproving = inverse ? change < 0 : change > 0\n    return isImproving ? 'improving' : 'degrading'\n  }\n\n  /**\n   * ç”Ÿæˆå‘Šè­¦\n   */\n  private generateAlerts(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Alert[] {\n    const alerts: Alert[] = []\n\n    if (metrics.successRate < 0.7) {\n      alerts.push({\n        level: 'critical',\n        message: `é¢„åŠ è½½æˆåŠŸç‡è¿‡ä½: ${Math.round(metrics.successRate * 100)}%`,\n        recommendation: 'æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œè§†é¢‘èµ„æºå¯ç”¨æ€§'\n      })\n    }\n\n    if (metrics.averageHoverDelay > 500) {\n      alerts.push({\n        level: 'critical',\n        message: `æ‚¬åœå»¶è¿Ÿè¿‡é«˜: ${Math.round(metrics.averageHoverDelay)}ms`,\n        recommendation: 'å¢åŠ é¢„åŠ è½½å¹¶å‘æ•°æˆ–ä¼˜åŒ–è§†é¢‘æ–‡ä»¶å¤§å°'\n      })\n    }\n\n    if (realtimeMetrics.currentMemoryUsage > 150) {\n      alerts.push({\n        level: 'warning',\n        message: `å†…å­˜ä½¿ç”¨è¿‡é«˜: ${Math.round(realtimeMetrics.currentMemoryUsage)}MB`,\n        recommendation: 'å‡å°‘å¹¶å‘é¢„åŠ è½½æ•°é‡æˆ–æ¸…ç†é¢„åŠ è½½ç¼“å­˜'\n      })\n    }\n\n    if (metrics.hitRate < 0.3) {\n      alerts.push({\n        level: 'warning',\n        message: `é¢„åŠ è½½å‘½ä¸­ç‡ä½: ${Math.round(metrics.hitRate * 100)}%`,\n        recommendation: 'ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥æˆ–å¢åŠ å¯è§æ€§æ£€æµ‹èŒƒå›´'\n      })\n    }\n\n    return alerts\n  }\n\n  /**\n   * ç”Ÿæˆä¼˜åŒ–å»ºè®®\n   */\n  private generateRecommendations(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Recommendation[] {\n    const recommendations: Recommendation[] = []\n\n    // åŸºäºå‘½ä¸­ç‡çš„å»ºè®®\n    if (metrics.hitRate < 0.5) {\n      recommendations.push({\n        category: 'strategy',\n        priority: 'high',\n        title: 'æé«˜é¢„åŠ è½½å‘½ä¸­ç‡',\n        description: 'å½“å‰å‘½ä¸­ç‡è¾ƒä½ï¼Œå»ºè®®ä¼˜åŒ–é¢„åŠ è½½æ—¶æœºå’Œç­–ç•¥',\n        actions: [\n          'å¢åŠ å¯è§æ€§æ£€æµ‹çš„é˜ˆå€¼èŒƒå›´',\n          'æå‰é¢„åŠ è½½å³å°†å¯è§çš„è§†é¢‘',\n          'ä¼˜åŒ–é¢„åŠ è½½ä¼˜å…ˆçº§ç®—æ³•'\n        ]\n      })\n    }\n\n    // åŸºäºå»¶è¿Ÿçš„å»ºè®®\n    if (metrics.averageHoverDelay > 200) {\n      recommendations.push({\n        category: 'performance',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–æ’­æ”¾å»¶è¿Ÿ',\n        description: 'æ‚¬åœåˆ°æ’­æ”¾çš„å»¶è¿Ÿè¾ƒé«˜ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ',\n        actions: [\n          'å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡',\n          'ä¼˜å…ˆé¢„åŠ è½½å°æ–‡ä»¶è§†é¢‘',\n          'è€ƒè™‘ä½¿ç”¨è§†é¢‘é¢„è§ˆå¸§'\n        ]\n      })\n    }\n\n    // åŸºäºå†…å­˜ä½¿ç”¨çš„å»ºè®®\n    if (realtimeMetrics.currentMemoryUsage > 100) {\n      recommendations.push({\n        category: 'resource',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–å†…å­˜ä½¿ç”¨',\n        description: 'å†…å­˜ä½¿ç”¨è¾ƒé«˜ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿæ€§èƒ½',\n        actions: [\n          'å‡å°‘åŒæ—¶é¢„åŠ è½½çš„è§†é¢‘æ•°é‡',\n          'å®ç°æ›´ç§¯æçš„ç¼“å­˜æ¸…ç†ç­–ç•¥',\n          'ç›‘æ§å¹¶é™åˆ¶å•ä¸ªè§†é¢‘çš„å†…å­˜å ç”¨'\n        ]\n      })\n    }\n\n    return recommendations\n  }\n}\n\n/**\n * æ€§èƒ½è°ƒè¯•é¢æ¿ç»„ä»¶æ•°æ®\n */\nexport function createDebugPanelData(monitor: VideoPreloaderMonitor): DebugPanelData {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  return {\n    summary: report.summary,\n    metrics: report.metrics,\n    realtimeMetrics: report.realtimeMetrics,\n    eventStats,\n    charts: {\n      memoryUsage: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.memoryUsage.used\n      })),\n      hitRate: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.hitRate * 100\n      })),\n      loadTime: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.averageLoadTime\n      }))\n    },\n    alerts: report.summary.alerts,\n    recommendations: report.recommendations\n  }\n}\n\n/**\n * è‡ªåŠ¨æ€§èƒ½åˆ†æ\n */\nexport function analyzePerformance(monitor: VideoPreloaderMonitor): PerformanceAnalysis {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  const analysis: PerformanceAnalysis = {\n    score: calculatePerformanceScore(report.metrics, report.realtimeMetrics),\n    bottlenecks: identifyBottlenecks(report.metrics, eventStats),\n    optimization: generateOptimizationPlan(report.metrics, report.realtimeMetrics),\n    comparison: compareWithBenchmarks(report.metrics)\n  }\n\n  return analysis\n}\n\n// ===== ç±»å‹å®šä¹‰ =====\n\ninterface PerformanceSnapshot {\n  timestamp: number\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  memoryUsage: MemoryUsageSnapshot\n  networkInfo: NetworkInfoSnapshot\n}\n\ninterface MemoryUsageSnapshot {\n  used: number\n  total: number\n  limit: number\n}\n\ninterface NetworkInfoSnapshot {\n  effectiveType: string\n  downlink: number\n  rtt: number\n  saveData: boolean\n}\n\ninterface PerformanceReport {\n  timestamp: string\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  debugInfo: DebugInfo\n  eventLog: PreloadEvent[]\n  performanceLog: PerformanceSnapshot[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceSummary {\n  status: 'excellent' | 'good' | 'warning' | 'critical'\n  keyMetrics: {\n    hitRate: number\n    averageDelay: number\n    successRate: number\n    memoryUsage: number\n    activePreloads: number\n  }\n  trends: TrendAnalysis\n  alerts: Alert[]\n}\n\ninterface TrendAnalysis {\n  hitRate: 'improving' | 'degrading' | 'stable'\n  memoryUsage: 'improving' | 'degrading' | 'stable'\n  loadTime: 'improving' | 'degrading' | 'stable'\n}\n\ninterface Alert {\n  level: 'critical' | 'warning' | 'info'\n  message: string\n  recommendation: string\n}\n\ninterface Recommendation {\n  category: 'strategy' | 'performance' | 'resource' | 'user-experience'\n  priority: 'high' | 'medium' | 'low'\n  title: string\n  description: string\n  actions: string[]\n}\n\ninterface EventStatistics {\n  totalEvents: number\n  eventCounts: Record<PreloadEventType, number>\n  recentEvents: PreloadEvent[]\n  errorRate: number\n  averageLoadTime: number\n}\n\ninterface DebugPanelData {\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  eventStats: EventStatistics\n  charts: {\n    memoryUsage: Array<{ timestamp: number; value: number }>\n    hitRate: Array<{ timestamp: number; value: number }>\n    loadTime: Array<{ timestamp: number; value: number }>\n  }\n  alerts: Alert[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceAnalysis {\n  score: number\n  bottlenecks: string[]\n  optimization: OptimizationPlan\n  comparison: BenchmarkComparison\n}\n\ninterface OptimizationPlan {\n  immediate: string[]\n  shortTerm: string[]\n  longTerm: string[]\n}\n\ninterface BenchmarkComparison {\n  hitRate: 'above' | 'at' | 'below'\n  loadTime: 'above' | 'at' | 'below'\n  memoryUsage: 'above' | 'at' | 'below'\n}\n\n// ===== è¾…åŠ©å‡½æ•° =====\n\nfunction calculatePerformanceScore(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): number {\n  const hitRateScore = metrics.hitRate * 30\n  const delayScore = Math.max(0, 30 - (metrics.averageHoverDelay / 10))\n  const successRateScore = metrics.successRate * 25\n  const memoryScore = Math.max(0, 15 - (realtimeMetrics.currentMemoryUsage / 10))\n  \n  return Math.round(hitRateScore + delayScore + successRateScore + memoryScore)\n}\n\nfunction identifyBottlenecks(metrics: PerformanceMetrics, eventStats: EventStatistics): string[] {\n  const bottlenecks: string[] = []\n  \n  if (metrics.hitRate < 0.5) {\n    bottlenecks.push('é¢„åŠ è½½å‘½ä¸­ç‡ä½')\n  }\n  \n  if (metrics.averageHoverDelay > 300) {\n    bottlenecks.push('æ’­æ”¾å»¶è¿Ÿè¿‡é«˜')\n  }\n  \n  if (eventStats.errorRate > 0.2) {\n    bottlenecks.push('é¢„åŠ è½½å¤±è´¥ç‡é«˜')\n  }\n  \n  if (metrics.averageLoadTime > 5000) {\n    bottlenecks.push('è§†é¢‘åŠ è½½æ—¶é—´è¿‡é•¿')\n  }\n  \n  return bottlenecks\n}\n\nfunction generateOptimizationPlan(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): OptimizationPlan {\n  const plan: OptimizationPlan = {\n    immediate: [],\n    shortTerm: [],\n    longTerm: []\n  }\n  \n  if (realtimeMetrics.currentMemoryUsage > 150) {\n    plan.immediate.push('æ¸…ç†é¢„åŠ è½½ç¼“å­˜')\n  }\n  \n  if (metrics.averageHoverDelay > 500) {\n    plan.immediate.push('å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡')\n  }\n  \n  if (metrics.hitRate < 0.3) {\n    plan.shortTerm.push('ä¼˜åŒ–å¯è§æ€§æ£€æµ‹ç­–ç•¥')\n    plan.shortTerm.push('æ”¹è¿›ä¼˜å…ˆçº§ç®—æ³•')\n  }\n  \n  plan.longTerm.push('å®ç°æ›´æ™ºèƒ½çš„ç½‘ç»œæ„ŸçŸ¥é¢„åŠ è½½')\n  plan.longTerm.push('æ·»åŠ æœºå™¨å­¦ä¹ ä¼˜åŒ–')\n  \n  return plan\n}\n\nfunction compareWithBenchmarks(metrics: PerformanceMetrics): BenchmarkComparison {\n  const benchmarks = {\n    hitRate: 0.7,\n    loadTime: 2000,\n    memoryUsage: 80\n  }\n  \n  return {\n    hitRate: metrics.hitRate > benchmarks.hitRate ? 'above' : metrics.hitRate >= benchmarks.hitRate * 0.9 ? 'at' : 'below',\n    loadTime: metrics.averageLoadTime < benchmarks.loadTime ? 'above' : metrics.averageLoadTime <= benchmarks.loadTime * 1.1 ? 'at' : 'below',\n    memoryUsage: metrics.memoryUsage < benchmarks.memoryUsage ? 'above' : metrics.memoryUsage <= benchmarks.memoryUsage * 1.1 ? 'at' : 'below'\n  }\n}\n\n// ===== å¯¼å‡ºä¾¿åˆ©å‡½æ•° =====\n\n/**\n * åˆ›å»ºæ€§èƒ½ç›‘æ§å™¨å®ä¾‹\n */\nexport function createVideoPreloaderMonitor(preloader: VideoPreloader): VideoPreloaderMonitor {\n  return new VideoPreloaderMonitor(preloader)\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ§åˆ¶å°\n */\nexport function logPerformanceReport(monitor: VideoPreloaderMonitor): void {\n  const report = monitor.getPerformanceReport()\n  console.group('ğŸ“Š è§†é¢‘é¢„åŠ è½½æ€§èƒ½æŠ¥å‘Š')\n  console.log('æ•´ä½“çŠ¶æ€:', report.summary.status)\n  console.table(report.summary.keyMetrics)\n  console.log('å‘Šè­¦:', report.summary.alerts)\n  console.log('è¶‹åŠ¿:', report.summary.trends)\n  console.log('å»ºè®®:', report.recommendations)\n  console.groupEnd()\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ–‡ä»¶\n */\nexport function downloadPerformanceReport(monitor: VideoPreloaderMonitor, filename?: string): void {\n  const data = monitor.exportPerformanceData()\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  \n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename || `video-preloader-report-${new Date().toISOString().slice(0, 19)}.json`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  \n  URL.revokeObjectURL(url)\n}
    : [35;1m        ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./lib/video-preloader-debug.ts
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 â¨¯ ./lib/video-preloader-debug.ts
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/lib/video-preloader-debug.ts[0m:11:1]
 [2m 8[0m |  * - è‡ªåŠ¨æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ
 [2m 9[0m |  */
 [2m10[0m | 
 [2m11[0m | import {\n  PerformanceMetrics,\n  RealtimeMetrics,\n  DebugInfo,\n  PreloadEvent,\n  PreloadEventType,\n  VideoPreloader\n} from '@/types/video-preloader'\n\n/**\n * æ€§èƒ½ç›‘æ§å™¨ç±»\n */\nexport class VideoPreloaderMonitor {\n  private preloader: VideoPreloader\n  private eventLog: PreloadEvent[] = []\n  private performanceLog: PerformanceSnapshot[] = []\n  private monitoringInterval: number | null = null\n  private isMonitoring = false\n\n  constructor(preloader: VideoPreloader) {\n    this.preloader = preloader\n    this.setupEventListeners()\n  }\n\n  /**\n   * å¼€å§‹æ€§èƒ½ç›‘æ§\n   */\n  startMonitoring(intervalMs = 1000): void {\n    if (this.isMonitoring) {\n      console.warn('æ€§èƒ½ç›‘æ§å·²åœ¨è¿è¡Œä¸­')\n      return\n    }\n\n    this.isMonitoring = true\n    this.monitoringInterval = window.setInterval(() => {\n      this.capturePerformanceSnapshot()\n    }, intervalMs)\n\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²å¯åŠ¨')\n  }\n\n  /**\n   * åœæ­¢æ€§èƒ½ç›‘æ§\n   */\n  stopMonitoring(): void {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval)\n      this.monitoringInterval = null\n    }\n    this.isMonitoring = false\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²åœæ­¢')\n  }\n\n  /**\n   * è·å–æ€§èƒ½æŠ¥å‘Š\n   */\n  getPerformanceReport(): PerformanceReport {\n    const metrics = this.preloader.getMetrics()\n    const realtimeMetrics = this.preloader.getRealtimeMetrics()\n    const debugInfo = this.preloader.getDebugInfo()\n\n    return {\n      timestamp: new Date().toISOString(),\n      summary: this.generateSummary(metrics, realtimeMetrics),\n      metrics,\n      realtimeMetrics,\n      debugInfo,\n      eventLog: this.eventLog.slice(-100), // æœ€è¿‘100ä¸ªäº‹ä»¶\n      performanceLog: this.performanceLog.slice(-60), // æœ€è¿‘60ä¸ªå¿«ç…§\n      recommendations: this.generateRecommendations(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * å¯¼å‡ºæ€§èƒ½æ•°æ®\n   */\n  exportPerformanceData(): string {\n    const report = this.getPerformanceReport()\n    return JSON.stringify(report, null, 2)\n  }\n\n  /**\n   * è·å–äº‹ä»¶ç»Ÿè®¡\n   */\n  getEventStatistics(): EventStatistics {\n    const stats: EventStatistics = {\n      totalEvents: this.eventLog.length,\n      eventCounts: {},\n      recentEvents: this.eventLog.slice(-20),\n      errorRate: 0,\n      averageLoadTime: 0\n    }\n\n    // ç»Ÿè®¡å„ç±»äº‹ä»¶æ•°é‡\n    Object.values(PreloadEventType).forEach(type => {\n      stats.eventCounts[type] = this.eventLog.filter(event => event.type === type).length\n    })\n\n    // è®¡ç®—é”™è¯¯ç‡\n    const errorEvents = stats.eventCounts[PreloadEventType.LoadError] || 0\n    const totalLoadAttempts = stats.eventCounts[PreloadEventType.LoadStart] || 1\n    stats.errorRate = errorEvents / totalLoadAttempts\n\n    // è®¡ç®—å¹³å‡åŠ è½½æ—¶é—´\n    const loadEvents = this.eventLog.filter(event => \n      event.type === PreloadEventType.LoadStart || event.type === PreloadEventType.LoadComplete\n    )\n    \n    const loadTimes: number[] = []\n    for (let i = 0; i < loadEvents.length - 1; i++) {\n      const startEvent = loadEvents[i]\n      const endEvent = loadEvents[i + 1]\n      if (startEvent.type === PreloadEventType.LoadStart && \n          endEvent.type === PreloadEventType.LoadComplete &&\n          startEvent.videoId === endEvent.videoId) {\n        loadTimes.push(endEvent.timestamp - startEvent.timestamp)\n      }\n    }\n\n    if (loadTimes.length > 0) {\n      stats.averageLoadTime = loadTimes.reduce((sum, time) => sum + time, 0) / loadTimes.length\n    }\n\n    return stats\n  }\n\n  /**\n   * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨\n   */\n  private setupEventListeners(): void {\n    Object.values(PreloadEventType).forEach(eventType => {\n      this.preloader.addEventListener(eventType, (event) => {\n        this.eventLog.push(event)\n        \n        // é™åˆ¶äº‹ä»¶æ—¥å¿—å¤§å°\n        if (this.eventLog.length > 1000) {\n          this.eventLog = this.eventLog.slice(-500)\n        }\n      })\n    })\n  }\n\n  /**\n   * æ•è·æ€§èƒ½å¿«ç…§\n   */\n  private capturePerformanceSnapshot(): void {\n    const snapshot: PerformanceSnapshot = {\n      timestamp: Date.now(),\n      metrics: this.preloader.getMetrics(),\n      realtimeMetrics: this.preloader.getRealtimeMetrics(),\n      memoryUsage: this.getMemoryUsage(),\n      networkInfo: this.getNetworkInfo()\n    }\n\n    this.performanceLog.push(snapshot)\n\n    // é™åˆ¶æ€§èƒ½æ—¥å¿—å¤§å°\n    if (this.performanceLog.length > 300) {\n      this.performanceLog = this.performanceLog.slice(-150)\n    }\n  }\n\n  /**\n   * è·å–å†…å­˜ä½¿ç”¨ä¿¡æ¯\n   */\n  private getMemoryUsage(): MemoryUsageSnapshot {\n    const memoryInfo: MemoryUsageSnapshot = {\n      used: 0,\n      total: 0,\n      limit: 0\n    }\n\n    if (typeof performance !== 'undefined' && (performance as any).memory) {\n      const memory = (performance as any).memory\n      memoryInfo.used = memory.usedJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.total = memory.totalJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.limit = memory.jsHeapSizeLimit / (1024 * 1024) // MB\n    }\n\n    return memoryInfo\n  }\n\n  /**\n   * è·å–ç½‘ç»œä¿¡æ¯\n   */\n  private getNetworkInfo(): NetworkInfoSnapshot {\n    const networkInfo: NetworkInfoSnapshot = {\n      effectiveType: 'unknown',\n      downlink: 0,\n      rtt: 0,\n      saveData: false\n    }\n\n    if (typeof navigator !== 'undefined' && (navigator as any).connection) {\n      const connection = (navigator as any).connection\n      networkInfo.effectiveType = connection.effectiveType || 'unknown'\n      networkInfo.downlink = connection.downlink || 0\n      networkInfo.rtt = connection.rtt || 0\n      networkInfo.saveData = connection.saveData || false\n    }\n\n    return networkInfo\n  }\n\n  /**\n   * ç”Ÿæˆæ€§èƒ½æ‘˜è¦\n   */\n  private generateSummary(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): PerformanceSummary {\n    return {\n      status: this.getOverallStatus(metrics, realtimeMetrics),\n      keyMetrics: {\n        hitRate: Math.round(metrics.hitRate * 100),\n        averageDelay: Math.round(metrics.averageHoverDelay),\n        successRate: Math.round(metrics.successRate * 100),\n        memoryUsage: Math.round(realtimeMetrics.currentMemoryUsage),\n        activePreloads: realtimeMetrics.currentConcurrentLoads\n      },\n      trends: this.analyzeTrends(),\n      alerts: this.generateAlerts(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * è·å–æ•´ä½“çŠ¶æ€\n   */\n  private getOverallStatus(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): 'excellent' | 'good' | 'warning' | 'critical' {\n    const criticalIssues = [\n      metrics.successRate < 0.7,\n      metrics.averageHoverDelay > 500,\n      realtimeMetrics.currentMemoryUsage > 150\n    ].filter(Boolean).length\n\n    const warningIssues = [\n      metrics.hitRate < 0.5,\n      metrics.averageHoverDelay > 200,\n      realtimeMetrics.currentMemoryUsage > 100\n    ].filter(Boolean).length\n\n    if (criticalIssues > 0) return 'critical'\n    if (warningIssues > 1) return 'warning'\n    if (metrics.hitRate > 0.8 && metrics.averageHoverDelay < 100) return 'excellent'\n    return 'good'\n  }\n\n  /**\n   * åˆ†æè¶‹åŠ¿\n   */\n  private analyzeTrends(): TrendAnalysis {\n    if (this.performanceLog.length < 10) {\n      return {\n        hitRate: 'stable',\n        memoryUsage: 'stable',\n        loadTime: 'stable'\n      }\n    }\n\n    const recent = this.performanceLog.slice(-10)\n    const older = this.performanceLog.slice(-20, -10)\n\n    const recentAvgHitRate = recent.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / recent.length\n    const olderAvgHitRate = older.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / older.length\n\n    const recentAvgMemory = recent.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / recent.length\n    const olderAvgMemory = older.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / older.length\n\n    const recentAvgLoadTime = recent.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / recent.length\n    const olderAvgLoadTime = older.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / older.length\n\n    return {\n      hitRate: this.getTrend(recentAvgHitRate, olderAvgHitRate),\n      memoryUsage: this.getTrend(recentAvgMemory, olderAvgMemory, true),\n      loadTime: this.getTrend(recentAvgLoadTime, olderAvgLoadTime, true)\n    }\n  }\n\n  /**\n   * è·å–è¶‹åŠ¿æ–¹å‘\n   */\n  private getTrend(recent: number, older: number, inverse = false): 'improving' | 'degrading' | 'stable' {\n    const threshold = 0.1\n    const change = (recent - older) / older\n\n    if (Math.abs(change) < threshold) return 'stable'\n    \n    const isImproving = inverse ? change < 0 : change > 0\n    return isImproving ? 'improving' : 'degrading'\n  }\n\n  /**\n   * ç”Ÿæˆå‘Šè­¦\n   */\n  private generateAlerts(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Alert[] {\n    const alerts: Alert[] = []\n\n    if (metrics.successRate < 0.7) {\n      alerts.push({\n        level: 'critical',\n        message: `é¢„åŠ è½½æˆåŠŸç‡è¿‡ä½: ${Math.round(metrics.successRate * 100)}%`,\n        recommendation: 'æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œè§†é¢‘èµ„æºå¯ç”¨æ€§'\n      })\n    }\n\n    if (metrics.averageHoverDelay > 500) {\n      alerts.push({\n        level: 'critical',\n        message: `æ‚¬åœå»¶è¿Ÿè¿‡é«˜: ${Math.round(metrics.averageHoverDelay)}ms`,\n        recommendation: 'å¢åŠ é¢„åŠ è½½å¹¶å‘æ•°æˆ–ä¼˜åŒ–è§†é¢‘æ–‡ä»¶å¤§å°'\n      })\n    }\n\n    if (realtimeMetrics.currentMemoryUsage > 150) {\n      alerts.push({\n        level: 'warning',\n        message: `å†…å­˜ä½¿ç”¨è¿‡é«˜: ${Math.round(realtimeMetrics.currentMemoryUsage)}MB`,\n        recommendation: 'å‡å°‘å¹¶å‘é¢„åŠ è½½æ•°é‡æˆ–æ¸…ç†é¢„åŠ è½½ç¼“å­˜'\n      })\n    }\n\n    if (metrics.hitRate < 0.3) {\n      alerts.push({\n        level: 'warning',\n        message: `é¢„åŠ è½½å‘½ä¸­ç‡ä½: ${Math.round(metrics.hitRate * 100)}%`,\n        recommendation: 'ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥æˆ–å¢åŠ å¯è§æ€§æ£€æµ‹èŒƒå›´'\n      })\n    }\n\n    return alerts\n  }\n\n  /**\n   * ç”Ÿæˆä¼˜åŒ–å»ºè®®\n   */\n  private generateRecommendations(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Recommendation[] {\n    const recommendations: Recommendation[] = []\n\n    // åŸºäºå‘½ä¸­ç‡çš„å»ºè®®\n    if (metrics.hitRate < 0.5) {\n      recommendations.push({\n        category: 'strategy',\n        priority: 'high',\n        title: 'æé«˜é¢„åŠ è½½å‘½ä¸­ç‡',\n        description: 'å½“å‰å‘½ä¸­ç‡è¾ƒä½ï¼Œå»ºè®®ä¼˜åŒ–é¢„åŠ è½½æ—¶æœºå’Œç­–ç•¥',\n        actions: [\n          'å¢åŠ å¯è§æ€§æ£€æµ‹çš„é˜ˆå€¼èŒƒå›´',\n          'æå‰é¢„åŠ è½½å³å°†å¯è§çš„è§†é¢‘',\n          'ä¼˜åŒ–é¢„åŠ è½½ä¼˜å…ˆçº§ç®—æ³•'\n        ]\n      })\n    }\n\n    // åŸºäºå»¶è¿Ÿçš„å»ºè®®\n    if (metrics.averageHoverDelay > 200) {\n      recommendations.push({\n        category: 'performance',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–æ’­æ”¾å»¶è¿Ÿ',\n        description: 'æ‚¬åœåˆ°æ’­æ”¾çš„å»¶è¿Ÿè¾ƒé«˜ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ',\n        actions: [\n          'å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡',\n          'ä¼˜å…ˆé¢„åŠ è½½å°æ–‡ä»¶è§†é¢‘',\n          'è€ƒè™‘ä½¿ç”¨è§†é¢‘é¢„è§ˆå¸§'\n        ]\n      })\n    }\n\n    // åŸºäºå†…å­˜ä½¿ç”¨çš„å»ºè®®\n    if (realtimeMetrics.currentMemoryUsage > 100) {\n      recommendations.push({\n        category: 'resource',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–å†…å­˜ä½¿ç”¨',\n        description: 'å†…å­˜ä½¿ç”¨è¾ƒé«˜ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿæ€§èƒ½',\n        actions: [\n          'å‡å°‘åŒæ—¶é¢„åŠ è½½çš„è§†é¢‘æ•°é‡',\n          'å®ç°æ›´ç§¯æçš„ç¼“å­˜æ¸…ç†ç­–ç•¥',\n          'ç›‘æ§å¹¶é™åˆ¶å•ä¸ªè§†é¢‘çš„å†…å­˜å ç”¨'\n        ]\n      })\n    }\n\n    return recommendations\n  }\n}\n\n/**\n * æ€§èƒ½è°ƒè¯•é¢æ¿ç»„ä»¶æ•°æ®\n */\nexport function createDebugPanelData(monitor: VideoPreloaderMonitor): DebugPanelData {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  return {\n    summary: report.summary,\n    metrics: report.metrics,\n    realtimeMetrics: report.realtimeMetrics,\n    eventStats,\n    charts: {\n      memoryUsage: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.memoryUsage.used\n      })),\n      hitRate: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.hitRate * 100\n      })),\n      loadTime: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.averageLoadTime\n      }))\n    },\n    alerts: report.summary.alerts,\n    recommendations: report.recommendations\n  }\n}\n\n/**\n * è‡ªåŠ¨æ€§èƒ½åˆ†æ\n */\nexport function analyzePerformance(monitor: VideoPreloaderMonitor): PerformanceAnalysis {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  const analysis: PerformanceAnalysis = {\n    score: calculatePerformanceScore(report.metrics, report.realtimeMetrics),\n    bottlenecks: identifyBottlenecks(report.metrics, eventStats),\n    optimization: generateOptimizationPlan(report.metrics, report.realtimeMetrics),\n    comparison: compareWithBenchmarks(report.metrics)\n  }\n\n  return analysis\n}\n\n// ===== ç±»å‹å®šä¹‰ =====\n\ninterface PerformanceSnapshot {\n  timestamp: number\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  memoryUsage: MemoryUsageSnapshot\n  networkInfo: NetworkInfoSnapshot\n}\n\ninterface MemoryUsageSnapshot {\n  used: number\n  total: number\n  limit: number\n}\n\ninterface NetworkInfoSnapshot {\n  effectiveType: string\n  downlink: number\n  rtt: number\n  saveData: boolean\n}\n\ninterface PerformanceReport {\n  timestamp: string\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  debugInfo: DebugInfo\n  eventLog: PreloadEvent[]\n  performanceLog: PerformanceSnapshot[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceSummary {\n  status: 'excellent' | 'good' | 'warning' | 'critical'\n  keyMetrics: {\n    hitRate: number\n    averageDelay: number\n    successRate: number\n    memoryUsage: number\n    activePreloads: number\n  }\n  trends: TrendAnalysis\n  alerts: Alert[]\n}\n\ninterface TrendAnalysis {\n  hitRate: 'improving' | 'degrading' | 'stable'\n  memoryUsage: 'improving' | 'degrading' | 'stable'\n  loadTime: 'improving' | 'degrading' | 'stable'\n}\n\ninterface Alert {\n  level: 'critical' | 'warning' | 'info'\n  message: string\n  recommendation: string\n}\n\ninterface Recommendation {\n  category: 'strategy' | 'performance' | 'resource' | 'user-experience'\n  priority: 'high' | 'medium' | 'low'\n  title: string\n  description: string\n  actions: string[]\n}\n\ninterface EventStatistics {\n  totalEvents: number\n  eventCounts: Record<PreloadEventType, number>\n  recentEvents: PreloadEvent[]\n  errorRate: number\n  averageLoadTime: number\n}\n\ninterface DebugPanelData {\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  eventStats: EventStatistics\n  charts: {\n    memoryUsage: Array<{ timestamp: number; value: number }>\n    hitRate: Array<{ timestamp: number; value: number }>\n    loadTime: Array<{ timestamp: number; value: number }>\n  }\n  alerts: Alert[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceAnalysis {\n  score: number\n  bottlenecks: string[]\n  optimization: OptimizationPlan\n  comparison: BenchmarkComparison\n}\n\ninterface OptimizationPlan {\n  immediate: string[]\n  shortTerm: string[]\n  longTerm: string[]\n}\n\ninterface BenchmarkComparison {\n  hitRate: 'above' | 'at' | 'below'\n  loadTime: 'above' | 'at' | 'below'\n  memoryUsage: 'above' | 'at' | 'below'\n}\n\n// ===== è¾…åŠ©å‡½æ•° =====\n\nfunction calculatePerformanceScore(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): number {\n  const hitRateScore = metrics.hitRate * 30\n  const delayScore = Math.max(0, 30 - (metrics.averageHoverDelay / 10))\n  const successRateScore = metrics.successRate * 25\n  const memoryScore = Math.max(0, 15 - (realtimeMetrics.currentMemoryUsage / 10))\n  \n  return Math.round(hitRateScore + delayScore + successRateScore + memoryScore)\n}\n\nfunction identifyBottlenecks(metrics: PerformanceMetrics, eventStats: EventStatistics): string[] {\n  const bottlenecks: string[] = []\n  \n  if (metrics.hitRate < 0.5) {\n    bottlenecks.push('é¢„åŠ è½½å‘½ä¸­ç‡ä½')\n  }\n  \n  if (metrics.averageHoverDelay > 300) {\n    bottlenecks.push('æ’­æ”¾å»¶è¿Ÿè¿‡é«˜')\n  }\n  \n  if (eventStats.errorRate > 0.2) {\n    bottlenecks.push('é¢„åŠ è½½å¤±è´¥ç‡é«˜')\n  }\n  \n  if (metrics.averageLoadTime > 5000) {\n    bottlenecks.push('è§†é¢‘åŠ è½½æ—¶é—´è¿‡é•¿')\n  }\n  \n  return bottlenecks\n}\n\nfunction generateOptimizationPlan(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): OptimizationPlan {\n  const plan: OptimizationPlan = {\n    immediate: [],\n    shortTerm: [],\n    longTerm: []\n  }\n  \n  if (realtimeMetrics.currentMemoryUsage > 150) {\n    plan.immediate.push('æ¸…ç†é¢„åŠ è½½ç¼“å­˜')\n  }\n  \n  if (metrics.averageHoverDelay > 500) {\n    plan.immediate.push('å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡')\n  }\n  \n  if (metrics.hitRate < 0.3) {\n    plan.shortTerm.push('ä¼˜åŒ–å¯è§æ€§æ£€æµ‹ç­–ç•¥')\n    plan.shortTerm.push('æ”¹è¿›ä¼˜å…ˆçº§ç®—æ³•')\n  }\n  \n  plan.longTerm.push('å®ç°æ›´æ™ºèƒ½çš„ç½‘ç»œæ„ŸçŸ¥é¢„åŠ è½½')\n  plan.longTerm.push('æ·»åŠ æœºå™¨å­¦ä¹ ä¼˜åŒ–')\n  \n  return plan\n}\n\nfunction compareWithBenchmarks(metrics: PerformanceMetrics): BenchmarkComparison {\n  const benchmarks = {\n    hitRate: 0.7,\n    loadTime: 2000,\n    memoryUsage: 80\n  }\n  \n  return {\n    hitRate: metrics.hitRate > benchmarks.hitRate ? 'above' : metrics.hitRate >= benchmarks.hitRate * 0.9 ? 'at' : 'below',\n    loadTime: metrics.averageLoadTime < benchmarks.loadTime ? 'above' : metrics.averageLoadTime <= benchmarks.loadTime * 1.1 ? 'at' : 'below',\n    memoryUsage: metrics.memoryUsage < benchmarks.memoryUsage ? 'above' : metrics.memoryUsage <= benchmarks.memoryUsage * 1.1 ? 'at' : 'below'\n  }\n}\n\n// ===== å¯¼å‡ºä¾¿åˆ©å‡½æ•° =====\n\n/**\n * åˆ›å»ºæ€§èƒ½ç›‘æ§å™¨å®ä¾‹\n */\nexport function createVideoPreloaderMonitor(preloader: VideoPreloader): VideoPreloaderMonitor {\n  return new VideoPreloaderMonitor(preloader)\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ§åˆ¶å°\n */\nexport function logPerformanceReport(monitor: VideoPreloaderMonitor): void {\n  const report = monitor.getPerformanceReport()\n  console.group('ğŸ“Š è§†é¢‘é¢„åŠ è½½æ€§èƒ½æŠ¥å‘Š')\n  console.log('æ•´ä½“çŠ¶æ€:', report.summary.status)\n  console.table(report.summary.keyMetrics)\n  console.log('å‘Šè­¦:', report.summary.alerts)\n  console.log('è¶‹åŠ¿:', report.summary.trends)\n  console.log('å»ºè®®:', report.recommendations)\n  console.groupEnd()\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ–‡ä»¶\n */\nexport function downloadPerformanceReport(monitor: VideoPreloaderMonitor, filename?: string): void {\n  const data = monitor.exportPerformanceData()\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  \n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename || `video-preloader-report-${new Date().toISOString().slice(0, 19)}.json`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  \n  URL.revokeObjectURL(url)\n}
    : [35;1m        ^[0m
    `----
  [31mx[0m Unexpected token `<lexing error: Error { error: (263..263, ExpectedUnicodeEscape) }>`. Expected identifier or string
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/lib/video-preloader-debug.ts[0m:11:1]
 [2m 8[0m |  * - è‡ªåŠ¨æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ
 [2m 9[0m |  */
 [2m10[0m | 
 [2m11[0m | import {\n  PerformanceMetrics,\n  RealtimeMetrics,\n  DebugInfo,\n  PreloadEvent,\n  PreloadEventType,\n  VideoPreloader\n} from '@/types/video-preloader'\n\n/**\n * æ€§èƒ½ç›‘æ§å™¨ç±»\n */\nexport class VideoPreloaderMonitor {\n  private preloader: VideoPreloader\n  private eventLog: PreloadEvent[] = []\n  private performanceLog: PerformanceSnapshot[] = []\n  private monitoringInterval: number | null = null\n  private isMonitoring = false\n\n  constructor(preloader: VideoPreloader) {\n    this.preloader = preloader\n    this.setupEventListeners()\n  }\n\n  /**\n   * å¼€å§‹æ€§èƒ½ç›‘æ§\n   */\n  startMonitoring(intervalMs = 1000): void {\n    if (this.isMonitoring) {\n      console.warn('æ€§èƒ½ç›‘æ§å·²åœ¨è¿è¡Œä¸­')\n      return\n    }\n\n    this.isMonitoring = true\n    this.monitoringInterval = window.setInterval(() => {\n      this.capturePerformanceSnapshot()\n    }, intervalMs)\n\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²å¯åŠ¨')\n  }\n\n  /**\n   * åœæ­¢æ€§èƒ½ç›‘æ§\n   */\n  stopMonitoring(): void {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval)\n      this.monitoringInterval = null\n    }\n    this.isMonitoring = false\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²åœæ­¢')\n  }\n\n  /**\n   * è·å–æ€§èƒ½æŠ¥å‘Š\n   */\n  getPerformanceReport(): PerformanceReport {\n    const metrics = this.preloader.getMetrics()\n    const realtimeMetrics = this.preloader.getRealtimeMetrics()\n    const debugInfo = this.preloader.getDebugInfo()\n\n    return {\n      timestamp: new Date().toISOString(),\n      summary: this.generateSummary(metrics, realtimeMetrics),\n      metrics,\n      realtimeMetrics,\n      debugInfo,\n      eventLog: this.eventLog.slice(-100), // æœ€è¿‘100ä¸ªäº‹ä»¶\n      performanceLog: this.performanceLog.slice(-60), // æœ€è¿‘60ä¸ªå¿«ç…§\n      recommendations: this.generateRecommendations(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * å¯¼å‡ºæ€§èƒ½æ•°æ®\n   */\n  exportPerformanceData(): string {\n    const report = this.getPerformanceReport()\n    return JSON.stringify(report, null, 2)\n  }\n\n  /**\n   * è·å–äº‹ä»¶ç»Ÿè®¡\n   */\n  getEventStatistics(): EventStatistics {\n    const stats: EventStatistics = {\n      totalEvents: this.eventLog.length,\n      eventCounts: {},\n      recentEvents: this.eventLog.slice(-20),\n      errorRate: 0,\n      averageLoadTime: 0\n    }\n\n    // ç»Ÿè®¡å„ç±»äº‹ä»¶æ•°é‡\n    Object.values(PreloadEventType).forEach(type => {\n      stats.eventCounts[type] = this.eventLog.filter(event => event.type === type).length\n    })\n\n    // è®¡ç®—é”™è¯¯ç‡\n    const errorEvents = stats.eventCounts[PreloadEventType.LoadError] || 0\n    const totalLoadAttempts = stats.eventCounts[PreloadEventType.LoadStart] || 1\n    stats.errorRate = errorEvents / totalLoadAttempts\n\n    // è®¡ç®—å¹³å‡åŠ è½½æ—¶é—´\n    const loadEvents = this.eventLog.filter(event => \n      event.type === PreloadEventType.LoadStart || event.type === PreloadEventType.LoadComplete\n    )\n    \n    const loadTimes: number[] = []\n    for (let i = 0; i < loadEvents.length - 1; i++) {\n      const startEvent = loadEvents[i]\n      const endEvent = loadEvents[i + 1]\n      if (startEvent.type === PreloadEventType.LoadStart && \n          endEvent.type === PreloadEventType.LoadComplete &&\n          startEvent.videoId === endEvent.videoId) {\n        loadTimes.push(endEvent.timestamp - startEvent.timestamp)\n      }\n    }\n\n    if (loadTimes.length > 0) {\n      stats.averageLoadTime = loadTimes.reduce((sum, time) => sum + time, 0) / loadTimes.length\n    }\n\n    return stats\n  }\n\n  /**\n   * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨\n   */\n  private setupEventListeners(): void {\n    Object.values(PreloadEventType).forEach(eventType => {\n      this.preloader.addEventListener(eventType, (event) => {\n        this.eventLog.push(event)\n        \n        // é™åˆ¶äº‹ä»¶æ—¥å¿—å¤§å°\n        if (this.eventLog.length > 1000) {\n          this.eventLog = this.eventLog.slice(-500)\n        }\n      })\n    })\n  }\n\n  /**\n   * æ•è·æ€§èƒ½å¿«ç…§\n   */\n  private capturePerformanceSnapshot(): void {\n    const snapshot: PerformanceSnapshot = {\n      timestamp: Date.now(),\n      metrics: this.preloader.getMetrics(),\n      realtimeMetrics: this.preloader.getRealtimeMetrics(),\n      memoryUsage: this.getMemoryUsage(),\n      networkInfo: this.getNetworkInfo()\n    }\n\n    this.performanceLog.push(snapshot)\n\n    // é™åˆ¶æ€§èƒ½æ—¥å¿—å¤§å°\n    if (this.performanceLog.length > 300) {\n      this.performanceLog = this.performanceLog.slice(-150)\n    }\n  }\n\n  /**\n   * è·å–å†…å­˜ä½¿ç”¨ä¿¡æ¯\n   */\n  private getMemoryUsage(): MemoryUsageSnapshot {\n    const memoryInfo: MemoryUsageSnapshot = {\n      used: 0,\n      total: 0,\n      limit: 0\n    }\n\n    if (typeof performance !== 'undefined' && (performance as any).memory) {\n      const memory = (performance as any).memory\n      memoryInfo.used = memory.usedJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.total = memory.totalJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.limit = memory.jsHeapSizeLimit / (1024 * 1024) // MB\n    }\n\n    return memoryInfo\n  }\n\n  /**\n   * è·å–ç½‘ç»œä¿¡æ¯\n   */\n  private getNetworkInfo(): NetworkInfoSnapshot {\n    const networkInfo: NetworkInfoSnapshot = {\n      effectiveType: 'unknown',\n      downlink: 0,\n      rtt: 0,\n      saveData: false\n    }\n\n    if (typeof navigator !== 'undefined' && (navigator as any).connection) {\n      const connection = (navigator as any).connection\n      networkInfo.effectiveType = connection.effectiveType || 'unknown'\n      networkInfo.downlink = connection.downlink || 0\n      networkInfo.rtt = connection.rtt || 0\n      networkInfo.saveData = connection.saveData || false\n    }\n\n    return networkInfo\n  }\n\n  /**\n   * ç”Ÿæˆæ€§èƒ½æ‘˜è¦\n   */\n  private generateSummary(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): PerformanceSummary {\n    return {\n      status: this.getOverallStatus(metrics, realtimeMetrics),\n      keyMetrics: {\n        hitRate: Math.round(metrics.hitRate * 100),\n        averageDelay: Math.round(metrics.averageHoverDelay),\n        successRate: Math.round(metrics.successRate * 100),\n        memoryUsage: Math.round(realtimeMetrics.currentMemoryUsage),\n        activePreloads: realtimeMetrics.currentConcurrentLoads\n      },\n      trends: this.analyzeTrends(),\n      alerts: this.generateAlerts(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * è·å–æ•´ä½“çŠ¶æ€\n   */\n  private getOverallStatus(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): 'excellent' | 'good' | 'warning' | 'critical' {\n    const criticalIssues = [\n      metrics.successRate < 0.7,\n      metrics.averageHoverDelay > 500,\n      realtimeMetrics.currentMemoryUsage > 150\n    ].filter(Boolean).length\n\n    const warningIssues = [\n      metrics.hitRate < 0.5,\n      metrics.averageHoverDelay > 200,\n      realtimeMetrics.currentMemoryUsage > 100\n    ].filter(Boolean).length\n\n    if (criticalIssues > 0) return 'critical'\n    if (warningIssues > 1) return 'warning'\n    if (metrics.hitRate > 0.8 && metrics.averageHoverDelay < 100) return 'excellent'\n    return 'good'\n  }\n\n  /**\n   * åˆ†æè¶‹åŠ¿\n   */\n  private analyzeTrends(): TrendAnalysis {\n    if (this.performanceLog.length < 10) {\n      return {\n        hitRate: 'stable',\n        memoryUsage: 'stable',\n        loadTime: 'stable'\n      }\n    }\n\n    const recent = this.performanceLog.slice(-10)\n    const older = this.performanceLog.slice(-20, -10)\n\n    const recentAvgHitRate = recent.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / recent.length\n    const olderAvgHitRate = older.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / older.length\n\n    const recentAvgMemory = recent.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / recent.length\n    const olderAvgMemory = older.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / older.length\n\n    const recentAvgLoadTime = recent.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / recent.length\n    const olderAvgLoadTime = older.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / older.length\n\n    return {\n      hitRate: this.getTrend(recentAvgHitRate, olderAvgHitRate),\n      memoryUsage: this.getTrend(recentAvgMemory, olderAvgMemory, true),\n      loadTime: this.getTrend(recentAvgLoadTime, olderAvgLoadTime, true)\n    }\n  }\n\n  /**\n   * è·å–è¶‹åŠ¿æ–¹å‘\n   */\n  private getTrend(recent: number, older: number, inverse = false): 'improving' | 'degrading' | 'stable' {\n    const threshold = 0.1\n    const change = (recent - older) / older\n\n    if (Math.abs(change) < threshold) return 'stable'\n    \n    const isImproving = inverse ? change < 0 : change > 0\n    return isImproving ? 'improving' : 'degrading'\n  }\n\n  /**\n   * ç”Ÿæˆå‘Šè­¦\n   */\n  private generateAlerts(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Alert[] {\n    const alerts: Alert[] = []\n\n    if (metrics.successRate < 0.7) {\n      alerts.push({\n        level: 'critical',\n        message: `é¢„åŠ è½½æˆåŠŸç‡è¿‡ä½: ${Math.round(metrics.successRate * 100)}%`,\n        recommendation: 'æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œè§†é¢‘èµ„æºå¯ç”¨æ€§'\n      })\n    }\n\n    if (metrics.averageHoverDelay > 500) {\n      alerts.push({\n        level: 'critical',\n        message: `æ‚¬åœå»¶è¿Ÿè¿‡é«˜: ${Math.round(metrics.averageHoverDelay)}ms`,\n        recommendation: 'å¢åŠ é¢„åŠ è½½å¹¶å‘æ•°æˆ–ä¼˜åŒ–è§†é¢‘æ–‡ä»¶å¤§å°'\n      })\n    }\n\n    if (realtimeMetrics.currentMemoryUsage > 150) {\n      alerts.push({\n        level: 'warning',\n        message: `å†…å­˜ä½¿ç”¨è¿‡é«˜: ${Math.round(realtimeMetrics.currentMemoryUsage)}MB`,\n        recommendation: 'å‡å°‘å¹¶å‘é¢„åŠ è½½æ•°é‡æˆ–æ¸…ç†é¢„åŠ è½½ç¼“å­˜'\n      })\n    }\n\n    if (metrics.hitRate < 0.3) {\n      alerts.push({\n        level: 'warning',\n        message: `é¢„åŠ è½½å‘½ä¸­ç‡ä½: ${Math.round(metrics.hitRate * 100)}%`,\n        recommendation: 'ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥æˆ–å¢åŠ å¯è§æ€§æ£€æµ‹èŒƒå›´'\n      })\n    }\n\n    return alerts\n  }\n\n  /**\n   * ç”Ÿæˆä¼˜åŒ–å»ºè®®\n   */\n  private generateRecommendations(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Recommendation[] {\n    const recommendations: Recommendation[] = []\n\n    // åŸºäºå‘½ä¸­ç‡çš„å»ºè®®\n    if (metrics.hitRate < 0.5) {\n      recommendations.push({\n        category: 'strategy',\n        priority: 'high',\n        title: 'æé«˜é¢„åŠ è½½å‘½ä¸­ç‡',\n        description: 'å½“å‰å‘½ä¸­ç‡è¾ƒä½ï¼Œå»ºè®®ä¼˜åŒ–é¢„åŠ è½½æ—¶æœºå’Œç­–ç•¥',\n        actions: [\n          'å¢åŠ å¯è§æ€§æ£€æµ‹çš„é˜ˆå€¼èŒƒå›´',\n          'æå‰é¢„åŠ è½½å³å°†å¯è§çš„è§†é¢‘',\n          'ä¼˜åŒ–é¢„åŠ è½½ä¼˜å…ˆçº§ç®—æ³•'\n        ]\n      })\n    }\n\n    // åŸºäºå»¶è¿Ÿçš„å»ºè®®\n    if (metrics.averageHoverDelay > 200) {\n      recommendations.push({\n        category: 'performance',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–æ’­æ”¾å»¶è¿Ÿ',\n        description: 'æ‚¬åœåˆ°æ’­æ”¾çš„å»¶è¿Ÿè¾ƒé«˜ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ',\n        actions: [\n          'å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡',\n          'ä¼˜å…ˆé¢„åŠ è½½å°æ–‡ä»¶è§†é¢‘',\n          'è€ƒè™‘ä½¿ç”¨è§†é¢‘é¢„è§ˆå¸§'\n        ]\n      })\n    }\n\n    // åŸºäºå†…å­˜ä½¿ç”¨çš„å»ºè®®\n    if (realtimeMetrics.currentMemoryUsage > 100) {\n      recommendations.push({\n        category: 'resource',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–å†…å­˜ä½¿ç”¨',\n        description: 'å†…å­˜ä½¿ç”¨è¾ƒé«˜ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿæ€§èƒ½',\n        actions: [\n          'å‡å°‘åŒæ—¶é¢„åŠ è½½çš„è§†é¢‘æ•°é‡',\n          'å®ç°æ›´ç§¯æçš„ç¼“å­˜æ¸…ç†ç­–ç•¥',\n          'ç›‘æ§å¹¶é™åˆ¶å•ä¸ªè§†é¢‘çš„å†…å­˜å ç”¨'\n        ]\n      })\n    }\n\n    return recommendations\n  }\n}\n\n/**\n * æ€§èƒ½è°ƒè¯•é¢æ¿ç»„ä»¶æ•°æ®\n */\nexport function createDebugPanelData(monitor: VideoPreloaderMonitor): DebugPanelData {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  return {\n    summary: report.summary,\n    metrics: report.metrics,\n    realtimeMetrics: report.realtimeMetrics,\n    eventStats,\n    charts: {\n      memoryUsage: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.memoryUsage.used\n      })),\n      hitRate: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.hitRate * 100\n      })),\n      loadTime: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.averageLoadTime\n      }))\n    },\n    alerts: report.summary.alerts,\n    recommendations: report.recommendations\n  }\n}\n\n/**\n * è‡ªåŠ¨æ€§èƒ½åˆ†æ\n */\nexport function analyzePerformance(monitor: VideoPreloaderMonitor): PerformanceAnalysis {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  const analysis: PerformanceAnalysis = {\n    score: calculatePerformanceScore(report.metrics, report.realtimeMetrics),\n    bottlenecks: identifyBottlenecks(report.metrics, eventStats),\n    optimization: generateOptimizationPlan(report.metrics, report.realtimeMetrics),\n    comparison: compareWithBenchmarks(report.metrics)\n  }\n\n  return analysis\n}\n\n// ===== ç±»å‹å®šä¹‰ =====\n\ninterface PerformanceSnapshot {\n  timestamp: number\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  memoryUsage: MemoryUsageSnapshot\n  networkInfo: NetworkInfoSnapshot\n}\n\ninterface MemoryUsageSnapshot {\n  used: number\n  total: number\n  limit: number\n}\n\ninterface NetworkInfoSnapshot {\n  effectiveType: string\n  downlink: number\n  rtt: number\n  saveData: boolean\n}\n\ninterface PerformanceReport {\n  timestamp: string\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  debugInfo: DebugInfo\n  eventLog: PreloadEvent[]\n  performanceLog: PerformanceSnapshot[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceSummary {\n  status: 'excellent' | 'good' | 'warning' | 'critical'\n  keyMetrics: {\n    hitRate: number\n    averageDelay: number\n    successRate: number\n    memoryUsage: number\n    activePreloads: number\n  }\n  trends: TrendAnalysis\n  alerts: Alert[]\n}\n\ninterface TrendAnalysis {\n  hitRate: 'improving' | 'degrading' | 'stable'\n  memoryUsage: 'improving' | 'degrading' | 'stable'\n  loadTime: 'improving' | 'degrading' | 'stable'\n}\n\ninterface Alert {\n  level: 'critical' | 'warning' | 'info'\n  message: string\n  recommendation: string\n}\n\ninterface Recommendation {\n  category: 'strategy' | 'performance' | 'resource' | 'user-experience'\n  priority: 'high' | 'medium' | 'low'\n  title: string\n  description: string\n  actions: string[]\n}\n\ninterface EventStatistics {\n  totalEvents: number\n  eventCounts: Record<PreloadEventType, number>\n  recentEvents: PreloadEvent[]\n  errorRate: number\n  averageLoadTime: number\n}\n\ninterface DebugPanelData {\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  eventStats: EventStatistics\n  charts: {\n    memoryUsage: Array<{ timestamp: number; value: number }>\n    hitRate: Array<{ timestamp: number; value: number }>\n    loadTime: Array<{ timestamp: number; value: number }>\n  }\n  alerts: Alert[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceAnalysis {\n  score: number\n  bottlenecks: string[]\n  optimization: OptimizationPlan\n  comparison: BenchmarkComparison\n}\n\ninterface OptimizationPlan {\n  immediate: string[]\n  shortTerm: string[]\n  longTerm: string[]\n}\n\ninterface BenchmarkComparison {\n  hitRate: 'above' | 'at' | 'below'\n  loadTime: 'above' | 'at' | 'below'\n  memoryUsage: 'above' | 'at' | 'below'\n}\n\n// ===== è¾…åŠ©å‡½æ•° =====\n\nfunction calculatePerformanceScore(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): number {\n  const hitRateScore = metrics.hitRate * 30\n  const delayScore = Math.max(0, 30 - (metrics.averageHoverDelay / 10))\n  const successRateScore = metrics.successRate * 25\n  const memoryScore = Math.max(0, 15 - (realtimeMetrics.currentMemoryUsage / 10))\n  \n  return Math.round(hitRateScore + delayScore + successRateScore + memoryScore)\n}\n\nfunction identifyBottlenecks(metrics: PerformanceMetrics, eventStats: EventStatistics): string[] {\n  const bottlenecks: string[] = []\n  \n  if (metrics.hitRate < 0.5) {\n    bottlenecks.push('é¢„åŠ è½½å‘½ä¸­ç‡ä½')\n  }\n  \n  if (metrics.averageHoverDelay > 300) {\n    bottlenecks.push('æ’­æ”¾å»¶è¿Ÿè¿‡é«˜')\n  }\n  \n  if (eventStats.errorRate > 0.2) {\n    bottlenecks.push('é¢„åŠ è½½å¤±è´¥ç‡é«˜')\n  }\n  \n  if (metrics.averageLoadTime > 5000) {\n    bottlenecks.push('è§†é¢‘åŠ è½½æ—¶é—´è¿‡é•¿')\n  }\n  \n  return bottlenecks\n}\n\nfunction generateOptimizationPlan(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): OptimizationPlan {\n  const plan: OptimizationPlan = {\n    immediate: [],\n    shortTerm: [],\n    longTerm: []\n  }\n  \n  if (realtimeMetrics.currentMemoryUsage > 150) {\n    plan.immediate.push('æ¸…ç†é¢„åŠ è½½ç¼“å­˜')\n  }\n  \n  if (metrics.averageHoverDelay > 500) {\n    plan.immediate.push('å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡')\n  }\n  \n  if (metrics.hitRate < 0.3) {\n    plan.shortTerm.push('ä¼˜åŒ–å¯è§æ€§æ£€æµ‹ç­–ç•¥')\n    plan.shortTerm.push('æ”¹è¿›ä¼˜å…ˆçº§ç®—æ³•')\n  }\n  \n  plan.longTerm.push('å®ç°æ›´æ™ºèƒ½çš„ç½‘ç»œæ„ŸçŸ¥é¢„åŠ è½½')\n  plan.longTerm.push('æ·»åŠ æœºå™¨å­¦ä¹ ä¼˜åŒ–')\n  \n  return plan\n}\n\nfunction compareWithBenchmarks(metrics: PerformanceMetrics): BenchmarkComparison {\n  const benchmarks = {\n    hitRate: 0.7,\n    loadTime: 2000,\n    memoryUsage: 80\n  }\n  \n  return {\n    hitRate: metrics.hitRate > benchmarks.hitRate ? 'above' : metrics.hitRate >= benchmarks.hitRate * 0.9 ? 'at' : 'below',\n    loadTime: metrics.averageLoadTime < benchmarks.loadTime ? 'above' : metrics.averageLoadTime <= benchmarks.loadTime * 1.1 ? 'at' : 'below',\n    memoryUsage: metrics.memoryUsage < benchmarks.memoryUsage ? 'above' : metrics.memoryUsage <= benchmarks.memoryUsage * 1.1 ? 'at' : 'below'\n  }\n}\n\n// ===== å¯¼å‡ºä¾¿åˆ©å‡½æ•° =====\n\n/**\n * åˆ›å»ºæ€§èƒ½ç›‘æ§å™¨å®ä¾‹\n */\nexport function createVideoPreloaderMonitor(preloader: VideoPreloader): VideoPreloaderMonitor {\n  return new VideoPreloaderMonitor(preloader)\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ§åˆ¶å°\n */\nexport function logPerformanceReport(monitor: VideoPreloaderMonitor): void {\n  const report = monitor.getPerformanceReport()\n  console.group('ğŸ“Š è§†é¢‘é¢„åŠ è½½æ€§èƒ½æŠ¥å‘Š')\n  console.log('æ•´ä½“çŠ¶æ€:', report.summary.status)\n  console.table(report.summary.keyMetrics)\n  console.log('å‘Šè­¦:', report.summary.alerts)\n  console.log('è¶‹åŠ¿:', report.summary.trends)\n  console.log('å»ºè®®:', report.recommendations)\n  console.groupEnd()\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ–‡ä»¶\n */\nexport function downloadPerformanceReport(monitor: VideoPreloaderMonitor, filename?: string): void {\n  const data = monitor.exportPerformanceData()\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  \n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename || `video-preloader-report-${new Date().toISOString().slice(0, 19)}.json`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  \n  URL.revokeObjectURL(url)\n}
    : [35;1m        ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./lib/video-preloader-debug.ts
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 â¨¯ ./lib/video-preloader-debug.ts
Error:   [31mx[0m Expected unicode escape
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/lib/video-preloader-debug.ts[0m:11:1]
 [2m 8[0m |  * - è‡ªåŠ¨æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ
 [2m 9[0m |  */
 [2m10[0m | 
 [2m11[0m | import {\n  PerformanceMetrics,\n  RealtimeMetrics,\n  DebugInfo,\n  PreloadEvent,\n  PreloadEventType,\n  VideoPreloader\n} from '@/types/video-preloader'\n\n/**\n * æ€§èƒ½ç›‘æ§å™¨ç±»\n */\nexport class VideoPreloaderMonitor {\n  private preloader: VideoPreloader\n  private eventLog: PreloadEvent[] = []\n  private performanceLog: PerformanceSnapshot[] = []\n  private monitoringInterval: number | null = null\n  private isMonitoring = false\n\n  constructor(preloader: VideoPreloader) {\n    this.preloader = preloader\n    this.setupEventListeners()\n  }\n\n  /**\n   * å¼€å§‹æ€§èƒ½ç›‘æ§\n   */\n  startMonitoring(intervalMs = 1000): void {\n    if (this.isMonitoring) {\n      console.warn('æ€§èƒ½ç›‘æ§å·²åœ¨è¿è¡Œä¸­')\n      return\n    }\n\n    this.isMonitoring = true\n    this.monitoringInterval = window.setInterval(() => {\n      this.capturePerformanceSnapshot()\n    }, intervalMs)\n\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²å¯åŠ¨')\n  }\n\n  /**\n   * åœæ­¢æ€§èƒ½ç›‘æ§\n   */\n  stopMonitoring(): void {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval)\n      this.monitoringInterval = null\n    }\n    this.isMonitoring = false\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²åœæ­¢')\n  }\n\n  /**\n   * è·å–æ€§èƒ½æŠ¥å‘Š\n   */\n  getPerformanceReport(): PerformanceReport {\n    const metrics = this.preloader.getMetrics()\n    const realtimeMetrics = this.preloader.getRealtimeMetrics()\n    const debugInfo = this.preloader.getDebugInfo()\n\n    return {\n      timestamp: new Date().toISOString(),\n      summary: this.generateSummary(metrics, realtimeMetrics),\n      metrics,\n      realtimeMetrics,\n      debugInfo,\n      eventLog: this.eventLog.slice(-100), // æœ€è¿‘100ä¸ªäº‹ä»¶\n      performanceLog: this.performanceLog.slice(-60), // æœ€è¿‘60ä¸ªå¿«ç…§\n      recommendations: this.generateRecommendations(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * å¯¼å‡ºæ€§èƒ½æ•°æ®\n   */\n  exportPerformanceData(): string {\n    const report = this.getPerformanceReport()\n    return JSON.stringify(report, null, 2)\n  }\n\n  /**\n   * è·å–äº‹ä»¶ç»Ÿè®¡\n   */\n  getEventStatistics(): EventStatistics {\n    const stats: EventStatistics = {\n      totalEvents: this.eventLog.length,\n      eventCounts: {},\n      recentEvents: this.eventLog.slice(-20),\n      errorRate: 0,\n      averageLoadTime: 0\n    }\n\n    // ç»Ÿè®¡å„ç±»äº‹ä»¶æ•°é‡\n    Object.values(PreloadEventType).forEach(type => {\n      stats.eventCounts[type] = this.eventLog.filter(event => event.type === type).length\n    })\n\n    // è®¡ç®—é”™è¯¯ç‡\n    const errorEvents = stats.eventCounts[PreloadEventType.LoadError] || 0\n    const totalLoadAttempts = stats.eventCounts[PreloadEventType.LoadStart] || 1\n    stats.errorRate = errorEvents / totalLoadAttempts\n\n    // è®¡ç®—å¹³å‡åŠ è½½æ—¶é—´\n    const loadEvents = this.eventLog.filter(event => \n      event.type === PreloadEventType.LoadStart || event.type === PreloadEventType.LoadComplete\n    )\n    \n    const loadTimes: number[] = []\n    for (let i = 0; i < loadEvents.length - 1; i++) {\n      const startEvent = loadEvents[i]\n      const endEvent = loadEvents[i + 1]\n      if (startEvent.type === PreloadEventType.LoadStart && \n          endEvent.type === PreloadEventType.LoadComplete &&\n          startEvent.videoId === endEvent.videoId) {\n        loadTimes.push(endEvent.timestamp - startEvent.timestamp)\n      }\n    }\n\n    if (loadTimes.length > 0) {\n      stats.averageLoadTime = loadTimes.reduce((sum, time) => sum + time, 0) / loadTimes.length\n    }\n\n    return stats\n  }\n\n  /**\n   * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨\n   */\n  private setupEventListeners(): void {\n    Object.values(PreloadEventType).forEach(eventType => {\n      this.preloader.addEventListener(eventType, (event) => {\n        this.eventLog.push(event)\n        \n        // é™åˆ¶äº‹ä»¶æ—¥å¿—å¤§å°\n        if (this.eventLog.length > 1000) {\n          this.eventLog = this.eventLog.slice(-500)\n        }\n      })\n    })\n  }\n\n  /**\n   * æ•è·æ€§èƒ½å¿«ç…§\n   */\n  private capturePerformanceSnapshot(): void {\n    const snapshot: PerformanceSnapshot = {\n      timestamp: Date.now(),\n      metrics: this.preloader.getMetrics(),\n      realtimeMetrics: this.preloader.getRealtimeMetrics(),\n      memoryUsage: this.getMemoryUsage(),\n      networkInfo: this.getNetworkInfo()\n    }\n\n    this.performanceLog.push(snapshot)\n\n    // é™åˆ¶æ€§èƒ½æ—¥å¿—å¤§å°\n    if (this.performanceLog.length > 300) {\n      this.performanceLog = this.performanceLog.slice(-150)\n    }\n  }\n\n  /**\n   * è·å–å†…å­˜ä½¿ç”¨ä¿¡æ¯\n   */\n  private getMemoryUsage(): MemoryUsageSnapshot {\n    const memoryInfo: MemoryUsageSnapshot = {\n      used: 0,\n      total: 0,\n      limit: 0\n    }\n\n    if (typeof performance !== 'undefined' && (performance as any).memory) {\n      const memory = (performance as any).memory\n      memoryInfo.used = memory.usedJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.total = memory.totalJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.limit = memory.jsHeapSizeLimit / (1024 * 1024) // MB\n    }\n\n    return memoryInfo\n  }\n\n  /**\n   * è·å–ç½‘ç»œä¿¡æ¯\n   */\n  private getNetworkInfo(): NetworkInfoSnapshot {\n    const networkInfo: NetworkInfoSnapshot = {\n      effectiveType: 'unknown',\n      downlink: 0,\n      rtt: 0,\n      saveData: false\n    }\n\n    if (typeof navigator !== 'undefined' && (navigator as any).connection) {\n      const connection = (navigator as any).connection\n      networkInfo.effectiveType = connection.effectiveType || 'unknown'\n      networkInfo.downlink = connection.downlink || 0\n      networkInfo.rtt = connection.rtt || 0\n      networkInfo.saveData = connection.saveData || false\n    }\n\n    return networkInfo\n  }\n\n  /**\n   * ç”Ÿæˆæ€§èƒ½æ‘˜è¦\n   */\n  private generateSummary(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): PerformanceSummary {\n    return {\n      status: this.getOverallStatus(metrics, realtimeMetrics),\n      keyMetrics: {\n        hitRate: Math.round(metrics.hitRate * 100),\n        averageDelay: Math.round(metrics.averageHoverDelay),\n        successRate: Math.round(metrics.successRate * 100),\n        memoryUsage: Math.round(realtimeMetrics.currentMemoryUsage),\n        activePreloads: realtimeMetrics.currentConcurrentLoads\n      },\n      trends: this.analyzeTrends(),\n      alerts: this.generateAlerts(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * è·å–æ•´ä½“çŠ¶æ€\n   */\n  private getOverallStatus(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): 'excellent' | 'good' | 'warning' | 'critical' {\n    const criticalIssues = [\n      metrics.successRate < 0.7,\n      metrics.averageHoverDelay > 500,\n      realtimeMetrics.currentMemoryUsage > 150\n    ].filter(Boolean).length\n\n    const warningIssues = [\n      metrics.hitRate < 0.5,\n      metrics.averageHoverDelay > 200,\n      realtimeMetrics.currentMemoryUsage > 100\n    ].filter(Boolean).length\n\n    if (criticalIssues > 0) return 'critical'\n    if (warningIssues > 1) return 'warning'\n    if (metrics.hitRate > 0.8 && metrics.averageHoverDelay < 100) return 'excellent'\n    return 'good'\n  }\n\n  /**\n   * åˆ†æè¶‹åŠ¿\n   */\n  private analyzeTrends(): TrendAnalysis {\n    if (this.performanceLog.length < 10) {\n      return {\n        hitRate: 'stable',\n        memoryUsage: 'stable',\n        loadTime: 'stable'\n      }\n    }\n\n    const recent = this.performanceLog.slice(-10)\n    const older = this.performanceLog.slice(-20, -10)\n\n    const recentAvgHitRate = recent.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / recent.length\n    const olderAvgHitRate = older.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / older.length\n\n    const recentAvgMemory = recent.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / recent.length\n    const olderAvgMemory = older.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / older.length\n\n    const recentAvgLoadTime = recent.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / recent.length\n    const olderAvgLoadTime = older.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / older.length\n\n    return {\n      hitRate: this.getTrend(recentAvgHitRate, olderAvgHitRate),\n      memoryUsage: this.getTrend(recentAvgMemory, olderAvgMemory, true),\n      loadTime: this.getTrend(recentAvgLoadTime, olderAvgLoadTime, true)\n    }\n  }\n\n  /**\n   * è·å–è¶‹åŠ¿æ–¹å‘\n   */\n  private getTrend(recent: number, older: number, inverse = false): 'improving' | 'degrading' | 'stable' {\n    const threshold = 0.1\n    const change = (recent - older) / older\n\n    if (Math.abs(change) < threshold) return 'stable'\n    \n    const isImproving = inverse ? change < 0 : change > 0\n    return isImproving ? 'improving' : 'degrading'\n  }\n\n  /**\n   * ç”Ÿæˆå‘Šè­¦\n   */\n  private generateAlerts(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Alert[] {\n    const alerts: Alert[] = []\n\n    if (metrics.successRate < 0.7) {\n      alerts.push({\n        level: 'critical',\n        message: `é¢„åŠ è½½æˆåŠŸç‡è¿‡ä½: ${Math.round(metrics.successRate * 100)}%`,\n        recommendation: 'æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œè§†é¢‘èµ„æºå¯ç”¨æ€§'\n      })\n    }\n\n    if (metrics.averageHoverDelay > 500) {\n      alerts.push({\n        level: 'critical',\n        message: `æ‚¬åœå»¶è¿Ÿè¿‡é«˜: ${Math.round(metrics.averageHoverDelay)}ms`,\n        recommendation: 'å¢åŠ é¢„åŠ è½½å¹¶å‘æ•°æˆ–ä¼˜åŒ–è§†é¢‘æ–‡ä»¶å¤§å°'\n      })\n    }\n\n    if (realtimeMetrics.currentMemoryUsage > 150) {\n      alerts.push({\n        level: 'warning',\n        message: `å†…å­˜ä½¿ç”¨è¿‡é«˜: ${Math.round(realtimeMetrics.currentMemoryUsage)}MB`,\n        recommendation: 'å‡å°‘å¹¶å‘é¢„åŠ è½½æ•°é‡æˆ–æ¸…ç†é¢„åŠ è½½ç¼“å­˜'\n      })\n    }\n\n    if (metrics.hitRate < 0.3) {\n      alerts.push({\n        level: 'warning',\n        message: `é¢„åŠ è½½å‘½ä¸­ç‡ä½: ${Math.round(metrics.hitRate * 100)}%`,\n        recommendation: 'ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥æˆ–å¢åŠ å¯è§æ€§æ£€æµ‹èŒƒå›´'\n      })\n    }\n\n    return alerts\n  }\n\n  /**\n   * ç”Ÿæˆä¼˜åŒ–å»ºè®®\n   */\n  private generateRecommendations(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Recommendation[] {\n    const recommendations: Recommendation[] = []\n\n    // åŸºäºå‘½ä¸­ç‡çš„å»ºè®®\n    if (metrics.hitRate < 0.5) {\n      recommendations.push({\n        category: 'strategy',\n        priority: 'high',\n        title: 'æé«˜é¢„åŠ è½½å‘½ä¸­ç‡',\n        description: 'å½“å‰å‘½ä¸­ç‡è¾ƒä½ï¼Œå»ºè®®ä¼˜åŒ–é¢„åŠ è½½æ—¶æœºå’Œç­–ç•¥',\n        actions: [\n          'å¢åŠ å¯è§æ€§æ£€æµ‹çš„é˜ˆå€¼èŒƒå›´',\n          'æå‰é¢„åŠ è½½å³å°†å¯è§çš„è§†é¢‘',\n          'ä¼˜åŒ–é¢„åŠ è½½ä¼˜å…ˆçº§ç®—æ³•'\n        ]\n      })\n    }\n\n    // åŸºäºå»¶è¿Ÿçš„å»ºè®®\n    if (metrics.averageHoverDelay > 200) {\n      recommendations.push({\n        category: 'performance',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–æ’­æ”¾å»¶è¿Ÿ',\n        description: 'æ‚¬åœåˆ°æ’­æ”¾çš„å»¶è¿Ÿè¾ƒé«˜ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ',\n        actions: [\n          'å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡',\n          'ä¼˜å…ˆé¢„åŠ è½½å°æ–‡ä»¶è§†é¢‘',\n          'è€ƒè™‘ä½¿ç”¨è§†é¢‘é¢„è§ˆå¸§'\n        ]\n      })\n    }\n\n    // åŸºäºå†…å­˜ä½¿ç”¨çš„å»ºè®®\n    if (realtimeMetrics.currentMemoryUsage > 100) {\n      recommendations.push({\n        category: 'resource',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–å†…å­˜ä½¿ç”¨',\n        description: 'å†…å­˜ä½¿ç”¨è¾ƒé«˜ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿæ€§èƒ½',\n        actions: [\n          'å‡å°‘åŒæ—¶é¢„åŠ è½½çš„è§†é¢‘æ•°é‡',\n          'å®ç°æ›´ç§¯æçš„ç¼“å­˜æ¸…ç†ç­–ç•¥',\n          'ç›‘æ§å¹¶é™åˆ¶å•ä¸ªè§†é¢‘çš„å†…å­˜å ç”¨'\n        ]\n      })\n    }\n\n    return recommendations\n  }\n}\n\n/**\n * æ€§èƒ½è°ƒè¯•é¢æ¿ç»„ä»¶æ•°æ®\n */\nexport function createDebugPanelData(monitor: VideoPreloaderMonitor): DebugPanelData {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  return {\n    summary: report.summary,\n    metrics: report.metrics,\n    realtimeMetrics: report.realtimeMetrics,\n    eventStats,\n    charts: {\n      memoryUsage: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.memoryUsage.used\n      })),\n      hitRate: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.hitRate * 100\n      })),\n      loadTime: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.averageLoadTime\n      }))\n    },\n    alerts: report.summary.alerts,\n    recommendations: report.recommendations\n  }\n}\n\n/**\n * è‡ªåŠ¨æ€§èƒ½åˆ†æ\n */\nexport function analyzePerformance(monitor: VideoPreloaderMonitor): PerformanceAnalysis {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  const analysis: PerformanceAnalysis = {\n    score: calculatePerformanceScore(report.metrics, report.realtimeMetrics),\n    bottlenecks: identifyBottlenecks(report.metrics, eventStats),\n    optimization: generateOptimizationPlan(report.metrics, report.realtimeMetrics),\n    comparison: compareWithBenchmarks(report.metrics)\n  }\n\n  return analysis\n}\n\n// ===== ç±»å‹å®šä¹‰ =====\n\ninterface PerformanceSnapshot {\n  timestamp: number\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  memoryUsage: MemoryUsageSnapshot\n  networkInfo: NetworkInfoSnapshot\n}\n\ninterface MemoryUsageSnapshot {\n  used: number\n  total: number\n  limit: number\n}\n\ninterface NetworkInfoSnapshot {\n  effectiveType: string\n  downlink: number\n  rtt: number\n  saveData: boolean\n}\n\ninterface PerformanceReport {\n  timestamp: string\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  debugInfo: DebugInfo\n  eventLog: PreloadEvent[]\n  performanceLog: PerformanceSnapshot[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceSummary {\n  status: 'excellent' | 'good' | 'warning' | 'critical'\n  keyMetrics: {\n    hitRate: number\n    averageDelay: number\n    successRate: number\n    memoryUsage: number\n    activePreloads: number\n  }\n  trends: TrendAnalysis\n  alerts: Alert[]\n}\n\ninterface TrendAnalysis {\n  hitRate: 'improving' | 'degrading' | 'stable'\n  memoryUsage: 'improving' | 'degrading' | 'stable'\n  loadTime: 'improving' | 'degrading' | 'stable'\n}\n\ninterface Alert {\n  level: 'critical' | 'warning' | 'info'\n  message: string\n  recommendation: string\n}\n\ninterface Recommendation {\n  category: 'strategy' | 'performance' | 'resource' | 'user-experience'\n  priority: 'high' | 'medium' | 'low'\n  title: string\n  description: string\n  actions: string[]\n}\n\ninterface EventStatistics {\n  totalEvents: number\n  eventCounts: Record<PreloadEventType, number>\n  recentEvents: PreloadEvent[]\n  errorRate: number\n  averageLoadTime: number\n}\n\ninterface DebugPanelData {\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  eventStats: EventStatistics\n  charts: {\n    memoryUsage: Array<{ timestamp: number; value: number }>\n    hitRate: Array<{ timestamp: number; value: number }>\n    loadTime: Array<{ timestamp: number; value: number }>\n  }\n  alerts: Alert[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceAnalysis {\n  score: number\n  bottlenecks: string[]\n  optimization: OptimizationPlan\n  comparison: BenchmarkComparison\n}\n\ninterface OptimizationPlan {\n  immediate: string[]\n  shortTerm: string[]\n  longTerm: string[]\n}\n\ninterface BenchmarkComparison {\n  hitRate: 'above' | 'at' | 'below'\n  loadTime: 'above' | 'at' | 'below'\n  memoryUsage: 'above' | 'at' | 'below'\n}\n\n// ===== è¾…åŠ©å‡½æ•° =====\n\nfunction calculatePerformanceScore(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): number {\n  const hitRateScore = metrics.hitRate * 30\n  const delayScore = Math.max(0, 30 - (metrics.averageHoverDelay / 10))\n  const successRateScore = metrics.successRate * 25\n  const memoryScore = Math.max(0, 15 - (realtimeMetrics.currentMemoryUsage / 10))\n  \n  return Math.round(hitRateScore + delayScore + successRateScore + memoryScore)\n}\n\nfunction identifyBottlenecks(metrics: PerformanceMetrics, eventStats: EventStatistics): string[] {\n  const bottlenecks: string[] = []\n  \n  if (metrics.hitRate < 0.5) {\n    bottlenecks.push('é¢„åŠ è½½å‘½ä¸­ç‡ä½')\n  }\n  \n  if (metrics.averageHoverDelay > 300) {\n    bottlenecks.push('æ’­æ”¾å»¶è¿Ÿè¿‡é«˜')\n  }\n  \n  if (eventStats.errorRate > 0.2) {\n    bottlenecks.push('é¢„åŠ è½½å¤±è´¥ç‡é«˜')\n  }\n  \n  if (metrics.averageLoadTime > 5000) {\n    bottlenecks.push('è§†é¢‘åŠ è½½æ—¶é—´è¿‡é•¿')\n  }\n  \n  return bottlenecks\n}\n\nfunction generateOptimizationPlan(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): OptimizationPlan {\n  const plan: OptimizationPlan = {\n    immediate: [],\n    shortTerm: [],\n    longTerm: []\n  }\n  \n  if (realtimeMetrics.currentMemoryUsage > 150) {\n    plan.immediate.push('æ¸…ç†é¢„åŠ è½½ç¼“å­˜')\n  }\n  \n  if (metrics.averageHoverDelay > 500) {\n    plan.immediate.push('å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡')\n  }\n  \n  if (metrics.hitRate < 0.3) {\n    plan.shortTerm.push('ä¼˜åŒ–å¯è§æ€§æ£€æµ‹ç­–ç•¥')\n    plan.shortTerm.push('æ”¹è¿›ä¼˜å…ˆçº§ç®—æ³•')\n  }\n  \n  plan.longTerm.push('å®ç°æ›´æ™ºèƒ½çš„ç½‘ç»œæ„ŸçŸ¥é¢„åŠ è½½')\n  plan.longTerm.push('æ·»åŠ æœºå™¨å­¦ä¹ ä¼˜åŒ–')\n  \n  return plan\n}\n\nfunction compareWithBenchmarks(metrics: PerformanceMetrics): BenchmarkComparison {\n  const benchmarks = {\n    hitRate: 0.7,\n    loadTime: 2000,\n    memoryUsage: 80\n  }\n  \n  return {\n    hitRate: metrics.hitRate > benchmarks.hitRate ? 'above' : metrics.hitRate >= benchmarks.hitRate * 0.9 ? 'at' : 'below',\n    loadTime: metrics.averageLoadTime < benchmarks.loadTime ? 'above' : metrics.averageLoadTime <= benchmarks.loadTime * 1.1 ? 'at' : 'below',\n    memoryUsage: metrics.memoryUsage < benchmarks.memoryUsage ? 'above' : metrics.memoryUsage <= benchmarks.memoryUsage * 1.1 ? 'at' : 'below'\n  }\n}\n\n// ===== å¯¼å‡ºä¾¿åˆ©å‡½æ•° =====\n\n/**\n * åˆ›å»ºæ€§èƒ½ç›‘æ§å™¨å®ä¾‹\n */\nexport function createVideoPreloaderMonitor(preloader: VideoPreloader): VideoPreloaderMonitor {\n  return new VideoPreloaderMonitor(preloader)\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ§åˆ¶å°\n */\nexport function logPerformanceReport(monitor: VideoPreloaderMonitor): void {\n  const report = monitor.getPerformanceReport()\n  console.group('ğŸ“Š è§†é¢‘é¢„åŠ è½½æ€§èƒ½æŠ¥å‘Š')\n  console.log('æ•´ä½“çŠ¶æ€:', report.summary.status)\n  console.table(report.summary.keyMetrics)\n  console.log('å‘Šè­¦:', report.summary.alerts)\n  console.log('è¶‹åŠ¿:', report.summary.trends)\n  console.log('å»ºè®®:', report.recommendations)\n  console.groupEnd()\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ–‡ä»¶\n */\nexport function downloadPerformanceReport(monitor: VideoPreloaderMonitor, filename?: string): void {\n  const data = monitor.exportPerformanceData()\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  \n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename || `video-preloader-report-${new Date().toISOString().slice(0, 19)}.json`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  \n  URL.revokeObjectURL(url)\n}
    : [35;1m        ^[0m
    `----
  [31mx[0m Unexpected token `<lexing error: Error { error: (263..263, ExpectedUnicodeEscape) }>`. Expected identifier or string
    ,-[[36;1;4m/Users/jacob/Desktop/vidfab/lib/video-preloader-debug.ts[0m:11:1]
 [2m 8[0m |  * - è‡ªåŠ¨æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ
 [2m 9[0m |  */
 [2m10[0m | 
 [2m11[0m | import {\n  PerformanceMetrics,\n  RealtimeMetrics,\n  DebugInfo,\n  PreloadEvent,\n  PreloadEventType,\n  VideoPreloader\n} from '@/types/video-preloader'\n\n/**\n * æ€§èƒ½ç›‘æ§å™¨ç±»\n */\nexport class VideoPreloaderMonitor {\n  private preloader: VideoPreloader\n  private eventLog: PreloadEvent[] = []\n  private performanceLog: PerformanceSnapshot[] = []\n  private monitoringInterval: number | null = null\n  private isMonitoring = false\n\n  constructor(preloader: VideoPreloader) {\n    this.preloader = preloader\n    this.setupEventListeners()\n  }\n\n  /**\n   * å¼€å§‹æ€§èƒ½ç›‘æ§\n   */\n  startMonitoring(intervalMs = 1000): void {\n    if (this.isMonitoring) {\n      console.warn('æ€§èƒ½ç›‘æ§å·²åœ¨è¿è¡Œä¸­')\n      return\n    }\n\n    this.isMonitoring = true\n    this.monitoringInterval = window.setInterval(() => {\n      this.capturePerformanceSnapshot()\n    }, intervalMs)\n\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²å¯åŠ¨')\n  }\n\n  /**\n   * åœæ­¢æ€§èƒ½ç›‘æ§\n   */\n  stopMonitoring(): void {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval)\n      this.monitoringInterval = null\n    }\n    this.isMonitoring = false\n    console.log('è§†é¢‘é¢„åŠ è½½æ€§èƒ½ç›‘æ§å·²åœæ­¢')\n  }\n\n  /**\n   * è·å–æ€§èƒ½æŠ¥å‘Š\n   */\n  getPerformanceReport(): PerformanceReport {\n    const metrics = this.preloader.getMetrics()\n    const realtimeMetrics = this.preloader.getRealtimeMetrics()\n    const debugInfo = this.preloader.getDebugInfo()\n\n    return {\n      timestamp: new Date().toISOString(),\n      summary: this.generateSummary(metrics, realtimeMetrics),\n      metrics,\n      realtimeMetrics,\n      debugInfo,\n      eventLog: this.eventLog.slice(-100), // æœ€è¿‘100ä¸ªäº‹ä»¶\n      performanceLog: this.performanceLog.slice(-60), // æœ€è¿‘60ä¸ªå¿«ç…§\n      recommendations: this.generateRecommendations(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * å¯¼å‡ºæ€§èƒ½æ•°æ®\n   */\n  exportPerformanceData(): string {\n    const report = this.getPerformanceReport()\n    return JSON.stringify(report, null, 2)\n  }\n\n  /**\n   * è·å–äº‹ä»¶ç»Ÿè®¡\n   */\n  getEventStatistics(): EventStatistics {\n    const stats: EventStatistics = {\n      totalEvents: this.eventLog.length,\n      eventCounts: {},\n      recentEvents: this.eventLog.slice(-20),\n      errorRate: 0,\n      averageLoadTime: 0\n    }\n\n    // ç»Ÿè®¡å„ç±»äº‹ä»¶æ•°é‡\n    Object.values(PreloadEventType).forEach(type => {\n      stats.eventCounts[type] = this.eventLog.filter(event => event.type === type).length\n    })\n\n    // è®¡ç®—é”™è¯¯ç‡\n    const errorEvents = stats.eventCounts[PreloadEventType.LoadError] || 0\n    const totalLoadAttempts = stats.eventCounts[PreloadEventType.LoadStart] || 1\n    stats.errorRate = errorEvents / totalLoadAttempts\n\n    // è®¡ç®—å¹³å‡åŠ è½½æ—¶é—´\n    const loadEvents = this.eventLog.filter(event => \n      event.type === PreloadEventType.LoadStart || event.type === PreloadEventType.LoadComplete\n    )\n    \n    const loadTimes: number[] = []\n    for (let i = 0; i < loadEvents.length - 1; i++) {\n      const startEvent = loadEvents[i]\n      const endEvent = loadEvents[i + 1]\n      if (startEvent.type === PreloadEventType.LoadStart && \n          endEvent.type === PreloadEventType.LoadComplete &&\n          startEvent.videoId === endEvent.videoId) {\n        loadTimes.push(endEvent.timestamp - startEvent.timestamp)\n      }\n    }\n\n    if (loadTimes.length > 0) {\n      stats.averageLoadTime = loadTimes.reduce((sum, time) => sum + time, 0) / loadTimes.length\n    }\n\n    return stats\n  }\n\n  /**\n   * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨\n   */\n  private setupEventListeners(): void {\n    Object.values(PreloadEventType).forEach(eventType => {\n      this.preloader.addEventListener(eventType, (event) => {\n        this.eventLog.push(event)\n        \n        // é™åˆ¶äº‹ä»¶æ—¥å¿—å¤§å°\n        if (this.eventLog.length > 1000) {\n          this.eventLog = this.eventLog.slice(-500)\n        }\n      })\n    })\n  }\n\n  /**\n   * æ•è·æ€§èƒ½å¿«ç…§\n   */\n  private capturePerformanceSnapshot(): void {\n    const snapshot: PerformanceSnapshot = {\n      timestamp: Date.now(),\n      metrics: this.preloader.getMetrics(),\n      realtimeMetrics: this.preloader.getRealtimeMetrics(),\n      memoryUsage: this.getMemoryUsage(),\n      networkInfo: this.getNetworkInfo()\n    }\n\n    this.performanceLog.push(snapshot)\n\n    // é™åˆ¶æ€§èƒ½æ—¥å¿—å¤§å°\n    if (this.performanceLog.length > 300) {\n      this.performanceLog = this.performanceLog.slice(-150)\n    }\n  }\n\n  /**\n   * è·å–å†…å­˜ä½¿ç”¨ä¿¡æ¯\n   */\n  private getMemoryUsage(): MemoryUsageSnapshot {\n    const memoryInfo: MemoryUsageSnapshot = {\n      used: 0,\n      total: 0,\n      limit: 0\n    }\n\n    if (typeof performance !== 'undefined' && (performance as any).memory) {\n      const memory = (performance as any).memory\n      memoryInfo.used = memory.usedJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.total = memory.totalJSHeapSize / (1024 * 1024) // MB\n      memoryInfo.limit = memory.jsHeapSizeLimit / (1024 * 1024) // MB\n    }\n\n    return memoryInfo\n  }\n\n  /**\n   * è·å–ç½‘ç»œä¿¡æ¯\n   */\n  private getNetworkInfo(): NetworkInfoSnapshot {\n    const networkInfo: NetworkInfoSnapshot = {\n      effectiveType: 'unknown',\n      downlink: 0,\n      rtt: 0,\n      saveData: false\n    }\n\n    if (typeof navigator !== 'undefined' && (navigator as any).connection) {\n      const connection = (navigator as any).connection\n      networkInfo.effectiveType = connection.effectiveType || 'unknown'\n      networkInfo.downlink = connection.downlink || 0\n      networkInfo.rtt = connection.rtt || 0\n      networkInfo.saveData = connection.saveData || false\n    }\n\n    return networkInfo\n  }\n\n  /**\n   * ç”Ÿæˆæ€§èƒ½æ‘˜è¦\n   */\n  private generateSummary(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): PerformanceSummary {\n    return {\n      status: this.getOverallStatus(metrics, realtimeMetrics),\n      keyMetrics: {\n        hitRate: Math.round(metrics.hitRate * 100),\n        averageDelay: Math.round(metrics.averageHoverDelay),\n        successRate: Math.round(metrics.successRate * 100),\n        memoryUsage: Math.round(realtimeMetrics.currentMemoryUsage),\n        activePreloads: realtimeMetrics.currentConcurrentLoads\n      },\n      trends: this.analyzeTrends(),\n      alerts: this.generateAlerts(metrics, realtimeMetrics)\n    }\n  }\n\n  /**\n   * è·å–æ•´ä½“çŠ¶æ€\n   */\n  private getOverallStatus(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): 'excellent' | 'good' | 'warning' | 'critical' {\n    const criticalIssues = [\n      metrics.successRate < 0.7,\n      metrics.averageHoverDelay > 500,\n      realtimeMetrics.currentMemoryUsage > 150\n    ].filter(Boolean).length\n\n    const warningIssues = [\n      metrics.hitRate < 0.5,\n      metrics.averageHoverDelay > 200,\n      realtimeMetrics.currentMemoryUsage > 100\n    ].filter(Boolean).length\n\n    if (criticalIssues > 0) return 'critical'\n    if (warningIssues > 1) return 'warning'\n    if (metrics.hitRate > 0.8 && metrics.averageHoverDelay < 100) return 'excellent'\n    return 'good'\n  }\n\n  /**\n   * åˆ†æè¶‹åŠ¿\n   */\n  private analyzeTrends(): TrendAnalysis {\n    if (this.performanceLog.length < 10) {\n      return {\n        hitRate: 'stable',\n        memoryUsage: 'stable',\n        loadTime: 'stable'\n      }\n    }\n\n    const recent = this.performanceLog.slice(-10)\n    const older = this.performanceLog.slice(-20, -10)\n\n    const recentAvgHitRate = recent.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / recent.length\n    const olderAvgHitRate = older.reduce((sum, snap) => sum + snap.metrics.hitRate, 0) / older.length\n\n    const recentAvgMemory = recent.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / recent.length\n    const olderAvgMemory = older.reduce((sum, snap) => sum + snap.realtimeMetrics.currentMemoryUsage, 0) / older.length\n\n    const recentAvgLoadTime = recent.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / recent.length\n    const olderAvgLoadTime = older.reduce((sum, snap) => sum + snap.metrics.averageLoadTime, 0) / older.length\n\n    return {\n      hitRate: this.getTrend(recentAvgHitRate, olderAvgHitRate),\n      memoryUsage: this.getTrend(recentAvgMemory, olderAvgMemory, true),\n      loadTime: this.getTrend(recentAvgLoadTime, olderAvgLoadTime, true)\n    }\n  }\n\n  /**\n   * è·å–è¶‹åŠ¿æ–¹å‘\n   */\n  private getTrend(recent: number, older: number, inverse = false): 'improving' | 'degrading' | 'stable' {\n    const threshold = 0.1\n    const change = (recent - older) / older\n\n    if (Math.abs(change) < threshold) return 'stable'\n    \n    const isImproving = inverse ? change < 0 : change > 0\n    return isImproving ? 'improving' : 'degrading'\n  }\n\n  /**\n   * ç”Ÿæˆå‘Šè­¦\n   */\n  private generateAlerts(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Alert[] {\n    const alerts: Alert[] = []\n\n    if (metrics.successRate < 0.7) {\n      alerts.push({\n        level: 'critical',\n        message: `é¢„åŠ è½½æˆåŠŸç‡è¿‡ä½: ${Math.round(metrics.successRate * 100)}%`,\n        recommendation: 'æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œè§†é¢‘èµ„æºå¯ç”¨æ€§'\n      })\n    }\n\n    if (metrics.averageHoverDelay > 500) {\n      alerts.push({\n        level: 'critical',\n        message: `æ‚¬åœå»¶è¿Ÿè¿‡é«˜: ${Math.round(metrics.averageHoverDelay)}ms`,\n        recommendation: 'å¢åŠ é¢„åŠ è½½å¹¶å‘æ•°æˆ–ä¼˜åŒ–è§†é¢‘æ–‡ä»¶å¤§å°'\n      })\n    }\n\n    if (realtimeMetrics.currentMemoryUsage > 150) {\n      alerts.push({\n        level: 'warning',\n        message: `å†…å­˜ä½¿ç”¨è¿‡é«˜: ${Math.round(realtimeMetrics.currentMemoryUsage)}MB`,\n        recommendation: 'å‡å°‘å¹¶å‘é¢„åŠ è½½æ•°é‡æˆ–æ¸…ç†é¢„åŠ è½½ç¼“å­˜'\n      })\n    }\n\n    if (metrics.hitRate < 0.3) {\n      alerts.push({\n        level: 'warning',\n        message: `é¢„åŠ è½½å‘½ä¸­ç‡ä½: ${Math.round(metrics.hitRate * 100)}%`,\n        recommendation: 'ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥æˆ–å¢åŠ å¯è§æ€§æ£€æµ‹èŒƒå›´'\n      })\n    }\n\n    return alerts\n  }\n\n  /**\n   * ç”Ÿæˆä¼˜åŒ–å»ºè®®\n   */\n  private generateRecommendations(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): Recommendation[] {\n    const recommendations: Recommendation[] = []\n\n    // åŸºäºå‘½ä¸­ç‡çš„å»ºè®®\n    if (metrics.hitRate < 0.5) {\n      recommendations.push({\n        category: 'strategy',\n        priority: 'high',\n        title: 'æé«˜é¢„åŠ è½½å‘½ä¸­ç‡',\n        description: 'å½“å‰å‘½ä¸­ç‡è¾ƒä½ï¼Œå»ºè®®ä¼˜åŒ–é¢„åŠ è½½æ—¶æœºå’Œç­–ç•¥',\n        actions: [\n          'å¢åŠ å¯è§æ€§æ£€æµ‹çš„é˜ˆå€¼èŒƒå›´',\n          'æå‰é¢„åŠ è½½å³å°†å¯è§çš„è§†é¢‘',\n          'ä¼˜åŒ–é¢„åŠ è½½ä¼˜å…ˆçº§ç®—æ³•'\n        ]\n      })\n    }\n\n    // åŸºäºå»¶è¿Ÿçš„å»ºè®®\n    if (metrics.averageHoverDelay > 200) {\n      recommendations.push({\n        category: 'performance',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–æ’­æ”¾å»¶è¿Ÿ',\n        description: 'æ‚¬åœåˆ°æ’­æ”¾çš„å»¶è¿Ÿè¾ƒé«˜ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ',\n        actions: [\n          'å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡',\n          'ä¼˜å…ˆé¢„åŠ è½½å°æ–‡ä»¶è§†é¢‘',\n          'è€ƒè™‘ä½¿ç”¨è§†é¢‘é¢„è§ˆå¸§'\n        ]\n      })\n    }\n\n    // åŸºäºå†…å­˜ä½¿ç”¨çš„å»ºè®®\n    if (realtimeMetrics.currentMemoryUsage > 100) {\n      recommendations.push({\n        category: 'resource',\n        priority: 'medium',\n        title: 'ä¼˜åŒ–å†…å­˜ä½¿ç”¨',\n        description: 'å†…å­˜ä½¿ç”¨è¾ƒé«˜ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿæ€§èƒ½',\n        actions: [\n          'å‡å°‘åŒæ—¶é¢„åŠ è½½çš„è§†é¢‘æ•°é‡',\n          'å®ç°æ›´ç§¯æçš„ç¼“å­˜æ¸…ç†ç­–ç•¥',\n          'ç›‘æ§å¹¶é™åˆ¶å•ä¸ªè§†é¢‘çš„å†…å­˜å ç”¨'\n        ]\n      })\n    }\n\n    return recommendations\n  }\n}\n\n/**\n * æ€§èƒ½è°ƒè¯•é¢æ¿ç»„ä»¶æ•°æ®\n */\nexport function createDebugPanelData(monitor: VideoPreloaderMonitor): DebugPanelData {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  return {\n    summary: report.summary,\n    metrics: report.metrics,\n    realtimeMetrics: report.realtimeMetrics,\n    eventStats,\n    charts: {\n      memoryUsage: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.memoryUsage.used\n      })),\n      hitRate: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.hitRate * 100\n      })),\n      loadTime: report.performanceLog.map(snap => ({\n        timestamp: snap.timestamp,\n        value: snap.metrics.averageLoadTime\n      }))\n    },\n    alerts: report.summary.alerts,\n    recommendations: report.recommendations\n  }\n}\n\n/**\n * è‡ªåŠ¨æ€§èƒ½åˆ†æ\n */\nexport function analyzePerformance(monitor: VideoPreloaderMonitor): PerformanceAnalysis {\n  const report = monitor.getPerformanceReport()\n  const eventStats = monitor.getEventStatistics()\n\n  const analysis: PerformanceAnalysis = {\n    score: calculatePerformanceScore(report.metrics, report.realtimeMetrics),\n    bottlenecks: identifyBottlenecks(report.metrics, eventStats),\n    optimization: generateOptimizationPlan(report.metrics, report.realtimeMetrics),\n    comparison: compareWithBenchmarks(report.metrics)\n  }\n\n  return analysis\n}\n\n// ===== ç±»å‹å®šä¹‰ =====\n\ninterface PerformanceSnapshot {\n  timestamp: number\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  memoryUsage: MemoryUsageSnapshot\n  networkInfo: NetworkInfoSnapshot\n}\n\ninterface MemoryUsageSnapshot {\n  used: number\n  total: number\n  limit: number\n}\n\ninterface NetworkInfoSnapshot {\n  effectiveType: string\n  downlink: number\n  rtt: number\n  saveData: boolean\n}\n\ninterface PerformanceReport {\n  timestamp: string\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  debugInfo: DebugInfo\n  eventLog: PreloadEvent[]\n  performanceLog: PerformanceSnapshot[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceSummary {\n  status: 'excellent' | 'good' | 'warning' | 'critical'\n  keyMetrics: {\n    hitRate: number\n    averageDelay: number\n    successRate: number\n    memoryUsage: number\n    activePreloads: number\n  }\n  trends: TrendAnalysis\n  alerts: Alert[]\n}\n\ninterface TrendAnalysis {\n  hitRate: 'improving' | 'degrading' | 'stable'\n  memoryUsage: 'improving' | 'degrading' | 'stable'\n  loadTime: 'improving' | 'degrading' | 'stable'\n}\n\ninterface Alert {\n  level: 'critical' | 'warning' | 'info'\n  message: string\n  recommendation: string\n}\n\ninterface Recommendation {\n  category: 'strategy' | 'performance' | 'resource' | 'user-experience'\n  priority: 'high' | 'medium' | 'low'\n  title: string\n  description: string\n  actions: string[]\n}\n\ninterface EventStatistics {\n  totalEvents: number\n  eventCounts: Record<PreloadEventType, number>\n  recentEvents: PreloadEvent[]\n  errorRate: number\n  averageLoadTime: number\n}\n\ninterface DebugPanelData {\n  summary: PerformanceSummary\n  metrics: PerformanceMetrics\n  realtimeMetrics: RealtimeMetrics\n  eventStats: EventStatistics\n  charts: {\n    memoryUsage: Array<{ timestamp: number; value: number }>\n    hitRate: Array<{ timestamp: number; value: number }>\n    loadTime: Array<{ timestamp: number; value: number }>\n  }\n  alerts: Alert[]\n  recommendations: Recommendation[]\n}\n\ninterface PerformanceAnalysis {\n  score: number\n  bottlenecks: string[]\n  optimization: OptimizationPlan\n  comparison: BenchmarkComparison\n}\n\ninterface OptimizationPlan {\n  immediate: string[]\n  shortTerm: string[]\n  longTerm: string[]\n}\n\ninterface BenchmarkComparison {\n  hitRate: 'above' | 'at' | 'below'\n  loadTime: 'above' | 'at' | 'below'\n  memoryUsage: 'above' | 'at' | 'below'\n}\n\n// ===== è¾…åŠ©å‡½æ•° =====\n\nfunction calculatePerformanceScore(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): number {\n  const hitRateScore = metrics.hitRate * 30\n  const delayScore = Math.max(0, 30 - (metrics.averageHoverDelay / 10))\n  const successRateScore = metrics.successRate * 25\n  const memoryScore = Math.max(0, 15 - (realtimeMetrics.currentMemoryUsage / 10))\n  \n  return Math.round(hitRateScore + delayScore + successRateScore + memoryScore)\n}\n\nfunction identifyBottlenecks(metrics: PerformanceMetrics, eventStats: EventStatistics): string[] {\n  const bottlenecks: string[] = []\n  \n  if (metrics.hitRate < 0.5) {\n    bottlenecks.push('é¢„åŠ è½½å‘½ä¸­ç‡ä½')\n  }\n  \n  if (metrics.averageHoverDelay > 300) {\n    bottlenecks.push('æ’­æ”¾å»¶è¿Ÿè¿‡é«˜')\n  }\n  \n  if (eventStats.errorRate > 0.2) {\n    bottlenecks.push('é¢„åŠ è½½å¤±è´¥ç‡é«˜')\n  }\n  \n  if (metrics.averageLoadTime > 5000) {\n    bottlenecks.push('è§†é¢‘åŠ è½½æ—¶é—´è¿‡é•¿')\n  }\n  \n  return bottlenecks\n}\n\nfunction generateOptimizationPlan(metrics: PerformanceMetrics, realtimeMetrics: RealtimeMetrics): OptimizationPlan {\n  const plan: OptimizationPlan = {\n    immediate: [],\n    shortTerm: [],\n    longTerm: []\n  }\n  \n  if (realtimeMetrics.currentMemoryUsage > 150) {\n    plan.immediate.push('æ¸…ç†é¢„åŠ è½½ç¼“å­˜')\n  }\n  \n  if (metrics.averageHoverDelay > 500) {\n    plan.immediate.push('å¢åŠ å¹¶å‘é¢„åŠ è½½æ•°é‡')\n  }\n  \n  if (metrics.hitRate < 0.3) {\n    plan.shortTerm.push('ä¼˜åŒ–å¯è§æ€§æ£€æµ‹ç­–ç•¥')\n    plan.shortTerm.push('æ”¹è¿›ä¼˜å…ˆçº§ç®—æ³•')\n  }\n  \n  plan.longTerm.push('å®ç°æ›´æ™ºèƒ½çš„ç½‘ç»œæ„ŸçŸ¥é¢„åŠ è½½')\n  plan.longTerm.push('æ·»åŠ æœºå™¨å­¦ä¹ ä¼˜åŒ–')\n  \n  return plan\n}\n\nfunction compareWithBenchmarks(metrics: PerformanceMetrics): BenchmarkComparison {\n  const benchmarks = {\n    hitRate: 0.7,\n    loadTime: 2000,\n    memoryUsage: 80\n  }\n  \n  return {\n    hitRate: metrics.hitRate > benchmarks.hitRate ? 'above' : metrics.hitRate >= benchmarks.hitRate * 0.9 ? 'at' : 'below',\n    loadTime: metrics.averageLoadTime < benchmarks.loadTime ? 'above' : metrics.averageLoadTime <= benchmarks.loadTime * 1.1 ? 'at' : 'below',\n    memoryUsage: metrics.memoryUsage < benchmarks.memoryUsage ? 'above' : metrics.memoryUsage <= benchmarks.memoryUsage * 1.1 ? 'at' : 'below'\n  }\n}\n\n// ===== å¯¼å‡ºä¾¿åˆ©å‡½æ•° =====\n\n/**\n * åˆ›å»ºæ€§èƒ½ç›‘æ§å™¨å®ä¾‹\n */\nexport function createVideoPreloaderMonitor(preloader: VideoPreloader): VideoPreloaderMonitor {\n  return new VideoPreloaderMonitor(preloader)\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ§åˆ¶å°\n */\nexport function logPerformanceReport(monitor: VideoPreloaderMonitor): void {\n  const report = monitor.getPerformanceReport()\n  console.group('ğŸ“Š è§†é¢‘é¢„åŠ è½½æ€§èƒ½æŠ¥å‘Š')\n  console.log('æ•´ä½“çŠ¶æ€:', report.summary.status)\n  console.table(report.summary.keyMetrics)\n  console.log('å‘Šè­¦:', report.summary.alerts)\n  console.log('è¶‹åŠ¿:', report.summary.trends)\n  console.log('å»ºè®®:', report.recommendations)\n  console.groupEnd()\n}\n\n/**\n * å¯¼å‡ºæ€§èƒ½æ•°æ®åˆ°æ–‡ä»¶\n */\nexport function downloadPerformanceReport(monitor: VideoPreloaderMonitor, filename?: string): void {\n  const data = monitor.exportPerformanceData()\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  \n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename || `video-preloader-report-${new Date().toISOString().slice(0, 19)}.json`\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  \n  URL.revokeObjectURL(url)\n}
    : [35;1m        ^[0m
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./lib/video-preloader-debug.ts
./components/video-preloader-debug-panel.tsx
./components/create/template-gallery.tsx
./components/create/create-content.tsx
./components/create/create-page-client.tsx
./app/(main)/create/page.tsx
 GET /create?tool=discover 500 in 1645ms
